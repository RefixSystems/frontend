"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[9533],{98954:(e,s,t)=>{t.d(s,{A:()=>v});var a=t(65043),r=t(71094),l=t(53519),n=t(61072),o=t(64196),d=t(78602),i=t(14282),c=t(49804),u=t(60184),x=t(3825),m=t(92157),h=t.n(m),p=t(13441),g=(t(39585),t(36653)),j=t(70579);const v=e=>{const{color:s}=(0,g.D)(),t=(0,a.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),m=(0,a.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:v,getTableBodyProps:C,headerGroups:f,prepareRow:A,page:y}=(0,r.useTable)({columns:t,data:m,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(l.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(n.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...v(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:f.map(((e,s)=>(0,a.createElement)("tr",{...e.getHeaderGroupProps(),key:s},e.headers.map(((e,s)=>(0,a.createElement)("th",{...e.getHeaderProps(),key:s,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(u.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...C(),children:y.length>0?y.map(((s,t)=>(A(s),(0,a.createElement)("tr",{...s.getRowProps(),key:t},s.cells.map(((s,r)=>{const l="action"===s.column.id||"localShop"===s.column.id||"serviceCenter"===s.column.id||"ourServices"===s.column.id||"addInCarousel"===s.column.id;return(0,a.createElement)("td",{...s.getCellProps(),key:r,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:t<=e.count-1?"#cfd1d1":""}},l||s.value?s.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:t.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(y.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(h(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(x.dnY,{})}),nextLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(x.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(i.A,{style:{backgroundColor:s,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(c.o_z,{size:14})}),(0,j.jsx)(i.A,{style:{backgroundColor:s,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(c.hdn,{size:14})})]})]})]})})})}},19533:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var a=t(65043),r=t(14282),l=t(53519),n=t(61072),o=t(78602),d=t(27417),i=t(25284),c=t(24522),u=t(98954),x=t(5669),m=t(31462),h=t(63401),p=t(60184),g=t(36017),j=t(6720),v=t(73216),C=t(32479),f=t(39110),A=t(2519),y=t(17962),N=t(36653),w=t(31121),S=t(85959),b=t(33056),P=t(70579);const k=()=>{const{color:e}=(0,N.D)(),[s,t]=(0,a.useState)([]),[k,I]=(0,a.useState)(1),[R,H]=(0,a.useState)(1),[L,E]=(0,a.useState)(1),[T,O]=(0,a.useState)(1),[D,M]=(0,a.useState)(),[_,F]=(0,a.useState)(""),[z,U]=(0,a.useState)(""),[W,B]=(0,a.useState)(!1),{id:G}=(0,v.g)(),[K,Y]=(0,a.useState)(null),[q,J]=(0,a.useState)(!1),[V,Q]=(0,a.useState)(""),[X,Z]=(0,a.useState)(!1),[$,ee]=(0,a.useState)(""),[se,te]=(0,a.useState)(!1),[ae,re]=(0,a.useState)(!1),[le,ne]=(0,a.useState)(!1),[oe,de]=(0,a.useState)(0),[ie,ce]=(0,a.useState)(!1),ue=e=>(0,w.GP)(new Date(e),"dd-MMM-yyyy h:mm a"),xe=(0,C.L)(),me=(0,b.O)(),{data:he,refetch:pe,isLoading:ge,isError:je,error:ve}=(0,x.D$)({page:k,search:_,id:G,role:xe,phoneNumber:me}),[Ce]=(0,x.O_)(),[fe]=(0,x.Lx)();(0,a.useEffect)((()=>{he&&he.data&&(t(he.data),H(he.pagination.startIndex),I(k),M(he.pagination.totalItems),E(he.pagination.endIndex),O(he.pagination.totalPages),te(he.moduleAccess.fullAccess),re(he.moduleAccess.read),de(he.productReviewCount)),je&&500===(null===ve||void 0===ve?void 0:ve.status)?ce(!0):ce(!1)}),[he,k,xe,ve,je]);const Ae=()=>{B(!0),F(z),pe({page:k,search:z}).then((()=>{B(!1)}))},ye=()=>{J(!1),Y(null),Q("")},Ne=[{Header:"ID",accessor:"s_no"},{Header:"Profile Image",accessor:"profileImage",Cell:e=>{const s=e.value;return s?(0,P.jsx)("img",{src:s,alt:"Profile",style:{width:"50px",height:"50px",borderRadius:"100%"}}):(0,P.jsx)(y.qnL,{size:50})}},{Header:"Media",accessor:"images",Cell:e=>{const s=e.value;return(0,P.jsx)("div",{style:{display:"flex",alignItems:"center",overflowX:"auto"},children:Array.isArray(s)&&s.length>0?s.map(((e,s)=>e.endsWith(".mp4")||e.endsWith(".avi")||e.endsWith(".mov")||e.endsWith(".mkv")?(0,P.jsxs)("video",{width:50,height:50,controls:!0,style:{marginRight:"5px",objectFit:"cover"},children:[(0,P.jsx)("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]},s):(0,P.jsx)("img",{src:e,alt:"Media ".concat(s),style:{width:"50px",height:"50px",marginRight:"5px",objectFit:"cover"}},s))):(0,P.jsx)(j.lJy,{size:50})})}},{Header:"User Name",accessor:"userName"},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Product Id",accessor:"productId"},{Header:"Product Type",accessor:"productType"},{Header:"Review",accessor:"review"},{Header:"Rating",accessor:"rating"},{Header:"Status",accessor:"status"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:s}=e;return ue(s)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:s}=e;return ue(s)}}];return se&&Ne.push({Header:"ACTIONS",accessor:"action",Cell:e=>{const t=e.row.original._id;return(0,P.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,P.jsx)(r.A,{variant:"warning",onClick:()=>(e=>{const t=s.find((s=>s._id===e));t&&(Y(e),Q(t.status),J(!0))})(t),children:(0,P.jsx)(p.uO9,{})}),(0,P.jsx)(r.A,{variant:"danger",className:"ms-2",onClick:()=>(e=>{ee(e),Z(!0)})(t),children:(0,P.jsx)(j.b6i,{})})]})}}),(0,P.jsxs)("div",{children:[ge?(0,P.jsx)(f.A,{}):(0,P.jsx)(P.Fragment,{children:ie?(0,P.jsx)(S.A,{}):ae?(0,P.jsxs)(l.A,{fluid:!0,className:"mt-3 ",children:[(0,P.jsx)(n.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,P.jsx)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:(0,P.jsx)("h4",{className:"fw-bold",children:"Product Review"})})}),(0,P.jsxs)(n.A,{className:"boxShadow p-3 mb-4  d-flex  flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,P.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,P.jsxs)("div",{className:"input-group",children:[(0,P.jsx)("span",{className:"input-group-text",children:(0,P.jsx)(m.YQq,{})}),(0,P.jsx)("input",{type:"text",placeholder:"Search Productreview...",className:"form-control",value:z,onChange:e=>U(e.target.value),onKeyPress:e=>{"Enter"===e.key&&Ae()}}),z&&(0,P.jsx)("span",{className:"input-group-text",onClick:()=>{U(""),F("")},children:(0,P.jsx)(m.IeJ,{})})]})}),(0,P.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,P.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:Ae,disabled:W||""===z,children:W?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,P.jsx)(n.A,{className:"boxShadow p-4 mb-4",children:(0,P.jsx)(u.A,{COLUMNS:Ne,MOCK_DATA:s,currentPage:k,startIndex:R,endIndex:L,setCurrentPage:I,totalItems:D,totalPages:T,count:oe})}),(0,P.jsx)(g.A,{YES:async()=>{try{const t=await fe({id:$,role:xe});var e,s;if(Z(!1),ee(""),null!==t&&void 0!==t&&t.data)h.oR.success(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message,{autoClose:1e3}),pe();else h.oR.error(null===t||void 0===t||null===(s=t.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(ve){console.error(ve)}},DELETESTATE:X,ONCLICK:()=>{Z(!1)},DESCRIPTION:"Are you sure you want to delete this Review",DELETETITLE:"Review"})]}):(0,P.jsx)(A.A,{})}),(0,P.jsxs)(i.A,{show:q,onHide:ye,centered:!0,children:[(0,P.jsx)(i.A.Header,{closeButton:!0,children:(0,P.jsx)(i.A.Title,{children:"Edit Review"})}),(0,P.jsx)(i.A.Body,{children:(0,P.jsx)(c.A,{children:(0,P.jsxs)(c.A.Group,{controlId:"exampleForm.ControlSelect1",children:[(0,P.jsx)(c.A.Label,{children:"Status"}),(0,P.jsxs)(c.A.Select,{value:V,onChange:e=>{Q(e.target.value)},placeholder:"Enter the status here",children:[(0,P.jsx)("option",{value:"Pending",children:"Pending"}),(0,P.jsx)("option",{value:"Approved",children:"Approved"}),(0,P.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})})}),(0,P.jsxs)(i.A.Footer,{children:[(0,P.jsx)(r.A,{variant:"secondary",onClick:ye,children:"Cancel"}),(0,P.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(V){ne(!0);try{const t=await Ce({id:K,role:xe,data:{status:V}});var e,s;if(null!==t&&void 0!==t&&t.data)h.oR.success(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message,{autoClose:1e3}),ye(),pe();else h.oR.error(null===t||void 0===t||null===(s=t.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(ve){console.error(ve)}finally{ne(!1)}}else h.oR.error("Please fill the fields",{autoClose:1e3})},disabled:le,children:le?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=9533.2e744f0f.chunk.js.map