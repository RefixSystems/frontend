"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[586],{93779:(e,l,a)=>{a.d(l,{A:()=>i});a(65043);var s=a(94281),r=a(24522),o=a(75200),n=a(36653),t=a(63401),d=a(70579);const i=e=>{let{setFieldValue:l=(()=>{}),touched:a={},errors:i={},labelText:m="Upload Image",nameText:c="image",accepts:p={"image/*":[".png",".jpeg",".jpg",".svg",".webp",".gif"]},handleFileChange:x=null,disabled:h=!1}=e;const{getRootProps:u,getInputProps:f,isDragActive:j}=(0,s.VB)({accept:p||"",onDrop:e=>{const a=e[0],s=a.name.split(".").pop().toLowerCase();p["image/*"].map((e=>e.replace(".","").toLowerCase().trim())).includes(s)?(l(c,a),x&&x(a)):t.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},onDropRejected:e=>{t.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},disabled:h}),{color:g}=(0,n.D)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(r.A.Group,{children:[(0,d.jsxs)(r.A.Label,{children:[m," ",(0,d.jsx)("span",{className:"text-danger"})]}),(0,d.jsxs)("div",{...u(),className:"form-control dropzone ".concat(j?"active":""," ").concat(a[c]&&i[c]?"is-invalid":""),style:{border:"2px dashed #ced4da",padding:"20px",textAlign:"center",borderRadius:"5px",cursor:h?"not-allowed":"pointer",background:j?"#f8f9fa":"transparent"},children:[(0,d.jsx)("input",{...f(),disabled:h}),j?(0,d.jsx)("p",{children:"Drop the files here..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.YoE,{size:50,color:g}),(0,d.jsx)("p",{children:"Drag & drop an image here, or click to select one"})]})]}),a[c]&&i[c]&&(0,d.jsx)("p",{className:"text-danger",children:i[c]})]})})}},24796:(e,l,a)=>{a.d(l,{A:()=>r});a(65043);var s=a(70579);const r=e=>{let{image:l,valueImage:a}=e;const r=l&&(!Array.isArray(l)||l.length>0),o=a!==l?l:l instanceof File?URL.createObjectURL(l):l;return(0,s.jsx)(s.Fragment,{children:r?(0,s.jsx)("img",{src:o,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,s.jsx)(s.Fragment,{})})}},13256:(e,l,a)=>{a.d(l,{A:()=>o});a(65043);var s=a(24522),r=a(70579);const o=e=>{const{label:l,name:a,id:o,type:n,placeholder:t,htmlFor:d,lableClassName:i,value:m,onChange:c,onBlur:p,disabled:x,className:h,lg:u,md:f,xxl:j,xl:g,sm:b,validation:N,star:y,ref:A,accept:v}=e;return(0,r.jsxs)(s.A.Group,{children:[(0,r.jsxs)(s.A.Label,{htmlFor:d,className:i,children:[l,(0,r.jsx)("span",{className:"text-danger ".concat("none"===y?"d-".concat(y):""),children:"*"})]}),(0,r.jsx)(s.A.Control,{name:a,id:o,type:n,placeholder:t,value:m,onChange:c,onBlur:p,disabled:x,className:h,lg:u,md:f,xxl:j,xl:g,sm:b,ref:A,accept:null!==v&&void 0!==v?v:""}),N]})}},60586:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var s=a(65043),r=a(53519),o=a(24522),n=a(61072),t=a(78602),d=a(1433),i=a(47994),m=a(73216),c=a(3825),p=a(4207),x=(a(13256),a(63401)),h=a(91916),u=a(1026),f=a(13624),j=a(32479),g=a(60184),b=a(867),N=a(24796),y=a(93779),A=a(70579);const v=()=>{const[e,l]=(0,s.useState)(""),[a,v]=(0,s.useState)(""),[w,O]=(0,s.useState)(""),[E,C]=(0,s.useState)(""),[B,P]=(0,s.useState)(""),[F,I]=(0,s.useState)([]),[S,L]=(0,s.useState)([]),[q,D]=(0,s.useState)(""),[k,R]=(0,s.useState)(""),T=((0,s.useRef)(null),(0,j.L)()),[V,{isLoading:G}]=(0,h.iv)(),{data:Y}=(0,f.sF)({role:T}),[_,z]=(0,s.useState)([]),[Z,U]=(0,s.useState)(!1);(0,s.useEffect)((()=>{Y&&Y.data&&(z(Y.data),Y.data.includes(E)||C(""))}),[Y,E]);const $=(0,m.Zp)(),X=()=>{$("/admin/employee")},H=async()=>{try{const r=new FormData;r.append("nameOfEmployee",a),r.append("dateOfBirth",w),r.append("roleOfEmployee",E),r.append("phoneNumber",B),r.append("image",F),r.append("idProof",S),r.append("email",q),r.append("password",k);const o=await V({data:r,role:T});var e,s;if(null!==o&&void 0!==o&&o.data)x.oR.success(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.message,{autoClose:1e3}),setTimeout((()=>$("/admin/employee")),3e3),l(""),v(""),O(""),C(""),P(""),I([]),L([]),D(""),R("");else x.oR.error(null===o||void 0===o||null===(s=o.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(r){console.error(r)}},J=()=>{U(!Z)};return(0,A.jsx)("div",{children:(0,A.jsx)(r.A,{fluid:!0,className:"",children:(0,A.jsx)(b.l1,{initialValues:{nameOfEmployee:"",dateOfBirth:"",roleOfEmployee:"",photo:null,idProof:null,phoneNumber:"",email:"",password:""},validationSchema:u.m,onSubmit:H,children:e=>{let{values:l,errors:s,touched:r,handleChange:m,handleBlur:x,handleSubmit:h,isSubmitting:u,setFieldValue:f}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(o.A,{children:[(0,A.jsxs)(n.A,{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,A.jsxs)(t.A,{className:"d-flex justify-content-start mb-3 mt-3",children:[(0,A.jsx)("h4",{onClick:X,className:"mx-2",children:(0,A.jsx)(c.nXt,{})}),(0,A.jsx)("h4",{children:"Add Employee"})]}),(0,A.jsxs)(t.A,{className:"d-sm-none d-none d-md-none d-lg-flex d-xxl-flex d-xl-flex flex-row justify-content-end align-items-center",children:[(0,A.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:X,label:"Cancel"}),(0,A.jsx)(p.A,{className:"m-1",label:"Save",type:"submit",isLoading:G,loaderVariant:"info",disabled:u,onClick:""===a||""===w||""===E||""===B||""===k||""===F||""===S||r.nameOfEmployee&&s.nameOfEmployee||r.dateOfBirth&&s.dateOfBirth||r.roleOfEmployee&&s.roleOfEmployee||r.phoneNumber&&s.phoneNumber||r.password&&s.password||r.photo&&s.photo||r.idProof&&s.idProof?h:H})]})]}),(0,A.jsxs)(n.A,{className:"d-flex flex-wrap flex-lg-row flex-xxl-row flex-xl-row flex-column flex-md-column flex-sm-column  mt-4",children:[(0,A.jsxs)(t.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,A.jsx)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsxs)(o.A.Group,{controlId:"nameOfEmployee",children:[(0,A.jsxs)(o.A.Label,{children:["Name Of Employee"," ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(b.D0,{type:"text",name:"nameOfEmployee",placeholder:"Enter the name of employee here",className:"form-control ".concat(r.nameOfEmployee&&s.nameOfEmployee?"is-invalid":""),onChange:e=>{v(e.target.value),m(e)},onBlur:x}),r.nameOfEmployee&&s.nameOfEmployee?(0,A.jsx)("p",{className:"text-danger",children:s.nameOfEmployee}):null]})}),(0,A.jsx)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsxs)(d.A,{controlId:"formDob",children:[(0,A.jsxs)(o.A.Label,{children:["Date of Birth ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(b.D0,{label:"Date Of Birth",type:"date",name:"dateOfBirth",className:"form-control ".concat(r.dateOfBirth&&s.dateOfBirth?"is-invalid":""),onChange:e=>{O(e.target.value),m(e)},onBlur:x}),r.dateOfBirth&&s.dateOfBirth?(0,A.jsx)("p",{className:"text-danger",children:s.dateOfBirth}):""]})}),(0,A.jsx)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsxs)(o.A.Group,{controlId:"roleOfEmployee",children:[(0,A.jsxs)(o.A.Label,{children:["Role Of Employee"," ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(o.A.Select,{name:"roleOfEmployee",value:E,placeholder:"Enter the roleof employee here",onChange:e=>{C(e.target.value),m(e)},onBlur:x,className:"form-control ".concat(r.roleOfEmployee&&s.roleOfEmployee?"is-invalid":""),children:_.map((e=>(0,A.jsx)("option",{value:e,children:e},e)))}),r.roleOfEmployee&&s.roleOfEmployee?(0,A.jsx)("p",{className:"text-danger",children:s.roleOfEmployee}):null]})}),(0,A.jsxs)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:[(0,A.jsx)(y.A,{labelText:"Photo",nameText:"photo",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},touched:r,errors:s,setFieldValue:f,handleFileChange:e=>{(e=>{I(e)})(e)}}),(0,A.jsx)("div",{children:(0,A.jsx)("small",{className:"text-muted",children:"Accepted file types: .jpg , .jpeg, .png, .svg, .webp"})}),(0,A.jsx)(N.A,{image:F,valueImage:l.photo})]})]}),(0,A.jsxs)(t.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,A.jsxs)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:[(0,A.jsx)(y.A,{labelText:"Id Proof",nameText:"idProof",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},touched:r,errors:s,setFieldValue:f,handleFileChange:e=>{(e=>{L(e)})(e)}}),(0,A.jsx)("div",{children:(0,A.jsx)("small",{className:"text-muted",children:"Accepted file types: .jpg , .jpeg, .png, .svg, .webp"})}),(0,A.jsx)(N.A,{image:S,valueImage:l.idProof})]}),(0,A.jsxs)(o.A.Group,{controlId:"formPhoneNumber",children:[(0,A.jsxs)(o.A.Label,{children:["Phone Number ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsxs)(i.A,{children:[(0,A.jsx)(i.A.Text,{children:"+91"}),(0,A.jsx)(b.D0,{label:"Phone Number",type:"text",name:"phoneNumber",maxLength:10,value:B,placeholder:"Enter the phone number here",className:"form-control ".concat(r.phoneNumber&&s.phoneNumber?"is-invalid":""),onChange:e=>{const l=e.target.value.replace(/[^0-9]/g,"").slice(0,10);P(l),m(e),f(l)},onBlur:x})]}),r.phoneNumber&&s.phoneNumber?(0,A.jsx)("p",{className:"text-danger",children:s.phoneNumber}):""]}),(0,A.jsx)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsxs)(o.A.Group,{controlId:"formEmail",children:[(0,A.jsx)(o.A.Label,{children:"Email"}),(0,A.jsx)(b.D0,{label:"Email",type:"",name:"email",placeholder:"Enter the email here",className:"form-control",onChange:e=>{D(e.target.value),m(e)},onBlur:x})]})}),(0,A.jsx)(t.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsxs)(o.A.Group,{controlId:"formPassword",children:[(0,A.jsxs)(o.A.Label,{children:["Password ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsxs)(i.A,{children:[(0,A.jsx)(b.D0,{label:"Password",type:Z?"text":"password",name:"password",placeholder:"Enter the password here",className:"form-control ".concat(r.password&&s.password?"is-invalid":""),onChange:e=>{R(e.target.value),m(e)},onBlur:x}),(0,A.jsx)(i.A.Text,{onClick:J,style:{cursor:"pointer"},children:Z?(0,A.jsx)(g.Ny1,{}):(0,A.jsx)(g.mx3,{})})]}),s.password&&r.password?(0,A.jsx)("p",{className:"text-danger",children:s.password}):null]})})]})]}),(0,A.jsxs)(n.A,{className:"d-sm-flex d-flex d-md-flex d-lg-none d-xxl-none d-xl-none flex-row justify-content-between align-items-center",children:[(0,A.jsx)(t.A,{className:"d-flex justify-content-start align-items-center",children:(0,A.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:X,label:"Cancel"})}),(0,A.jsx)(t.A,{className:"d-flex justify-content-end align-items-center",children:(0,A.jsx)(p.A,{className:"m-1",label:"Save",type:"submit",isLoading:G,loaderVariant:"info",disabled:u,onClick:""===a||""===w||""===E||""===B||""===q||""===k||""===F||""===S||r.nameOfEmployee&&s.nameOfEmployee||r.dateOfBirth&&s.dateOfBirth||r.roleOfEmployee&&s.roleOfEmployee||r.phoneNumber&&s.phoneNumber||r.email&&s.email||r.password&&s.password||r.photo&&s.photo||r.idProof&&s.idProof?h:H})})]})]})})}})})})}},1026:(e,l,a)=>{a.d(l,{m:()=>r});var s=a(80899);const r=s.Ik().shape({employeeId:s.Yj().required("Employee Id is required...!"),nameOfEmployee:s.Yj().required("Name Of Employee is required...!"),dateOfBirth:s.p6().required("Date Of Birth is required...!").nullable(),roleOfEmployee:s.Yj().required("Role Of Employee is required...!"),phoneNumber:s.Yj().matches(/^[6-9][0-9]{9}$/,"Invalid phone number format").required("Phone Number is required"),email:s.Yj().transform((e=>e.trim())).matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Invalid email format"),password:s.Yj().transform((e=>e.trim())).required("Password is required...!").min(8,"Password should be at least 8 characters"),photo:s.gl().required("Photo is required...!"),idProof:s.gl().required("Id Proof is required...!")})}}]);
//# sourceMappingURL=586.6fee20b7.chunk.js.map