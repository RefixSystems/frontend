"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[6922],{93779:(e,a,l)=>{l.d(a,{A:()=>d});l(65043);var t=l(94281),s=l(24522),i=l(75200),n=l(36653),r=l(63401),o=l(70579);const d=e=>{let{setFieldValue:a=(()=>{}),touched:l={},errors:d={},labelText:c="Upload Image",nameText:m="image",accepts:p={"image/*":[".png",".jpeg",".jpg",".svg",".webp",".gif"]},handleFileChange:x=null,disabled:u=!1}=e;const{getRootProps:h,getInputProps:g,isDragActive:j}=(0,t.VB)({accept:p||"",onDrop:e=>{const l=e[0],t=l.name.split(".").pop().toLowerCase();p["image/*"].map((e=>e.replace(".","").toLowerCase().trim())).includes(t)?(a(m,l),x&&x(l)):r.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},onDropRejected:e=>{r.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},disabled:u}),{color:v}=(0,n.D)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.A.Group,{children:[(0,o.jsxs)(s.A.Label,{children:[c," ",(0,o.jsx)("span",{className:"text-danger"})]}),(0,o.jsxs)("div",{...h(),className:"form-control dropzone ".concat(j?"active":""," ").concat(l[m]&&d[m]?"is-invalid":""),style:{border:"2px dashed #ced4da",padding:"20px",textAlign:"center",borderRadius:"5px",cursor:u?"not-allowed":"pointer",background:j?"#f8f9fa":"transparent"},children:[(0,o.jsx)("input",{...g(),disabled:u}),j?(0,o.jsx)("p",{children:"Drop the files here..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.YoE,{size:50,color:v}),(0,o.jsx)("p",{children:"Drag & drop an image here, or click to select one"})]})]}),l[m]&&d[m]&&(0,o.jsx)("p",{className:"text-danger",children:d[m]})]})})}},24796:(e,a,l)=>{l.d(a,{A:()=>s});l(65043);var t=l(70579);const s=e=>{let{image:a,valueImage:l}=e;const s=a&&(!Array.isArray(a)||a.length>0),i=l!==a?a:a instanceof File?URL.createObjectURL(a):a;return(0,t.jsx)(t.Fragment,{children:s?(0,t.jsx)("img",{src:i,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,t.jsx)(t.Fragment,{})})}},97355:(e,a,l)=>{l.d(a,{A:()=>i});l(65043);var t=l(24522),s=l(70579);const i=e=>{const{label:a,rows:l,type:i,name:n,value:r,onChange:o,htmlFor:d,validation:c,className:m,lg:p,md:x,xxl:u,xl:h,sm:g,placeholder:j,star:v}=e;return(0,s.jsxs)(t.A.Group,{controlId:"formBasicTextArea",children:[(0,s.jsxs)(t.A.Label,{htmlFor:d,children:[a,(0,s.jsx)("span",{className:"text-danger ".concat("none"===v?"d-".concat(v):""),children:"*"})," "]}),(0,s.jsx)(t.A.Control,{as:"textarea",name:n,rows:l,value:r,type:i,placeholder:j,onChange:o,className:m,lg:p,md:x,xxl:u,xl:h,sm:g}),c]})}},13256:(e,a,l)=>{l.d(a,{A:()=>i});l(65043);var t=l(24522),s=l(70579);const i=e=>{const{label:a,name:l,id:i,type:n,placeholder:r,htmlFor:o,lableClassName:d,value:c,onChange:m,onBlur:p,disabled:x,className:u,lg:h,md:g,xxl:j,xl:v,sm:b,validation:f,star:A,ref:N,accept:C}=e;return(0,s.jsxs)(t.A.Group,{children:[(0,s.jsxs)(t.A.Label,{htmlFor:o,className:d,children:[a,(0,s.jsx)("span",{className:"text-danger ".concat("none"===A?"d-".concat(A):""),children:"*"})]}),(0,s.jsx)(t.A.Control,{name:l,id:i,type:n,placeholder:r,value:c,onChange:m,onBlur:p,disabled:x,className:u,lg:h,md:g,xxl:j,xl:v,sm:b,ref:N,accept:null!==C&&void 0!==C?C:""}),f]})}},83096:(e,a,l)=>{l.r(a),l.d(a,{default:()=>N});var t=l(867),s=l(65043),i=l(53519),n=l(24522),r=l(61072),o=l(78602),d=l(73216),c=l(3825),m=l(53336),p=l(4207),x=l(13256),u=l(97355),h=l(63401),g=l(21476),j=l(32479),v=l(2364),b=l(24796),f=l(93779),A=l(70579);const N=()=>{var e;const[a,l]=(0,s.useState)(""),[N,C]=(0,s.useState)(""),[w,D]=(0,s.useState)(""),[y,S]=(0,s.useState)(""),[T,F]=(0,s.useState)(""),[q,k]=(0,s.useState)(""),[R,L]=(0,s.useState)(""),[I,B]=(0,s.useState)(""),[E,O]=((0,s.useRef)(null),(0,s.useState)([])),G=(0,j.L)(),[Y,{isLoading:V}]=(0,g.wS)(),{data:z}=(0,g.y6)(),_=(0,d.Zp)(),P=()=>{_("/admin/coupon")},U=(null===z||void 0===z||null===(e=z.data)||void 0===e?void 0:e.map((e=>({value:e,label:e}))))||[],W=e=>{const a=new Date(e),l=("0"+a.getDate()).slice(-2),t=("0"+(a.getMonth()+1)).slice(-2),s=a.getFullYear();return"".concat(l,"/").concat(t,"/").concat(s)},M=async()=>{try{const s=R?W(R):null,i=q?W(q):null,n=new FormData;n.append("image",I),n.append("title",a),n.append("limit",N),n.append("code",w),n.append("value",y),n.append("description",T),n.append("endDate",s),n.append("startDate",i),n.append("role",G),n.append("applicable",E.map((e=>e.value)).join(","));const r=await Y({data:n,role:G});var e,t;if(null!==r&&void 0!==r&&r.data)h.oR.success(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.message,{autoClose:1e3}),setTimeout((()=>_("/admin/coupon")),3e3),B(""),l(""),C(""),D(""),S(""),F(""),k(""),L(""),O([]);else h.oR.error(null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.data.error,{autoClose:1e3})}catch(s){console.error(s)}};return(0,A.jsx)("div",{children:(0,A.jsx)(i.A,{fluid:!0,className:"",children:(0,A.jsx)(t.l1,{initialValues:{image:"",title:"",limit:"",code:"",value:"",description:"",startDate:"",endDate:"",applicableTo:""},validationSchema:m.u,onSubmit:M,children:e=>{let{values:t,errors:s,touched:i,handleChange:d,handleBlur:m,handleSubmit:h,isSubmitting:g,setFieldValue:j}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(n.A,{children:[(0,A.jsxs)(r.A,{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,A.jsxs)(o.A,{className:"d-flex justify-content-start mb-3 mt-3",children:[(0,A.jsx)("h4",{onClick:P,className:"mx-2",children:(0,A.jsx)(c.nXt,{})}),(0,A.jsx)("h4",{children:"Add Coupon"})]}),(0,A.jsxs)(o.A,{className:"d-sm-none d-none d-md-none d-lg-flex d-xxl-flex d-xl-flex flex-row justify-content-end align-items-center",children:[(0,A.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:P,label:"Cancel"}),(0,A.jsx)(p.A,{className:"m-1",label:"Save",type:"submit",isLoading:V,loaderVariant:"info",disabled:g,onClick:""===I||""===a||""===N||""===w||""===y||""===T||""===E||""===q||""===T||""===R||i.image&&s.image||i.title&&s.title||i.limit&&s.limit||i.applicableTo&&s.applicableTo||i.code&&s.code||i.value&&s.value||i.description&&s.description||i.startDate&&s.startDate||i.endDate&&s.endDate?h:M})]})]}),(0,A.jsxs)(r.A,{className:"d-flex flex-wrap flex-lg-row flex-xxl-row flex-xl-row flex-column flex-md-column flex-sm-column  mt-4",children:[(0,A.jsxs)(o.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"Title",type:"",name:"title",placeholder:"Enter the title here",className:"form-control ".concat(i.title&&s.title?"is-invalid":""),onChange:e=>{l(e.target.value),d(e)},onBlur:m,validation:i.title&&s.title?(0,A.jsx)("p",{className:"text-danger",children:s.title}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"Limit",type:"",name:"limit",placeholder:"Enter the limit here",className:"form-control ".concat(i.limit&&s.limit?"is-invalid":""),onChange:e=>{C(e.target.value),d(e)},onBlur:m,validation:i.limit&&s.limit?(0,A.jsx)("p",{className:"text-danger",children:s.limit}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"Code",type:"",name:"code",placeholder:"Enter the code here",className:"form-control ".concat(i.code&&s.code?"is-invalid":""),onChange:e=>{const a=e.target.value.toUpperCase();D(a),d(e)},onBlur:m,value:w,validation:i.code&&s.code?(0,A.jsx)("p",{className:"text-danger",children:s.code}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"Value (\u20b9)",type:"",name:"value",placeholder:"Enter the value here",className:"form-control ".concat(i.value&&s.value?"is-invalid":""),onChange:e=>{S(e.target.value),d(e)},onBlur:m,validation:i.value&&s.value?(0,A.jsx)("p",{className:"text-danger",children:s.value}):""})}),(0,A.jsxs)(o.A,{className:"m-2",lg:"12",children:[(0,A.jsxs)("label",{htmlFor:"applicableToSelect1",className:"form-label",children:["Applicable To",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(v.Ay,{id:"applicableToSelect1",isMulti:!0,options:U,value:t.applicableTo,onChange:e=>{(e=>{O(e)})(e),j("applicableTo",e)},className:"basic-multi-select ".concat(i.applicableTo&&s.applicableTo?"is-invalid":""),classNamePrefix:"select",placeholder:"Select Applicable To"}),i.applicableTo&&s.applicableTo&&(0,A.jsx)("p",{className:"text-danger",children:s.applicableTo})]})]}),(0,A.jsxs)(o.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,A.jsxs)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:[(0,A.jsx)(f.A,{labelText:"Image",nameText:"image",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},touched:i,errors:s,setFieldValue:j,handleFileChange:e=>{(e=>{B(e)})(e)}}),(0,A.jsx)("div",{children:(0,A.jsxs)("small",{className:"text-muted",children:["Accepted file types: .jpg , .jpeg, .png, .svg, .webp"," "]})}),(0,A.jsx)("div",{children:(0,A.jsxs)("small",{className:"",children:["Dimensions should be 1:1"," "]})}),(0,A.jsx)(b.A,{image:I,valueImage:t.image})]}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"Start Date",type:"date",name:"startDate",className:"form-control ".concat(i.startDate&&s.startDate?"is-invalid":""),onChange:e=>{k(e.target.value),d(e)},onBlur:m,validation:i.startDate&&s.startDate?(0,A.jsx)("p",{className:"text-danger",children:s.startDate}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"End Date",type:"date",name:"endDate",className:"form-control ".concat(i.endDate&&s.endDate?"is-invalid":""),onChange:e=>{L(e.target.value),d(e)},onBlur:m,validation:i.endDate&&s.endDate?(0,A.jsx)("p",{className:"text-danger",children:s.endDate}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(u.A,{label:"Description",type:"textarea",name:"description",placeholder:"Enter the description here",className:"form-control ".concat(i.description&&s.description?"is-invalid":""),onChange:e=>{F(e.target.value),d(e)},onBlur:m,validation:i.description&&s.description?(0,A.jsx)("p",{className:"text-danger",children:s.description}):""})})]})]}),(0,A.jsxs)(r.A,{className:"d-sm-flex d-flex d-md-flex d-lg-none d-xxl-none d-xl-none flex-row justify-content-between align-items-center",children:[(0,A.jsx)(o.A,{className:"d-flex justify-content-start align-items-center",children:(0,A.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:P,label:"Cancel"})}),(0,A.jsx)(o.A,{className:"d-flex justify-content-end align-items-center",children:(0,A.jsx)(p.A,{className:"m-1",label:"Save",type:"submit",isLoading:V,loaderVariant:"info",disabled:g,onClick:""===I||""===a||""===N||""===w||""===y||""===T||""===E||""===q||""===T||""===R||i.image&&s.image||i.title&&s.title||i.limit&&s.limit||i.applicableTo&&s.applicableTo||i.code&&s.code||i.value&&s.value||i.description&&s.description||i.startDate&&s.startDate||i.endDate&&s.endDate?h:M})})]})]})})}})})})}},53336:(e,a,l)=>{l.d(a,{u:()=>s});var t=l(80899);const s=t.Ik().shape({image:t.Yj().required("Image  is required"),title:t.Yj().required("Title  is required"),limit:t.ai().required("Limit  is required"),code:t.Yj().required("Code is required"),status:t.Yj().required("Status is required"),value:t.Yj().required("Value is required"),description:t.Yj().required("Description is required"),startDate:t.Yj().required("Start Date is required"),endDate:t.Yj().required("End Date required"),applicableTo:t.gl().required("Applicable To is required")})},83342:(e,a,l)=>{l.d(a,{A:()=>t});var t={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},2364:(e,a,l)=>{l.d(a,{Ay:()=>r});var t=l(9817),s=l(58168),i=l(65043),n=l(61404),r=(l(35513),l(97950),l(11322),(0,i.forwardRef)((function(e,a){var l=(0,t.u)(e);return i.createElement(n.S,(0,s.A)({ref:a},l))})))},57528:(e,a,l)=>{function t(e,a){return a||(a=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(a)}}))}l.d(a,{A:()=>t})}}]);
//# sourceMappingURL=6922.a0062c07.chunk.js.map