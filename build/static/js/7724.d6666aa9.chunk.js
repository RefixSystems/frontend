"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[7724],{39110:(e,r,s)=>{s.d(r,{A:()=>o});s(65043);var a=s(53519),t=(s(36386),s(79340)),l=s(70579);const o=()=>(0,l.jsxs)(a.A,{className:"vh-100 d-flex flex-column justify-content-center align-items-center",children:[(0,l.jsx)("img",{src:t,alt:"Loading...",style:{width:"150px",height:"150px"}}),(0,l.jsx)("div",{className:"text mt-3",children:"Loading ..."})]})},8962:(e,r,s)=>{s.d(r,{A:()=>c});var a=s(65043),t=s(71094),l=s(53519),o=s(61072),n=s(64196),d=s(60184),i=(s(39585),s(70579));const c=e=>{const r=(0,a.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),s=(0,a.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:c,getTableBodyProps:h,headerGroups:x,prepareRow:u,page:m}=(0,t.useTable)({columns:r,data:s,autoResetWidth:!1},t.useGlobalFilter,t.useSortBy,t.usePagination);return(0,i.jsx)("div",{children:(0,i.jsx)(l.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,i.jsx)(o.A,{className:"d-flex  flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:(0,i.jsxs)(n.A,{className:"justify-content-center align-items-center",striped:!0,bordered:!0,hover:!0,...c(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,i.jsx)("thead",{children:x.map(((e,r)=>(0,a.createElement)("tr",{...e.getHeaderGroupProps(),key:r},e.headers.map(((e,r)=>(0,a.createElement)("th",{...e.getHeaderProps(),key:r,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:r=>{r.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,i.jsx)(i.Fragment,{children:e.render("Header")}):(0,i.jsxs)("div",{children:[e.render("Header"),(0,i.jsx)(d.MjW,{className:"mx-2"})]})))))))}),(0,i.jsx)("tbody",{...h(),children:m.length>0?m.map(((e,r)=>(u(e),(0,a.createElement)("tr",{...e.getRowProps(),key:r},e.cells.map(((e,r)=>{const s="action"===e.column.id;return(0,a.createElement)("td",{...e.getCellProps(),key:r,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch"}},s||e.value?e.render("Cell"):"-")})))))):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:r.length,className:"text-center text-dark",children:"No Data Found"})})})]})})})})}},77724:(e,r,s)=>{s.r(r),s.d(r,{default:()=>S});var a=s(65043),t=s(14282),l=s(53519),o=s(61072),n=s(78602),d=s(25284),i=s(24522),c=s(27417),h=s(8962),x=s(35667),u=s(36017),m=s(6720),j=s(32479),p=s(39110),A=s(63401),g=s(36653),C=s(31121),b=s(60184),v=s(73216),f=s(2364),y=s(70579);const S=()=>{var e,r,s,S;const{color:N}=(0,g.D)(),[w,T]=(0,a.useState)([]),[L,k]=(0,a.useState)([]),[I,E]=(0,a.useState)(null),[B,G]=(0,a.useState)(!1),[H,D]=(0,a.useState)(""),[P,M]=(0,a.useState)(""),[R,O]=(0,a.useState)(""),[_,F]=(0,a.useState)(null),[z,U]=(0,a.useState)(""),[W,K]=(0,a.useState)(""),[q,Z]=(0,a.useState)(""),[Y,J]=(0,a.useState)(""),[Q,V]=(0,a.useState)(!1),[X,$]=(0,a.useState)(""),[ee,re]=(0,a.useState)(""),[se,ae]=(0,a.useState)(""),[te,le]=(0,a.useState)(""),[oe,ne]=(0,a.useState)(!1),[de,ie]=(0,a.useState)(!1),[ce,he]=(0,a.useState)({}),[xe,ue]=(0,a.useState)(!1),{id:me}=(0,v.g)(),je=me.startsWith(":")?me.slice(1):me,pe=(0,j.L)(),{data:Ae,isLoading:ge,refetch:Ce}=(0,x.TM)({id:je,role:pe}),{data:be}=(0,x.lM)({role:pe}),[ve]=(0,x.AA)(),[fe]=(0,x.tH)(),[ye]=(0,x.L2)(),[Se]=(0,x.zB)(),Ne=(0,v.Zp)();(0,a.useEffect)((()=>{Ae&&Ae.data&&(T(Ae.data.billDetails),E(Ae.data.userDetails),M(Ae.data.billId),O(Ae.data.orderId))}),[Ae,pe]),(0,a.useEffect)((()=>{be&&be.data&&k(be.data)}),[be,pe]);const we=()=>{ne(!1),$(""),re(""),ae(""),le("")},Te=[{Header:"ID",accessor:(e,r)=>r+1},{Header:"Description",accessor:"description"},{Header:"Component",accessor:"component"},{Header:"Labour Charger",accessor:"labourCharge"},{Header:"Service Charge",accessor:"serviceCharge"},{Header:"ACTIONS",accessor:"action",Cell:e=>{const r=e.row.original._id;return(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,y.jsx)(t.A,{variant:"warning",onClick:()=>(e=>{const r=w.find((r=>r._id===e));r&&(F(e),U(r.description),K(r.component),Z(r.labourCharge),J(r.serviceCharge),V(!0))})(r),children:(0,y.jsx)(b.uO9,{})}),(0,y.jsx)(t.A,{variant:"danger",className:"m-1 mx-2",onClick:()=>(e=>{D(e),G(!0)})(r),children:(0,y.jsx)(m.b6i,{})})]})}}];return(0,y.jsxs)("div",{children:[ge?(0,y.jsx)(p.A,{}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(l.A,{fluid:!0,className:"mt-3 reduced-width-row",children:[(0,y.jsx)(o.A,{className:"boxShadow p-4 mb-4",children:(0,y.jsxs)(n.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,y.jsx)(n.A,{className:"d-flex justify-content-start mb-3 mt-3",children:(0,y.jsx)("h4",{className:"fw-bold",children:"Bill Information"})}),(0,y.jsx)("div",{children:(0,y.jsxs)(t.A,{onClick:()=>{ie(!0)},style:{backgroundColor:N,border:"none"},className:"p-2 m-1",children:[(0,y.jsx)(b.OiG,{size:20}),(0,y.jsx)("span",{className:"d-none d-md-inline",children:" Add Bill"})]})})]})}),(0,y.jsxs)(o.A,{className:"boxShadow p-4 mb-4 mt-3",children:[(0,y.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Bill Summary"}),I&&(0,y.jsxs)(n.A,{children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Type:"})," ",I.type]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"User Name:"})," ",I.userName]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Address:"})," ",I.address]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Email:"})," ",I.email]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Phone Number:"})," ",I.phoneNumber]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Alternate PhoneNumber:"})," ",I.alternatePhoneNumber]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Request Id:"})," ",I.requestId]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Created At:"})," ",(Le=I.createdAt,(0,C.GP)(new Date(Le),"dd-MMM-yyyy h:mm a"))]})]}),(0,y.jsxs)(n.A,{children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Total Labour Charges:"})," ",null===(e=Ae.data)||void 0===e?void 0:e.labourCharges]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Total Service Charges:"})," ",null===(r=Ae.data)||void 0===r?void 0:r.serviceCharges]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"Total Charges Before GST:"})," ",null===(s=Ae.data)||void 0===s?void 0:s.totalChargesBeforeGST]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("strong",{children:"GST:"})," ",null===(S=Ae.data)||void 0===S?void 0:S.GST]}),(0,y.jsxs)("p",{style:{fontSize:"28px",color:"#1758ad",fontWeight:"bold"},children:[(0,y.jsx)("strong",{children:"Total:"})," ",Ae.data.toBePaid]}),(0,y.jsxs)("p",{style:{marginTop:"75px"},children:[(0,y.jsx)("strong",{children:"Total Amount Paid:"})," ",null===I||void 0===I?void 0:I.totalAmountPaid]})]})]}),(0,y.jsxs)(o.A,{className:"boxShadow p-4 mb-4",children:[(0,y.jsx)(h.A,{COLUMNS:Te,MOCK_DATA:w}),(0,y.jsx)(n.A,{className:"text-end mt-3",children:(0,y.jsxs)(t.A,{style:{backgroundColor:N},onClick:()=>{Ne("/admin/orders")},children:["Generate Bill ",(0,y.jsx)(b.Z0P,{size:20})]})})]}),(0,y.jsxs)(d.A,{show:de,onHide:()=>{ie(!1),he({})},centered:!0,children:[(0,y.jsx)(d.A.Header,{closeButton:!0,children:(0,y.jsx)(d.A.Title,{children:"Add Bill"})}),(0,y.jsx)(d.A.Body,{children:(0,y.jsx)(i.A,{children:(0,y.jsxs)(i.A.Group,{controlId:"formComponent",children:[(0,y.jsx)(i.A.Label,{children:"Component"}),(0,y.jsx)(f.Ay,{options:L.map((e=>({value:e,label:e}))),onChange:e=>{return r="descriptionName",s=e.value,void he((e=>({...e,[r]:s})));var r,s}})]})})}),(0,y.jsxs)(d.A.Footer,{children:[(0,y.jsx)(t.A,{style:{backgroundColor:N},onClick:()=>{ie(!1),ne(!0)},children:"Add Manually"}),(0,y.jsx)(t.A,{style:{backgroundColor:N,border:"none"},onClick:async()=>{if(ce){ue(!0);try{const e={descriptionName:ce.descriptionName},r=await Se({id:R,role:pe,data:e});r.data?(A.oR.success(r.data.message,{autoClose:1e3}),ie(!1),Ce(),he("")):(A.oR.error(r.error.data.error,{autoClose:1e3}),he(""))}catch(e){console.error(e)}finally{ue(!1)}}else A.oR.error("Please fill the fields",{autoClose:1e3})},disabled:xe,children:xe?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]})}),(0,y.jsx)(u.A,{YES:async()=>{try{const s=await ye({billid:P,id:H,role:pe});var e,r;if(G(!1),D(""),null!==s&&void 0!==s&&s.data)A.oR.success(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.message,{autoClose:1e3});else A.oR.error(null===s||void 0===s||null===(r=s.error)||void 0===r?void 0:r.data.error,{autoClose:1e3})}catch(s){console.error(s)}},DELETESTATE:B,ONCLICK:()=>G(!1),DESCRIPTION:"Are you sure you want to delete this BillInformation",DELETETITLE:"Bill Information"}),(0,y.jsxs)(d.A,{show:Q,onHide:()=>V(!1),centered:!0,children:[(0,y.jsx)(d.A.Header,{closeButton:!0,children:(0,y.jsx)(d.A.Title,{children:"Edit Component"})}),(0,y.jsx)(d.A.Body,{children:(0,y.jsxs)(i.A,{children:[(0,y.jsxs)(i.A.Group,{controlId:"formDescription",children:[(0,y.jsx)(i.A.Label,{children:"Description:"}),(0,y.jsx)(i.A.Control,{type:"text",value:z,onChange:e=>U(e.target.value)})]}),(0,y.jsxs)(i.A.Group,{controlId:"formComponent",className:"mt-2",children:[(0,y.jsx)(i.A.Label,{children:"Component:"}),(0,y.jsx)(i.A.Control,{type:"text",value:W,onChange:e=>K(e.target.value)})]}),(0,y.jsxs)(i.A.Group,{controlId:"formLabourCharge",className:"mt-2",children:[(0,y.jsx)(i.A.Label,{children:"Labour Charge:"}),(0,y.jsx)(i.A.Control,{type:"number",value:q,onChange:e=>Z(e.target.value)})]}),(0,y.jsxs)(i.A.Group,{controlId:"formServiceCharge",className:"mt-2",children:[(0,y.jsx)(i.A.Label,{children:"Service Charge:"}),(0,y.jsx)(i.A.Control,{type:"number",value:Y,onChange:e=>J(e.target.value)})]})]})}),(0,y.jsxs)(d.A.Footer,{children:[(0,y.jsx)(t.A,{variant:"secondary",onClick:()=>{V(!1),F(null),U(""),K(""),Z(""),J("")},children:"Close"}),(0,y.jsx)(t.A,{style:{backgroundColor:N},onClick:async()=>{ue(!0);try{const e={description:z,component:W,labourCharge:q,serviceCharge:Y},r=await fe({billid:P,id:_,role:pe,data:e});r.data?(A.oR.success(r.data.message,{autoClose:1e3}),V(!1),Ce(),U(""),K(""),Z(""),J("")):(A.oR.error(r.error.data.error,{autoClose:1e3}),V(!1),U(""),K(""),Z(""),J(""))}catch(e){console.error(e)}finally{ue(!1)}},disabled:xe,children:xe?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Update..."]}):"Update"})]})]}),(0,y.jsxs)(d.A,{show:oe,onHide:we,centered:!0,children:[(0,y.jsx)(d.A.Header,{closeButton:!0,children:(0,y.jsx)(d.A.Title,{children:"Add Manually"})}),(0,y.jsx)(d.A.Body,{children:(0,y.jsxs)(i.A,{children:[(0,y.jsxs)(i.A.Group,{controlId:"formDescription",children:[(0,y.jsx)(i.A.Label,{children:"Description:"}),(0,y.jsx)(i.A.Control,{type:"text",value:X,placeholder:"Enter the description here",onChange:e=>$(e.target.value)})]}),(0,y.jsxs)(i.A.Group,{controlId:"formComponent",className:"mt-2",children:[(0,y.jsx)(i.A.Label,{children:"Component:"}),(0,y.jsx)(i.A.Control,{type:"text",value:ee,placeholder:"Enter the component here",onChange:e=>re(e.target.value)})]}),(0,y.jsxs)(i.A.Group,{controlId:"formLabourCharge",className:"mt-2",children:[(0,y.jsx)(i.A.Label,{children:"Labour Charge:"}),(0,y.jsx)(i.A.Control,{type:"number",value:se,placeholder:"Enter the labour charge here",onChange:e=>ae(e.target.value)})]}),(0,y.jsxs)(i.A.Group,{controlId:"formServiceCharge",className:"mt-2",children:[(0,y.jsx)(i.A.Label,{children:"price of the component:"}),(0,y.jsx)(i.A.Control,{type:"number",value:te,placeholder:"Enter the price here",onChange:e=>le(e.target.value)})]})]})}),(0,y.jsxs)(d.A.Footer,{children:[(0,y.jsx)(t.A,{variant:"secondary",onClick:we,children:"Close"}),(0,y.jsx)(t.A,{style:{backgroundColor:N},onClick:async()=>{if(X&&ee&&se&&te){ue(!0);try{const e={description:X,component:ee,labourCharge:se,serviceCharge:te},r=await Se({id:R,role:pe,data:e});r.data?(A.oR.success(r.data.message,{autoClose:1e3}),ne(!1),Ce(),U(""),K(""),Z(""),J("")):(A.oR.error(r.error.data.error,{autoClose:1e3}),ne(!1),U(""),K(""),Z(""),J(""))}catch(e){console.error(e)}finally{ue(!1)}}else A.oR.error("Please fill the fields",{autoClose:1e3})},disabled:xe,children:xe?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]});var Le}},2364:(e,r,s)=>{s.d(r,{Ay:()=>n});var a=s(9817),t=s(58168),l=s(65043),o=s(61404),n=(s(35513),s(97950),s(11322),(0,l.forwardRef)((function(e,r){var s=(0,a.u)(e);return l.createElement(o.S,(0,t.A)({ref:r},s))})))},39585:()=>{}}]);
//# sourceMappingURL=7724.d6666aa9.chunk.js.map