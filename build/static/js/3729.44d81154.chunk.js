"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[3729],{93779:(e,a,l)=>{l.d(a,{A:()=>i});l(65043);var s=l(94281),t=l(24522),r=l(75200),o=l(36653),n=l(63401),d=l(70579);const i=e=>{let{setFieldValue:a=(()=>{}),touched:l={},errors:i={},labelText:m="Upload Image",nameText:c="image",accepts:p={"image/*":[".png",".jpeg",".jpg",".svg",".webp",".gif"]},handleFileChange:x=null,disabled:h=!1}=e;const{getRootProps:u,getInputProps:f,isDragActive:g}=(0,s.VB)({accept:p||"",onDrop:e=>{const l=e[0],s=l.name.split(".").pop().toLowerCase();p["image/*"].map((e=>e.replace(".","").toLowerCase().trim())).includes(s)?(a(c,l),x&&x(l)):n.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},onDropRejected:e=>{n.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},disabled:h}),{color:j}=(0,o.D)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(t.A.Group,{children:[(0,d.jsxs)(t.A.Label,{children:[m," ",(0,d.jsx)("span",{className:"text-danger"})]}),(0,d.jsxs)("div",{...u(),className:"form-control dropzone ".concat(g?"active":""," ").concat(l[c]&&i[c]?"is-invalid":""),style:{border:"2px dashed #ced4da",padding:"20px",textAlign:"center",borderRadius:"5px",cursor:h?"not-allowed":"pointer",background:g?"#f8f9fa":"transparent"},children:[(0,d.jsx)("input",{...f(),disabled:h}),g?(0,d.jsx)("p",{children:"Drop the files here..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.YoE,{size:50,color:j}),(0,d.jsx)("p",{children:"Drag & drop an image here, or click to select one"})]})]}),l[c]&&i[c]&&(0,d.jsx)("p",{className:"text-danger",children:i[c]})]})})}},24796:(e,a,l)=>{l.d(a,{A:()=>t});l(65043);var s=l(70579);const t=e=>{let{image:a,valueImage:l}=e;const t=a&&(!Array.isArray(a)||a.length>0),r=l!==a?a:a instanceof File?URL.createObjectURL(a):a;return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)("img",{src:r,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,s.jsx)(s.Fragment,{})})}},13256:(e,a,l)=>{l.d(a,{A:()=>r});l(65043);var s=l(24522),t=l(70579);const r=e=>{const{label:a,name:l,id:r,type:o,placeholder:n,htmlFor:d,lableClassName:i,value:m,onChange:c,onBlur:p,disabled:x,className:h,lg:u,md:f,xxl:g,xl:j,sm:b,validation:y,star:A,ref:N,accept:v}=e;return(0,t.jsxs)(s.A.Group,{children:[(0,t.jsxs)(s.A.Label,{htmlFor:d,className:i,children:[a,(0,t.jsx)("span",{className:"text-danger ".concat("none"===A?"d-".concat(A):""),children:"*"})]}),(0,t.jsx)(s.A.Control,{name:l,id:r,type:o,placeholder:n,value:m,onChange:c,onBlur:p,disabled:x,className:h,lg:u,md:f,xxl:g,xl:j,sm:b,ref:N,accept:null!==v&&void 0!==v?v:""}),y]})}},3729:(e,a,l)=>{l.r(a),l.d(a,{default:()=>w});var s=l(867),t=l(65043),r=l(53519),o=l(24522),n=l(61072),d=l(78602),i=l(47994),m=l(73216),c=l(3825),p=l(4207),x=l(13256),h=l(63401),u=l(91916),f=l(1026),g=l(13624),j=l(32479),b=l(24796),y=l(60184),A=l(76116),N=l(93779),v=l(70579);const w=()=>{const[e,a]=(0,t.useState)(""),[l,w]=(0,t.useState)(""),[O,E]=(0,t.useState)(""),[C,B]=(0,t.useState)(""),[I,P]=(0,t.useState)(""),[F,q]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),[R,L]=(0,t.useState)(""),[D,T]=(0,t.useState)(""),[V,Y]=((0,t.useRef)(null),(0,t.useState)(!1)),{id:_}=(0,m.g)(),z=_.startsWith(":")?_.slice(1):_,G=(0,j.L)(),[U,{isLoading:Z}]=(0,u.Jy)(),{data:$}=(0,u.c6)({id:z,role:G}),{data:J}=(0,g.sF)({role:G}),[W,X]=(0,t.useState)([]);(0,t.useEffect)((()=>{J&&J.data&&(X(J.data),J.data.includes(C)||B(""))}),[J,C]);const H=(0,m.Zp)(),K=()=>{H("/admin/employee")};(0,t.useEffect)((()=>{$&&$.data&&(a($.data.employeeId),w($.data.nameOfEmployee),E((e=>{if(!e)return"";const[a,l,s]=e.split("/");return a&&l&&s?"".concat(s,"-").concat(l,"-").concat(a):""})($.data.dateOfBirth)),B($.data.roleOfEmployee),P($.data.phoneNumber),L($.data.email),T($.data.password),q($.data.image),k($.data.idProof))}),[$]);const M=async()=>{try{const s=new FormData;s.append("nameOfEmployee",l),s.append("dateOfBirth",O),s.append("roleOfEmployee",C),s.append("phoneNumber",I),s.append("image",F),s.append("idProof",S),s.append("email",R),s.append("password",D);const t=await U({id:z,data:s,role:G});var e,a;if(null!==t&&void 0!==t&&t.data)h.oR.success(t.data.message,{autoClose:1e3}),H("/admin/employee");else h.oR.error(null===(e=t.error)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error,{autoClose:1e3})}catch(s){console.error(s)}},Q=()=>{Y(!V)},ee="admin01@gmail.com"===R||"Admin"!==G;return(0,v.jsx)("div",{children:(0,v.jsx)(r.A,{fluid:!0,className:"",children:(0,v.jsx)(s.l1,{initialValues:{employeeId:"",nameOfEmployee:"",dateOfBirth:"",roleOfEmployee:"",photo:null,idProof:null,phoneNumber:"",email:"",password:""},validationSchema:f.m,onSubmit:M,children:t=>{let{values:r,errors:m,touched:u,handleChange:g,handleBlur:j,handleSubmit:Y,isSubmitting:_,setFieldValue:z}=t;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(o.A,{children:[(0,v.jsxs)(n.A,{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,v.jsxs)(d.A,{className:"d-flex justify-content-start mb-3 mt-3",children:[(0,v.jsx)("h4",{onClick:K,className:"mx-2",children:(0,v.jsx)(c.nXt,{})}),(0,v.jsx)("h4",{children:"Edit Employee"})]}),(0,v.jsxs)(d.A,{className:"d-sm-none d-none d-md-none d-lg-flex d-xxl-flex d-xl-flex flex-row justify-content-end align-items-center",children:[(0,v.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:K,label:"Cancel"}),(0,v.jsx)(p.A,{className:"m-1",label:"Update",type:"button",isLoading:Z,loaderVariant:"info",disabled:_,onClick:async()=>{try{const e=Object.keys(u);for(const a of e)await f.m.validateAt(a,{nameOfEmployee:l,dateOfBirth:O,roleOfEmployee:C,phoneNumber:I,password:D,photo:F,idProof:S});M()}catch(e){h.oR.error(e.message,{autoClose:1e3})}}})]})]}),(0,v.jsxs)(n.A,{className:"d-flex flex-wrap flex-lg-row flex-xxl-row flex-xl-row flex-column flex-md-column flex-sm-column  mt-4",children:[(0,v.jsxs)(d.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsx)(x.A,{label:"Employee Id",type:"",name:"employeeId",disabled:!0,value:e,placeholder:"Enter employee id  here",className:"form-control ".concat(u.employeeId&&m.employeeId?"is-invalid":""),onChange:e=>{a(e.target.value),g(e)},onBlur:j,validation:u.employeeId&&m.employeeId?(0,v.jsx)("p",{className:"text-danger",children:m.employeeId}):""})}),(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsx)(x.A,{label:"Name Of Employee",type:"",name:"nameOfEmployee",value:l,placeholder:"Enter the name of employee here",className:"form-control ".concat(u.nameOfEmployee&&m.nameOfEmployee?"is-invalid":""),onChange:e=>{w(e.target.value),g(e)},onBlur:j,validation:u.nameOfEmployee&&m.nameOfEmployee?(0,v.jsx)("p",{className:"text-danger",children:m.nameOfEmployee}):"",disabled:"Admin"!==G})}),(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsx)(x.A,{label:"Date Of Birth",type:"date",name:"dateOfBirth",value:O,className:"form-control ".concat(u.dateOfBirth&&m.dateOfBirth?"is-invalid":""),onChange:e=>{E(e.target.value),g(e)},onBlur:j,validation:u.dateOfBirth&&m.dateOfBirth?(0,v.jsx)("p",{className:"text-danger",children:m.dateOfBirth}):""})}),(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsxs)(o.A.Group,{controlId:"roleOfEmployee",children:[(0,v.jsx)(o.A.Label,{children:"Role Of Employee"}),(0,v.jsx)(o.A.Select,{label:"Role Of Employee",type:"",name:"roleOfEmployee",value:C,className:"form-control ".concat(u.roleOfEmployee&&m.roleOfEmployee?"is-invalid":""),onChange:e=>{B(e.target.value),g(e)},onBlur:j,disabled:"Admin"!==G,children:W.map((e=>(0,v.jsx)("option",{value:e,children:e},e)))}),u.roleOfEmployee&&m.roleOfEmployee?(0,v.jsx)("p",{className:"text-danger",children:m.roleOfEmployee}):""]})}),(0,v.jsxs)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:[(0,v.jsx)(N.A,{labelText:"Photo",nameText:"photo",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},touched:u,errors:m,setFieldValue:z,handleFileChange:e=>{(e=>{q(e)})(e)},disabled:"Admin"!==G}),(0,v.jsx)("div",{children:(0,v.jsxs)("small",{className:"text-muted",children:["Accepted file types: .jpg , .jpeg, .png, .svg, .webp"," "]})}),(0,v.jsx)(b.A,{image:F,valueImage:r.photo,disabled:"Admin"!==G})]})]}),(0,v.jsxs)(d.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,v.jsxs)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:[(0,v.jsx)(N.A,{labelText:"Id Proof",nameText:"idProof",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},touched:u,errors:m,setFieldValue:z,handleFileChange:e=>{(e=>{k(e)})(e)},disabled:"Admin"!==G}),(0,v.jsx)("div",{children:(0,v.jsxs)("small",{className:"text-muted",children:["Accepted file types: .jpg , .jpeg, .png, .svg, .webp"," "]})}),(0,v.jsx)(b.A,{image:S,valueImage:r.idProof,disabled:"Admin"!==G})]}),(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsxs)(o.A.Group,{controlId:"formPhoneNumber",children:[(0,v.jsxs)(o.A.Label,{children:["Phone Number ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsxs)(i.A,{children:[(0,v.jsx)(i.A.Text,{children:"+91"}),(0,v.jsx)(s.D0,{label:"Phone Number",type:"text",name:"phoneNumber",maxLength:10,value:(0,A.f9)(I),placeholder:"Enter the phone number here",className:"form-control ".concat(u.phoneNumber&&m.phoneNumber?"is-invalid":""),onChange:e=>{const a=e.target.value.replace(/[^0-9]/g,"").slice(0,10);P(a),g(e),z(a)},onBlur:j})]}),u.phoneNumber&&m.phoneNumber?(0,v.jsx)("p",{className:"text-danger",children:m.phoneNumber}):""]})}),(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsx)(x.A,{label:"Email",star:"none",type:"",name:"email",value:R,disabled:ee,placeholder:"Enter the email here",className:"form-control ",onChange:e=>{L(e.target.value),g(e)},onBlur:j})}),(0,v.jsx)(d.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,v.jsxs)(o.A.Group,{controlId:"formPassword",children:[(0,v.jsxs)(o.A.Label,{children:["Password ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsxs)(i.A,{children:[(0,v.jsx)(s.D0,{value:D,label:"Password",type:V?"text":"password",name:"password",disabled:ee,placeholder:"Enter the password here",className:"form-control ".concat(u.password&&m.password?"is-invalid":""),onChange:e=>{T(e.target.value),g(e)},onBlur:j}),(0,v.jsx)(i.A.Text,{onClick:Q,style:{cursor:"pointer"},children:V?(0,v.jsx)(y.Ny1,{}):(0,v.jsx)(y.mx3,{})})]}),m.password&&u.password?(0,v.jsx)("p",{className:"text-danger",children:m.password}):null]})})]})]}),(0,v.jsxs)(n.A,{className:"d-sm-flex d-flex d-md-flex d-lg-none d-xxl-none d-xl-none flex-row justify-content-between align-items-center",children:[(0,v.jsx)(d.A,{className:"d-flex justify-content-start align-items-center",children:(0,v.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:K,label:"Cancel"})}),(0,v.jsx)(d.A,{className:"d-flex justify-content-end align-items-center",children:(0,v.jsx)(p.A,{className:"m-1",label:"Update",type:"button",isLoading:Z,loaderVariant:"info",disabled:_,onClick:async()=>{try{const e=Object.keys(u);for(const a of e)await f.m.validateAt(a,{nameOfEmployee:l,dateOfBirth:O,roleOfEmployee:C,phoneNumber:I,password:D,photo:F,idProof:S});M()}catch(e){h.oR.error(e.message,{autoClose:1e3})}}})})]})]})})}})})})}},1026:(e,a,l)=>{l.d(a,{m:()=>t});var s=l(80899);const t=s.Ik().shape({employeeId:s.Yj().required("Employee Id is required...!"),nameOfEmployee:s.Yj().required("Name Of Employee is required...!"),dateOfBirth:s.p6().required("Date Of Birth is required...!").nullable(),roleOfEmployee:s.Yj().required("Role Of Employee is required...!"),phoneNumber:s.Yj().matches(/^[6-9][0-9]{9}$/,"Invalid phone number format").required("Phone Number is required"),email:s.Yj().transform((e=>e.trim())).matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Invalid email format"),password:s.Yj().transform((e=>e.trim())).required("Password is required...!").min(8,"Password should be at least 8 characters"),photo:s.gl().required("Photo is required...!"),idProof:s.gl().required("Id Proof is required...!")})}}]);
//# sourceMappingURL=3729.44d81154.chunk.js.map