"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[1468],{98954:(e,s,a)=>{a.d(s,{A:()=>C});var t=a(65043),r=a(71094),n=a(53519),l=a(61072),o=a(64196),d=a(78602),c=a(14282),i=a(49804),u=a(60184),x=a(3825),m=a(92157),h=a.n(m),g=a(13441),p=(a(39585),a(36653)),j=a(70579);const C=e=>{const{color:s}=(0,p.D)(),a=(0,t.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),m=(0,t.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:C,getTableBodyProps:A,headerGroups:N,prepareRow:f,page:v}=(0,r.useTable)({columns:a,data:m,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(n.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(l.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...C(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:N.map(((e,s)=>(0,t.createElement)("tr",{...e.getHeaderGroupProps(),key:s},e.headers.map(((e,s)=>(0,t.createElement)("th",{...e.getHeaderProps(),key:s,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(u.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...A(),children:v.length>0?v.map(((s,a)=>(f(s),(0,t.createElement)("tr",{...s.getRowProps(),key:a},s.cells.map(((s,r)=>{const n="action"===s.column.id||"localShop"===s.column.id||"serviceCenter"===s.column.id||"ourServices"===s.column.id||"addInCarousel"===s.column.id;return(0,t.createElement)("td",{...s.getCellProps(),key:r,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:a<=e.count-1?"#cfd1d1":""}},n||s.value?s.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(v.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(h(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(g.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(x.dnY,{})}),nextLabel:(0,j.jsx)(g.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(x.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(c.A,{style:{backgroundColor:s,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(i.o_z,{size:14})}),(0,j.jsx)(c.A,{style:{backgroundColor:s,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(i.hdn,{size:14})})]})]})]})})})}},31468:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var t=a(65043),r=a(14282),n=a(53519),l=a(61072),o=a(78602),d=a(27417),c=a(25284),i=a(24522),u=a(98954),x=a(46565),m=a(31462),h=a(63401),g=a(60184),p=a(36017),j=a(6720),C=a(73216),A=a(35475),N=a(32479),f=a(39110),v=a(2519),b=a(36653),S=a(31121),y=a(85959),w=a(33056),P=a(70579);const k=()=>{const{color:e}=(0,b.D)(),[s,a]=(0,t.useState)([]),[k,I]=(0,t.useState)(1),[E,H]=(0,t.useState)(1),[L,T]=(0,t.useState)(1),[D,O]=(0,t.useState)(1),[_,M]=(0,t.useState)(0),[R,z]=(0,t.useState)(""),[F,G]=(0,t.useState)(""),[U,q]=(0,t.useState)(!1),{id:Q}=(0,C.g)(),[B,K]=(0,t.useState)(null),[W,Y]=(0,t.useState)(!1),[V,J]=(0,t.useState)(!1),[Z,X]=(0,t.useState)(""),[$,ee]=(0,t.useState)(""),[se,ae]=(0,t.useState)(""),[te,re]=(0,t.useState)(""),[ne,le]=(0,t.useState)(!1),[oe,de]=(0,t.useState)(!1),[ce,ie]=(0,t.useState)(!1),[ue,xe]=(0,t.useState)(!1),[me,he]=(0,t.useState)(0),ge=e=>(0,S.GP)(new Date(e),"dd-MMM-yyyy h:mm a"),pe=(0,N.L)(),je=(0,w.O)(),{data:Ce,isLoading:Ae,isError:Ne,error:fe,refetch:ve}=(0,x.tP)({page:k,search:R,id:Q,role:pe,phoneNumber:je}),[be]=(0,x.I2)(),[Se]=(0,x.tw)();(0,t.useEffect)((()=>{Ce&&Ce.data&&(a(Ce.data),H(Ce.pagination.startIndex),I(k),M(Ce.pagination.totalItems),T(Ce.pagination.endIndex),O(Ce.pagination.totalPages),le(Ce.moduleAccess.fullAccess),de(Ce.moduleAccess.read),he(Ce.quoteCounts)),Ne&&500===(null===fe||void 0===fe?void 0:fe.status)?xe(!0):xe(!1)}),[Ce,k,pe,fe,Ne]);const ye=()=>{q(!0),z(F),ve({page:k,search:F}).then((()=>{q(!1)}))},we=()=>{Y(!1),K(null),ee("")},Pe=[{Header:"ID",accessor:"s_no"},{Header:"User Name",accessor:"userName"},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Alternate PhoneNumber",accessor:"alternatePhoneNumber"},{Header:"Email",accessor:"email"},{Header:"Rental Request Details",accessor:"requestId",Cell:e=>{const s=e.row.original.requestId;return(0,P.jsx)(A.N_,{to:"/admin/quotes-details/".concat(s),style:{color:"#245bad"},children:s})}},{Header:"Address",accessor:"address"},{Header:"Status",accessor:"status"},{Header:"Notes",accessor:"notes"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:s}=e;return ge(s)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:s}=e;return ge(s)}}];return ne&&Pe.push({Header:"ACTIONS",accessor:"action",Cell:e=>{const a=e.row.original._id;return(0,P.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,P.jsx)(r.A,{variant:"warning",onClick:()=>(e=>{const a=s.find((s=>s._id===e));a&&(K(e),ee(a.status),ae(a.address),re(a.notes),Y(!0))})(a),children:(0,P.jsx)(g.uO9,{})}),(0,P.jsx)(r.A,{variant:"danger",className:"ms-2",onClick:()=>(e=>{X(e),J(!0)})(a),children:(0,P.jsx)(j.b6i,{})})]})}}),(0,P.jsxs)("div",{children:[Ae?(0,P.jsx)(f.A,{}):(0,P.jsx)(P.Fragment,{children:ue?(0,P.jsx)(y.A,{}):oe?(0,P.jsxs)(n.A,{fluid:!0,className:"mt-3 ",children:[(0,P.jsx)(l.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,P.jsx)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:(0,P.jsx)("h4",{className:"fw-bold",children:"Quotes"})})}),(0,P.jsxs)(l.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,P.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,P.jsxs)("div",{className:"input-group",children:[(0,P.jsx)("span",{className:"input-group-text",children:(0,P.jsx)(m.YQq,{})}),(0,P.jsx)("input",{type:"text",placeholder:"Search Quotes...",className:"form-control",value:F,onChange:e=>G(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ye()}}),F&&(0,P.jsx)("span",{className:"input-group-text",onClick:()=>{G(""),z("")},children:(0,P.jsx)(m.IeJ,{})})]})}),(0,P.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,P.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:ye,disabled:U||""===F,children:U?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,P.jsx)(l.A,{className:"boxShadow p-4 mb-4",children:(0,P.jsx)(u.A,{COLUMNS:Pe,MOCK_DATA:s,currentPage:k,startIndex:E,endIndex:L,setCurrentPage:I,totalItems:_,totalPages:D,count:me})}),(0,P.jsx)(p.A,{YES:async()=>{try{const a=await Se({id:Z,role:pe});var e,s;if(J(!1),X(""),null!==a&&void 0!==a&&a.data)h.oR.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message,{autoClose:1e3});else h.oR.error(null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(fe){console.error(fe)}},DELETESTATE:V,ONCLICK:()=>{J(!1)},DESCRIPTION:"Are you sure want to delete this Quotes",DELETETITLE:"Quotes"})]}):(0,P.jsx)(v.A,{})}),(0,P.jsxs)(c.A,{show:W,onHide:we,centered:!0,dialogClassName:"all-modal",children:[(0,P.jsx)(c.A.Header,{closeButton:!0,children:(0,P.jsx)(c.A.Title,{children:"Edit Quotes"})}),(0,P.jsx)(c.A.Body,{children:(0,P.jsxs)(i.A,{children:[(0,P.jsxs)(i.A.Group,{controlId:"statusDropdown",className:"mt-3",children:[(0,P.jsx)(i.A.Label,{children:"Edit Status:"}),(0,P.jsxs)(i.A.Select,{value:$,onChange:e=>{ee(e.target.value)},children:[(0,P.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select an option"}),(0,P.jsx)("option",{value:"Pending",children:"Pending"}),(0,P.jsx)("option",{value:"Cancelled",children:"Cancelled"}),(0,P.jsx)("option",{value:"Confirmed",children:"Confirmed"})]})]}),(0,P.jsxs)(i.A.Group,{controlId:"bookingAddress",className:"mt-3",children:[(0,P.jsx)(i.A.Label,{children:"Address:"}),(0,P.jsx)(i.A.Control,{as:"textarea",rows:3,value:se,onChange:e=>{ae(e.target.value)},disabled:!0})]}),(0,P.jsxs)(i.A.Group,{controlId:"notes",className:"mt-3",children:[(0,P.jsx)(i.A.Label,{children:"Notes:"}),(0,P.jsx)(i.A.Control,{type:"text",value:te,onChange:e=>{re(e.target.value)}})]})]})}),(0,P.jsxs)(c.A.Footer,{children:[(0,P.jsx)(r.A,{variant:"secondary",onClick:we,children:"Cancel"}),(0,P.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if($&&se&&te){ie(!0);try{const e=await be({id:B,role:pe,data:{status:$,address:se,notes:te}});e.data?(h.oR.success(e.data.message,{autoClose:1e3}),Y(!1),ve()):h.oR.error(e.error.data.error,{autoClose:1e3})}catch(fe){console.error(fe)}finally{ie(!1)}}else h.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:ce,children:ce?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=1468.a43105c9.chunk.js.map