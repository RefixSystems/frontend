"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[2310],{93779:(e,s,a)=>{a.d(s,{A:()=>c});a(65043);var t=a(94281),r=a(24522),l=a(75200),n=a(36653),o=a(63401),d=a(70579);const c=e=>{let{setFieldValue:s=(()=>{}),touched:a={},errors:c={},labelText:i="Upload Image",nameText:x="image",accepts:m={"image/*":[".png",".jpeg",".jpg",".svg",".webp",".gif"]},handleFileChange:u=null,disabled:g=!1}=e;const{getRootProps:h,getInputProps:p,isDragActive:j}=(0,t.VB)({accept:m||"",onDrop:e=>{const a=e[0],t=a.name.split(".").pop().toLowerCase();m["image/*"].map((e=>e.replace(".","").toLowerCase().trim())).includes(t)?(s(x,a),u&&u(a)):o.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},onDropRejected:e=>{o.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},disabled:g}),{color:A}=(0,n.D)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(r.A.Group,{children:[(0,d.jsxs)(r.A.Label,{children:[i," ",(0,d.jsx)("span",{className:"text-danger"})]}),(0,d.jsxs)("div",{...h(),className:"form-control dropzone ".concat(j?"active":""," ").concat(a[x]&&c[x]?"is-invalid":""),style:{border:"2px dashed #ced4da",padding:"20px",textAlign:"center",borderRadius:"5px",cursor:g?"not-allowed":"pointer",background:j?"#f8f9fa":"transparent"},children:[(0,d.jsx)("input",{...p(),disabled:g}),j?(0,d.jsx)("p",{children:"Drop the files here..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.YoE,{size:50,color:A}),(0,d.jsx)("p",{children:"Drag & drop an image here, or click to select one"})]})]}),a[x]&&c[x]&&(0,d.jsx)("p",{className:"text-danger",children:c[x]})]})})}},24796:(e,s,a)=>{a.d(s,{A:()=>r});a(65043);var t=a(70579);const r=e=>{let{image:s,valueImage:a}=e;const r=s&&(!Array.isArray(s)||s.length>0),l=a!==s?s:s instanceof File?URL.createObjectURL(s):s;return(0,t.jsx)(t.Fragment,{children:r?(0,t.jsx)("img",{src:l,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,t.jsx)(t.Fragment,{})})}},98954:(e,s,a)=>{a.d(s,{A:()=>A});var t=a(65043),r=a(71094),l=a(53519),n=a(61072),o=a(64196),d=a(78602),c=a(14282),i=a(49804),x=a(60184),m=a(3825),u=a(92157),g=a.n(u),h=a(13441),p=(a(39585),a(36653)),j=a(70579);const A=e=>{const{color:s}=(0,p.D)(),a=(0,t.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),u=(0,t.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:A,getTableBodyProps:C,headerGroups:y,prepareRow:f,page:v}=(0,r.useTable)({columns:a,data:u,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(l.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(n.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...A(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:y.map(((e,s)=>(0,t.createElement)("tr",{...e.getHeaderGroupProps(),key:s},e.headers.map(((e,s)=>(0,t.createElement)("th",{...e.getHeaderProps(),key:s,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(x.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...C(),children:v.length>0?v.map(((s,a)=>(f(s),(0,t.createElement)("tr",{...s.getRowProps(),key:a},s.cells.map(((s,r)=>{const l="action"===s.column.id||"localShop"===s.column.id||"serviceCenter"===s.column.id||"ourServices"===s.column.id||"addInCarousel"===s.column.id;return(0,t.createElement)("td",{...s.getCellProps(),key:r,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:a<=e.count-1?"#cfd1d1":""}},l||s.value?s.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(v.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(g(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(h.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(m.dnY,{})}),nextLabel:(0,j.jsx)(h.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(m.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(c.A,{style:{backgroundColor:s,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(i.o_z,{size:14})}),(0,j.jsx)(c.A,{style:{backgroundColor:s,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(i.hdn,{size:14})})]})]})]})})})}},12310:(e,s,a)=>{a.r(s),a.d(s,{default:()=>I});var t=a(65043),r=a(14282),l=a(53519),n=a(61072),o=a(78602),d=a(27417),c=a(25284),i=a(24522),x=a(98954),m=a(95642),u=a(31462),g=a(3538),h=a(63401),p=a(60184),j=a(36017),A=a(73216),C=a(32479),y=a(2519),f=a(39110),v=a(36653),b=a(31121),N=a(24796),w=a(93779),S=a(85959),k=a(70579);const I=()=>{const{color:e}=(0,v.D)(),[s,a]=(0,t.useState)([]),[I,P]=(0,t.useState)(1),[F,L]=(0,t.useState)(1),[T,R]=(0,t.useState)(1),[D,E]=(0,t.useState)(1),[H,O]=(0,t.useState)(0),[z,_]=(0,t.useState)(""),[M,U]=(0,t.useState)(""),[B,G]=(0,t.useState)(!1),{id:K}=(0,A.g)(),[V,W]=(0,t.useState)(null),[Y,q]=(0,t.useState)(!1),[J,Q]=(0,t.useState)(""),[X,Z]=(0,t.useState)(null),[$,ee]=(0,t.useState)(!1),[se,ae]=(0,t.useState)(""),[te,re]=(0,t.useState)(!1),[le,ne]=(0,t.useState)(""),[oe,de]=(0,t.useState)(""),[ce,ie]=(0,t.useState)(null),[xe,me]=(0,t.useState)(!1),[ue,ge]=(0,t.useState)(!1),[he,pe]=(0,t.useState)(!1),[je,Ae]=(0,t.useState)(""),[Ce,ye]=(0,t.useState)(!1),[fe,ve]=(0,t.useState)(null),[be,Ne]=(0,t.useState)(!1),[we,Se]=(0,t.useState)(!1),ke=(0,C.L)(),Ie=e=>(0,b.GP)(new Date(e),"dd-MMM-yyyy h:mm a"),{data:Pe,refetch:Fe,isLoading:Le,isError:Te,error:Re}=(0,m.Wm)({page:I,search:z,id:K,role:ke}),[De]=(0,m.XS)(),[Ee]=(0,m.y0)(),[He]=(0,m.sf)();(0,t.useEffect)((()=>{Pe&&Pe.data&&(a(Pe.data),L(Pe.pagination.startIndex),P(I),O(Pe.pagination.totalItems),R(Pe.pagination.endIndex),E(Pe.pagination.totalPages),pe(Pe.moduleAccess.fullAccess),me(Pe.moduleAccess.write),ge(Pe.moduleAccess.read)),Te&&500===(null===Re||void 0===Re?void 0:Re.status)?Se(!0):Se(!1)}),[Pe,I,ke,Re,Te]);const Oe=()=>{G(!0),_(M),Fe({page:I,search:M}).then((()=>{G(!1)}))},ze=()=>{q(!1),W(null),Q(""),Z(null),de("")},_e=()=>{re(!1),Q(""),ie(null),de("")},Me=[{Header:"ID",accessor:"s_no"},{Header:"Image",accessor:"image",Cell:e=>{const s=e.value;return s?(0,k.jsx)("img",{src:s,alt:"Profile",style:{width:"50px",height:"50px",borderRadius:"100%"}}):(0,k.jsx)(g.jNg,{size:50})}},{Header:"Category",accessor:"category"},{Header:"Status",accessor:"status"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:s}=e;return Ie(s)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:s}=e;return Ie(s)}}];return he&&Me.push({Header:"ACTIONS",accessor:"showInHomePage",Cell:e=>{const a=e.row.original._id,t=e.row.original.showInHomePage,l="yes"===t;return(0,k.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,k.jsx)(r.A,{variant:l?"success":"secondary",onClick:()=>((e,s)=>{ve(e),ye(!0),Ae(s)})(a,t),className:"ms-2",children:l?"ON":"OFF"}),(0,k.jsx)(r.A,{variant:"warning",className:"ms-2",onClick:()=>(e=>{const a=s.find((s=>s._id===e));a&&(W(e),Q(a.category),de(a.status),ie(a.image),q(!0))})(a),children:(0,k.jsx)(p.uO9,{})})]})}}),(0,k.jsx)(k.Fragment,{children:Le?(0,k.jsx)(f.A,{}):(0,k.jsxs)("div",{children:[we?(0,k.jsx)(S.A,{}):ue?(0,k.jsxs)(l.A,{fluid:!0,className:"mt-3 ",children:[(0,k.jsx)(n.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,k.jsxs)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,k.jsx)("h4",{className:"fw-bold",children:"Categories"}),xe?(0,k.jsx)("div",{children:(0,k.jsxs)(r.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{re(!0)},children:[(0,k.jsx)(p.OiG,{size:20}),(0,k.jsxs)("span",{className:"d-none d-md-inline",children:[" ","Add Categories"]})]})}):(0,k.jsx)(k.Fragment,{})]})}),(0,k.jsxs)(n.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,k.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,k.jsxs)("div",{className:"input-group",children:[(0,k.jsx)("span",{className:"input-group-text",children:(0,k.jsx)(u.YQq,{})}),(0,k.jsx)("input",{type:"text",placeholder:"Search Categories...",className:"form-control",value:M,onChange:e=>U(e.target.value),onKeyPress:e=>{"Enter"===e.key&&Oe()}}),M&&(0,k.jsx)("span",{className:"input-group-text",onClick:()=>{U(""),_("")},children:(0,k.jsx)(u.IeJ,{})})]})}),(0,k.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,k.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:Oe,disabled:B||""===M,children:B?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,k.jsx)(n.A,{className:"boxShadow p-4 mb-4",children:(0,k.jsx)(x.A,{COLUMNS:Me,MOCK_DATA:s,currentPage:I,startIndex:F,endIndex:T,setCurrentPage:P,totalItems:H,totalPages:D})}),(0,k.jsx)(j.A,{YES:async()=>{try{const a=await Ee({id:se,role:ke});var e,s;if(ee(!1),ae(""),null!==a&&void 0!==a&&a.data)h.oR.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message,{autoClose:1e3});else h.oR.error(null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(Re){console.error(Re)}},DELETESTATE:$,ONCLICK:()=>{ee(!1)},DESCRIPTION:"Are you sure want to delete this Categories",DELETETITLE:"Categories"})]}):(0,k.jsx)(y.A,{}),(0,k.jsxs)(c.A,{show:Y,onHide:ze,centered:!0,dialogClassName:"review-modal",children:[(0,k.jsx)(c.A.Header,{closeButton:!0,children:(0,k.jsx)(c.A.Title,{children:"Edit Categories"})}),(0,k.jsx)(c.A.Body,{children:(0,k.jsxs)(i.A,{children:[(0,k.jsxs)(i.A.Group,{controlId:"statusDropdown",className:"mt-3 mb-3",children:[(0,k.jsxs)(i.A.Label,{children:["Status ",(0,k.jsx)("span",{className:"text-danger",children:"*"})]}),(0,k.jsxs)(i.A.Select,{value:oe,placeholder:"Enter the status here",onChange:e=>{de(e.target.value)},children:[(0,k.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select an option"}),(0,k.jsx)("option",{value:"Active",children:"Active"}),(0,k.jsx)("option",{value:"InActive",children:"InActive"})]})]}),(0,k.jsxs)(i.A.Group,{controlId:"deviceNameInput",className:"mb-3",children:[(0,k.jsxs)(i.A.Label,{children:["Categories Name ",(0,k.jsx)("span",{className:"text-danger",children:"*"})]}),(0,k.jsx)(i.A.Control,{type:"text",placeholder:"Enter the category here",value:J,onChange:e=>{Q(e.target.value)},disabled:!0})]}),(0,k.jsx)(w.A,{labelText:"Upload Image",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},handleFileChange:e=>{(e=>{ie(e)})(e)}}),(0,k.jsx)("div",{children:(0,k.jsxs)("small",{className:"text-muted",children:["Accepted file types: .jpg , .jpeg, .png, .svg, .webp"," "]})}),(0,k.jsx)(N.A,{image:ce,valueImage:ce})]})}),(0,k.jsxs)(c.A.Footer,{children:[(0,k.jsx)(r.A,{variant:"secondary",onClick:ze,children:"Cancel"}),(0,k.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(J&&ce&&oe){Ne(!0);try{const e=new FormData;e.append("category",J),e.append("image",ce),e.append("status",oe);const s=await De({id:V,role:ke,data:e});s.data?(h.oR.success(s.data.message,{autoClose:1e3}),q(!1),Fe(),Q(""),ie(""),de("")):h.oR.error(s.error.data.error,{autoClose:1e3})}catch(Re){console.error(Re)}finally{Ne(!1)}}else h.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:be,children:be?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]}),(0,k.jsxs)(c.A,{show:te,onHide:_e,centered:!0,dialogClassName:"all-modal",children:[(0,k.jsx)(c.A.Header,{closeButton:!0,children:(0,k.jsx)(c.A.Title,{children:"Add Categories"})}),(0,k.jsx)(c.A.Body,{children:(0,k.jsxs)(i.A,{children:[(0,k.jsxs)(i.A.Group,{controlId:"formCategory",children:[(0,k.jsxs)(i.A.Label,{children:["Category Name ",(0,k.jsx)("span",{className:"text-danger",children:"*"})]}),(0,k.jsx)(i.A.Control,{type:"text",placeholder:"Enter the category here",onChange:e=>{ne(e.target.value)}})]}),(0,k.jsxs)(i.A.Group,{controlId:"formFile",className:"mt-3",children:[(0,k.jsx)(w.A,{labelText:"Upload Image",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},handleFileChange:e=>{(e=>{Z(e)})(e)}}),(0,k.jsx)("div",{children:(0,k.jsxs)("small",{className:"text-muted",children:["Accepted file types: .jpg , .jpeg, .png, .svg, .webp"," "]})}),(0,k.jsx)(N.A,{image:X,valueImage:X})]})]})}),(0,k.jsxs)(c.A.Footer,{children:[(0,k.jsx)(r.A,{variant:"secondary",onClick:_e,children:"Cancel"}),(0,k.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(le&&X){Ne(!0);try{const e=new FormData;e.append("category",le),e.append("image",X);const s=await He({role:ke,data:e});s.data?(h.oR.success(s.data.message,{autoClose:1e3}),re(!1),Fe(),Q(""),Z("")):(h.oR.error(s.error.data.error,{autoClose:1e3}),Q(""),Z(""))}catch(Re){console.error(Re)}finally{Ne(!1)}}else h.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:be,children:be?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]}),(0,k.jsxs)(c.A,{show:Ce,onHide:()=>ye(!1),centered:!0,children:[(0,k.jsx)(c.A.Header,{closeButton:!0,children:(0,k.jsx)(c.A.Title,{children:"Confirm Update"})}),(0,k.jsx)(c.A.Body,{children:"Are you sure you want to update ?"}),(0,k.jsxs)(c.A.Footer,{children:[(0,k.jsx)(r.A,{variant:"secondary",onClick:()=>ye(!1),children:"Cancel"}),(0,k.jsx)(r.A,{style:{backgroundColor:e},onClick:async()=>{Ne(!0);const e="yes"===je?"no":"yes";try{const s={showInHomePage:e},a=await De({id:fe,role:ke,data:s});a.data?(h.oR.success(a.data.message,{autoClose:1e3}),ye(!1),Fe()):(h.oR.error(a.error.data.error,{autoClose:1e3}),ye(!1))}catch(Re){console.error(Re)}finally{Ne(!1)}},disabled:be,children:be?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Confirm..."]}):"Confirm"})]})]})]})})}},39585:()=>{}}]);
//# sourceMappingURL=2310.12bb7a75.chunk.js.map