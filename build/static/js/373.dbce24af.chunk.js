"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[373],{373:(e,s,a)=>{a.r(s),a.d(s,{default:()=>L});var l=a(65043),n=a(27491),r=a(53519),t=a(61072),o=a(78602),d=a(14282),i=a(27417),c=a(38628),x=a(25284),m=a(24522),u=a(31462),h=a(60184),j=a(63401),p=a(73216),A=a(62478),g=a(32479),C=a(39110),f=a(2519),N=a(36653),v=a(85959),b=a(92157),S=a.n(b),y=a(3825),k=a(13441),w=a(49804),z=a(70579);const L=()=>{const{color:e}=(0,N.D)(),[s,a]=(0,l.useState)([]),[b,L]=(0,l.useState)(1),[P,_]=(0,l.useState)(1),[F,I]=(0,l.useState)(1),[R,B]=(0,l.useState)(1),[E,H]=(0,l.useState)(0),[T,D]=(0,l.useState)(""),[O,Y]=(0,l.useState)(""),[G,V]=(0,l.useState)(!1),{id:q}=(0,p.g)(),[J,K]=(0,l.useState)(!1),[Q,U]=(0,l.useState)(""),[Z,$]=(0,l.useState)(!1),[M,W]=(0,l.useState)(!1),[X,ee]=(0,l.useState)(!1),[se,ae]=(0,l.useState)(!1),[le,ne]=(0,l.useState)(null),[re,te]=(0,l.useState)(""),[oe,de]=(0,l.useState)(!1),[ie,ce]=(0,l.useState)(!1),xe=(0,g.L)(),{data:me,refetch:ue,isLoading:he,isError:je,error:pe}=(0,A.mN)({page:b,search:T,id:q,role:xe}),[Ae]=(0,A.z9)(),[ge]=(0,A.CO)();(0,l.useEffect)((()=>{me&&me.data&&(a(me.data),_(me.pagination.startIndex),L(b),H(me.pagination.totalItems),I(me.pagination.endIndex),B(me.pagination.totalPages),ee(me.moduleAccess.fullAccess),$(me.moduleAccess.write),W(me.moduleAccess.read)),je&&500===(null===pe||void 0===pe?void 0:pe.status)?ce(!0):ce(!1)}),[me,b,xe,pe,je]);const Ce=()=>{V(!0),D(O),ue({page:b,search:O}).then((()=>{V(!1)}))},fe=()=>{K(!1),U("")},Ne=[];for(let l=1;l<=R;l++)Ne.push((0,z.jsx)(n.A.Item,{active:l===b,onClick:()=>L(l),children:l},l));return(0,z.jsxs)("div",{children:[he?(0,z.jsx)(C.A,{}):(0,z.jsx)(z.Fragment,{children:ie?(0,z.jsx)(v.A,{}):M?(0,z.jsxs)(r.A,{fluid:!0,className:"mt-3",children:[(0,z.jsx)(t.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,z.jsxs)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,z.jsx)("h4",{className:"fw-bold",children:"Service Area"}),Z&&(0,z.jsxs)(d.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{K(!0)},children:[(0,z.jsx)(h.OiG,{size:20}),(0,z.jsx)("span",{className:"d-none d-md-inline ms-2",children:"Add Service Area"})]})]})}),(0,z.jsxs)(t.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,z.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,z.jsxs)("div",{className:"input-group",children:[(0,z.jsx)("span",{className:"input-group-text",children:(0,z.jsx)(u.YQq,{})}),(0,z.jsx)("input",{type:"text",placeholder:"Search Service Areas...",className:"form-control",value:O,onChange:e=>Y(e.target.value),onKeyPress:e=>{"Enter"===e.key&&Ce()}}),O&&(0,z.jsx)("span",{className:"input-group-text",onClick:()=>{Y(""),D("")},style:{cursor:"pointer"},children:(0,z.jsx)(u.IeJ,{})})]})}),(0,z.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,z.jsx)(d.A,{style:{backgroundColor:e,border:"none"},onClick:Ce,disabled:G||""===O,children:G?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,z.jsx)(t.A,{className:"boxShadow p-4 mb-0",children:s.length>0?(0,z.jsx)(t.A,{xs:1,sm:2,md:3,lg:4,className:"g-4",children:s.map((e=>(0,z.jsx)(o.A,{children:(0,z.jsx)(c.A,{className:"h-100",children:(0,z.jsxs)(c.A.Body,{className:"d-flex flex-column",children:[(0,z.jsxs)(c.A.Title,{children:["Pincode: ",e.pincode]}),(0,z.jsx)(c.A.Text,{}),(0,z.jsx)("div",{className:"mt-auto text-center",children:(0,z.jsx)(d.A,{variant:"yes"===e.provideService?"success":"danger",className:"me-2",onClick:()=>{var s,a;s=e._id,a=e.provideService,ne(s),ae(!0),te(a)},children:"yes"===e.provideService?"Yes":"No"})})]})})},e._id)))}):(0,z.jsx)(o.A,{children:(0,z.jsx)("p",{className:"text-center",children:"No Service Areas found."})})}),R>1&&(0,z.jsxs)(t.A,{className:"mb-4 mt-4",children:[(0,z.jsx)(o.A,{className:"mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,z.jsx)(S(),{breakLabel:"...",onPageChange:e=>L(e.selected+1),pageRangeDisplayed:5,pageCount:R,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,z.jsx)(k.Vx.Provider,{value:{color:e,size:"28px"},children:(0,z.jsx)(y.dnY,{})}),nextLabel:(0,z.jsx)(k.Vx.Provider,{value:{color:e,size:"28px"},children:(0,z.jsx)(y.m2f,{})})})}),(0,z.jsxs)(o.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,z.jsx)(d.A,{style:{backgroundColor:e,border:"none"},onClick:()=>L(b-1),disabled:1===b,className:"m-2",children:(0,z.jsx)(w.o_z,{size:14})}),(0,z.jsx)(d.A,{style:{backgroundColor:e,border:"none"},onClick:()=>L(b+1),disabled:b===R,children:(0,z.jsx)(w.hdn,{size:14})})]})]})]}):(0,z.jsx)(f.A,{})}),(0,z.jsxs)(x.A,{show:se,onHide:()=>ae(!1),centered:!0,children:[(0,z.jsx)(x.A.Header,{closeButton:!0,children:(0,z.jsx)(x.A.Title,{children:"Confirm Update"})}),(0,z.jsx)(x.A.Body,{children:"Are you sure you want to update ?"}),(0,z.jsxs)(x.A.Footer,{children:[(0,z.jsx)(d.A,{variant:"secondary",onClick:()=>ae(!1),children:"Cancel"}),(0,z.jsx)(d.A,{style:{backgroundColor:e},onClick:async()=>{de(!0);const e="yes"===re?"no":"yes";try{const s={provideService:e},a=await Ae({id:le,role:xe,data:s});a.data?(j.oR.success(a.data.message,{autoClose:1e3}),ae(!1),ue()):(j.oR.error(a.error.data.error,{autoClose:1e3}),ae(!1))}catch(pe){console.error(pe)}finally{de(!1)}},disabled:oe,children:oe?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Confirm..."]}):"Confirm"})]})]}),(0,z.jsxs)(x.A,{show:J,onHide:fe,centered:!0,dialogClassName:"all-modal",children:[(0,z.jsx)(x.A.Header,{closeButton:!0,children:(0,z.jsx)(x.A.Title,{children:"Add Service Area"})}),(0,z.jsx)(x.A.Body,{children:(0,z.jsx)(m.A,{children:(0,z.jsxs)(m.A.Group,{controlId:"addDeviceInput",className:"mb-3",children:[(0,z.jsxs)(m.A.Label,{children:["Pincode ",(0,z.jsx)("span",{className:"text-danger",children:"*"})]}),(0,z.jsx)(m.A.Control,{type:"number",placeholder:"Enter the pincode here",value:Q,onChange:e=>{U(e.target.value)}})]})})}),(0,z.jsxs)(x.A.Footer,{children:[(0,z.jsx)(d.A,{variant:"secondary",onClick:fe,children:"Cancel"}),(0,z.jsx)(d.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(/^\d{6}$/.test(Q)){de(!0);try{const e={pincode:Q},s=await ge({role:xe,data:e});s.data?(j.oR.success(s.data.message,{autoClose:1e3}),K(!1),ue(),U("")):j.oR.error(s.error.data.error,{autoClose:1e3})}catch(pe){console.error(pe),j.oR.error("Failed to add Service Area.",{autoClose:1e3})}finally{de(!1)}}else j.oR.error("Please enter a valid 6-digit pincode",{autoClose:1e3})},disabled:oe,children:oe?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Adding..."]}):"Add"})]})]})]})}}}]);
//# sourceMappingURL=373.dbce24af.chunk.js.map