"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[9061],{39110:(e,a,t)=>{t.d(a,{A:()=>l});t(65043);var s=t(53519),r=(t(36386),t(79340)),n=t(70579);const l=()=>(0,n.jsxs)(s.A,{className:"vh-100 d-flex flex-column justify-content-center align-items-center",children:[(0,n.jsx)("img",{src:r,alt:"Loading...",style:{width:"150px",height:"150px"}}),(0,n.jsx)("div",{className:"text mt-3",children:"Loading ..."})]})},98954:(e,a,t)=>{t.d(a,{A:()=>A});var s=t(65043),r=t(71094),n=t(53519),l=t(61072),d=t(64196),o=t(78602),i=t(14282),c=t(49804),m=t(60184),u=t(3825),x=t(92157),h=t.n(x),p=t(13441),g=(t(39585),t(36653)),j=t(70579);const A=e=>{const{color:a}=(0,g.D)(),t=(0,s.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),x=(0,s.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:A,getTableBodyProps:b,headerGroups:v,prepareRow:N,page:f}=(0,r.useTable)({columns:t,data:x,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(n.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(l.A,{children:[(0,j.jsxs)(d.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...A(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:v.map(((e,a)=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:a},e.headers.map(((e,a)=>(0,s.createElement)("th",{...e.getHeaderProps(),key:a,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:a=>{a.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(m.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...b(),children:f.length>0?f.map(((a,t)=>(N(a),(0,s.createElement)("tr",{...a.getRowProps(),key:t},a.cells.map(((a,r)=>{const n="action"===a.column.id||"localShop"===a.column.id||"serviceCenter"===a.column.id||"ourServices"===a.column.id||"addInCarousel"===a.column.id;return(0,s.createElement)("td",{...a.getCellProps(),key:r,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:t<=e.count-1?"#cfd1d1":""}},n||a.value?a.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:t.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(o.A,{className:"".concat(f.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(o.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(o.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(h(),{breakLabel:"...",onPageChange:a=>e.setCurrentPage(a.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:a,size:"28px"},children:(0,j.jsx)(u.dnY,{})}),nextLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:a,size:"28px"},children:(0,j.jsx)(u.m2f,{})})})}),(0,j.jsxs)(o.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(i.A,{style:{backgroundColor:a,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(c.o_z,{size:14})}),(0,j.jsx)(i.A,{style:{backgroundColor:a,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(c.hdn,{size:14})})]})]})]})})})}},69061:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var s=t(65043),r=t(53519),n=t(61072),l=t(78602),d=t(24522),o=t(14282),i=t(27417),c=t(25284),m=t(98954),u=t(31462),x=t(63401),h=t(32479),p=t(39110),g=t(65797),j=t(6720),A=t(11238),b=t(37762),v=(t(20557),t(2519),t(36653)),N=t(31121),f=t(70579);const C=()=>{const{color:e}=(0,v.D)(),[a,t]=(0,s.useState)([]),[C,y]=(0,s.useState)(1),[w,S]=(0,s.useState)(1),[k,P]=(0,s.useState)(1),[_,D]=(0,s.useState)(1),[E,L]=(0,s.useState)(0),[I,H]=(0,s.useState)(""),[F,M]=(0,s.useState)(""),[O,R]=(0,s.useState)(!1),[W,U]=(0,s.useState)(""),[z,T]=(0,s.useState)(""),[B,G]=(0,s.useState)(""),[K,V]=(0,s.useState)(!1),[Y,q]=(0,s.useState)(!1),J=(0,h.L)(),{data:Q,isLoading:Z}=(0,g.Cd)({page:C,search:I,role:J,startDate:W,endDate:z,dayFilter:B,type:"user",limit:"10"}),{data:X,refetch:$}=(0,g.om)({role:J,search:I,startDate:W,endDate:z,dayFilter:B,type:"user"}),ee=e=>(0,N.GP)(new Date(e),"dd-MMM-yyyy h:mm a");(0,s.useEffect)((()=>{Q&&Q.data&&(t(Q.data),S(Q.pagination.startIndex),y(C),L(Q.pagination.totalItems),P(Q.pagination.endIndex),D(Q.pagination.totalPages))}),[Q,C,J]);const ae=()=>{R(!0),H(F),$({page:C,search:F}).then((()=>{R(!1)}))},te=async e=>{q(!0);try{const{data:t,error:s}=X;if(t&&Array.isArray(t)){if(0===t.length)return void x.oR.warn("No data to export",{autoClose:1e3});const s=t.map((e=>{var a,t,s,r,n,l,d,o;const i=e.address&&e.address.length>0?null===(a=e.address.find((e=>!0===e.primaryAddress)))||void 0===a?void 0:a.address:"-";return{s_no:null!==(t=e.s_no)&&void 0!==t?t:"-",userName:null!==(s=e.userName)&&void 0!==s?s:"-",phoneNumber:null!==(r=e.phoneNumber)&&void 0!==r?r:"-",email:null!==(n=e.email)&&void 0!==n?n:"-",dob:null!==(l=e.dob)&&void 0!==l?l:"-",address:null!==i&&void 0!==i?i:"-",createdAt:null!==(d=e.createdAt)&&void 0!==d?d:"-",updatedAt:null!==(o=e.updatedAt)&&void 0!==o?o:"-"}})),r=["S.No","User Name","Phone Number","Email","Date Of Birth","Address","Created At","Update At"];if("xlsx"===e){const e="exported_user.xlsx",a=A.Wp.json_to_sheet(s);A.Wp.sheet_add_aoa(a,[r],{origin:"A1"});const t=A.Wp.book_new();A.Wp.book_append_sheet(t,a,"user"),A._h(t,e),V(!1)}else if("pdf"===e)try{const e=new b.default({orientation:"landscape",format:"a3"}),a=t.map((e=>{var a,t,s,r,n,l,d,o;const i=e.address&&e.address.length>0?null===(a=e.address.find((e=>!0===e.primaryAddress)))||void 0===a?void 0:a.address:"-";return[null!==(t=e.s_no)&&void 0!==t?t:"-",null!==(s=e.userName)&&void 0!==s?s:"-",null!==(r=e.phoneNumber)&&void 0!==r?r:"-",null!==(n=e.email)&&void 0!==n?n:"-",null!==(l=e.dob)&&void 0!==l?l:"-",null!==i&&void 0!==i?i:"-",null!==(d=ee(e.createdAt))&&void 0!==d?d:"-",null!==(o=e.updatedAt)&&void 0!==o?o:"-"]}));e.autoTable({head:[["S.No","User Name","Phone Number","Email","Date Of Birth","Address","Created At","Update At"]],body:a,theme:"striped",styles:{cellWidth:"wrap"},columnStyles:{1:{cellWidth:"auto"}}}),e.save("exported_user.pdf")}catch(a){console.error("Error generating PDF:",a),x.oR.error("Error generating PDF",{autoClose:1e3})}else if("csv"===e){const e="exported_user.csv",a=A.Wp.json_to_sheet(s);A.Wp.sheet_add_aoa(a,[r],{origin:"A1"});const t=A.Wp.sheet_to_csv(a),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),d=URL.createObjectURL(n);l.setAttribute("href",d),l.setAttribute("download",e),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}U(""),T(""),G(""),V(!1)}else s?x.oR.error(s.message,{autoClose:1e3}):x.oR.error("Unknown error occurred",{autoClose:1e3})}catch(t){console.error("Error exporting data:",t),x.oR.error("Error exporting data",{autoClose:1e3})}finally{q(!1)}},se=[{Header:"ID",accessor:"s_no"},{Header:"User Name",accessor:"userName"},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Email",accessor:"email"},{Header:"Date Of Birth",accessor:"dob"},{Header:"Address",accessor:"address",Cell:e=>{let{value:a}=e;return a&&a.length>0?a[0].address:""}},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:a}=e;return ee(a)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:a}=e;return ee(a)}}];return(0,f.jsxs)(f.Fragment,{children:[Z?(0,f.jsx)(p.A,{}):(0,f.jsx)("div",{children:(0,f.jsxs)(r.A,{fluid:!0,className:"mt-3 ",children:[(0,f.jsxs)(n.A,{className:"boxShadow p-4 mb-4 mt-4 align-items-center justify-content-between",children:[(0,f.jsx)(n.A,{className:"p-2 mb-2 mt-2 align-items-center justify-content-between",children:(0,f.jsx)(l.A,{xs:"12",md:"auto",children:(0,f.jsx)("h4",{className:"fw-bold text-center text-md-start",children:"User Reports"})})}),(0,f.jsxs)(l.A,{xs:"12",md:"auto",className:"d-flex flex-column flex-md-row justify-content-end align-items-center",children:[(0,f.jsxs)(d.A.Group,{controlId:"startDate",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,f.jsx)(d.A.Label,{children:"Start Date:"}),(0,f.jsx)(d.A.Control,{type:"date",value:W,onChange:e=>{const a=e.target.value;z&&a>=z?x.oR.warning("Start date must be earlier than the end date.",{autoClose:2e3}):(U(a),G(""))},disabled:B})]}),(0,f.jsxs)(d.A.Group,{controlId:"endDate",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,f.jsx)(d.A.Label,{children:"End Date:"}),(0,f.jsx)(d.A.Control,{type:"date",value:z,onChange:e=>{const a=e.target.value;W&&a<W?x.oR.warning("End date must be later than the start date.",{autoClose:2e3}):(T(a),G(""))},disabled:B})]}),(0,f.jsxs)(d.A.Group,{controlId:"period",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,f.jsx)(d.A.Label,{children:"Period:"}),(0,f.jsxs)(d.A.Select,{value:B,onChange:e=>{G(e.target.value),U(""),T("")},disabled:W||z,children:[(0,f.jsx)("option",{value:"",children:"Select Period"}),(0,f.jsx)("option",{value:"lastWeek",children:"Last Week"}),(0,f.jsx)("option",{value:"lastMonth",children:"Last Month"}),(0,f.jsx)("option",{value:"lastYear",children:"Last Year"})]})]}),(0,f.jsxs)(o.A,{variant:"success",onClick:()=>V(!0),className:"align-self-end mx-md-2 w-100 w-md-auto",children:["Download ",(0,f.jsx)(j.mCe,{size:25})]})]})]}),(0,f.jsxs)(n.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,f.jsx)(l.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("span",{className:"input-group-text",children:(0,f.jsx)(u.YQq,{})}),(0,f.jsx)("input",{type:"text",placeholder:"Search Categories...",className:"form-control",value:F,onChange:e=>M(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ae()}}),F&&(0,f.jsx)("span",{className:"input-group-text",onClick:()=>{M(""),H("")},children:(0,f.jsx)(u.IeJ,{})})]})}),(0,f.jsx)(l.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,f.jsx)(o.A,{style:{backgroundColor:e,border:"none"},onClick:ae,disabled:O||""===F,children:O?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,f.jsx)(n.A,{className:"boxShadow p-4 mb-4",children:(0,f.jsx)(m.A,{COLUMNS:se,MOCK_DATA:a,currentPage:C,startIndex:w,endIndex:k,setCurrentPage:y,totalItems:E,totalPages:_})})]})}),(0,f.jsxs)(c.A,{show:K,onHide:()=>V(!1),centered:!0,children:[(0,f.jsx)(c.A.Header,{closeButton:!0,children:(0,f.jsx)(c.A.Title,{children:"Export Data"})}),(0,f.jsxs)(c.A.Body,{children:[(0,f.jsx)(o.A,{variant:"primary",className:"m-2",onClick:()=>te("pdf"),disabled:Y,children:Y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting PDF..."]}):"Export as PDF"}),(0,f.jsx)(o.A,{variant:"success",className:"m-2",onClick:()=>te("xlsx"),disabled:Y,children:Y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting Excel..."]}):"Export as Excel"}),(0,f.jsx)(o.A,{variant:"warning",className:"m-2",onClick:()=>te("csv"),disabled:Y,children:Y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting CSV..."]}):"Export as CSV"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=9061.64e71bd0.chunk.js.map