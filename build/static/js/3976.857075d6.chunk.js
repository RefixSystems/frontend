"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[3976],{98943:(e,a,r)=>{r.d(a,{A:()=>C});var s=r(65043),t=r(71094),n=r(53519),l=r(61072),o=r(78602),i=r(24522),c=r(14282),d=r(64196),x=r(49804),u=r(60184),h=r(3825),m=r(92157),g=r.n(m),p=r(13441),j=(r(39585),r(70579));const C=e=>{const a=(0,s.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),r=(0,s.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:m,getTableBodyProps:C,headerGroups:A,setGlobalFilter:v,prepareRow:f,rows:b,state:N}=(0,t.useTable)({columns:a,data:r,autoResetWidth:!1},t.useGlobalFilter,t.useSortBy,t.usePagination);return(0,j.jsx)("div",{children:(0,j.jsxs)(n.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:[!1!==e.isHeading?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(l.A,{className:"d-flex  flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,j.jsx)(o.A,{className:"my-4",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,j.jsx)(i.A.Control,{placeholder:"Search here...",value:N.globalFilter||"",onChange:e=>v(e.target.value.trim()),className:""})}),(0,j.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,j.jsx)(c.A,{className:" text-white fw-bold ",style:{outline:"none",border:"none",backgroundColor:"#db6300"},children:"Search"})})]})}):(0,j.jsx)(j.Fragment,{}),(0,j.jsxs)(l.A,{children:[(0,j.jsxs)(d.A,{className:"justify-content-center align-items-center",striped:!0,bordered:!0,hover:!0,...m(),responsive:!0,style:{width:"100%"},children:[(0,j.jsx)("thead",{children:A.map(((e,a)=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:a},e.headers.map(((e,a)=>(0,s.createElement)("th",{...e.getHeaderProps(),key:a,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:a=>{a.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(u.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...C(),children:b.length>0?b.map(((e,a)=>(f(e),(0,s.createElement)("tr",{...e.getRowProps(),key:a},e.cells.map(((e,a)=>{const r="action"===e.column.id||"write"===e.column.id||"read"===e.column.id||"fullAccess"===e.column.id;return(0,s.createElement)("td",{...e.getCellProps(),key:a,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch"}},r||e.value?e.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),!1!==e.isPagination?(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsxs)(o.A,{className:"".concat(page.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsxs)(o.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:[(0,j.jsxs)("span",{className:"m-1",children:["Page"," ",(0,j.jsxs)("strong",{className:"m-2",children:[e.currentPage," of ",e.totalPages]})]}),(0,j.jsx)(l.A,{children:(0,j.jsxs)("span",{className:"m-1",children:["Items per page"," ",(0,j.jsx)("strong",{className:"m-2",children:e.itemsPerPage})]})})]}),(0,j.jsx)(o.A,{className:"d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(g(),{breakLabel:"...",onPageChange:a=>e.setCurrentPage(a.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:"#db6300",size:"28px"},children:(0,j.jsx)(h.dnY,{})}),nextLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:"#db6300",size:"28px"},children:(0,j.jsx)(h.m2f,{})})})}),(0,j.jsxs)(o.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(c.A,{style:{backgroundColor:"#db6300",border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(x.o_z,{size:14})}),(0,j.jsx)(c.A,{style:{backgroundColor:"#db6300",border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(x.hdn,{size:14})})]})]})]}):(0,j.jsx)(j.Fragment,{})]})]})})}},63976:(e,a,r)=>{r.r(a),r.d(a,{default:()=>S});var s=r(65043),t=r(14282),n=r(53519),l=r(61072),o=r(78602),i=r(27417),c=r(25284),d=r(24522),x=r(98943),u=r(31462),h=r(63401),m=r(60184),g=r(36017),p=r(6720),j=r(73216),C=r(32479),A=r(2519),v=r(39110),f=r(36653),b=(r(31121),r(81399)),N=r(95753),y=r(85959),w=r(70579);const S=()=>{const{color:e}=(0,f.D)(),[a,r]=(0,s.useState)([]),[S,P]=(0,s.useState)(""),[L,k]=(0,s.useState)(""),[O,E]=(0,s.useState)(!1),{id:T}=(0,j.g)(),[I,D]=(0,s.useState)(null),[H,F]=(0,s.useState)(!1),[_,R]=(0,s.useState)(!1),[G,M]=(0,s.useState)(""),[V,z]=(0,s.useState)(!1),[B,U]=(0,s.useState)(null),[K,W]=(0,s.useState)(""),[Y,q]=(0,s.useState)(""),[J,Q]=(0,s.useState)(""),[Z,X]=(0,s.useState)(null),[$,ee]=(0,s.useState)(!1),[ae,re]=(0,s.useState)(!1),[se,te]=(0,s.useState)(!1),[ne,le]=(0,s.useState)(!1),oe=(0,C.L)(),[ie,ce]=(0,s.useState)(null),[de,xe]=(0,s.useState)(!1),[ue,he]=(0,s.useState)(null),{data:me,refetch:ge,isLoading:pe,isError:je,error:Ce}=(0,b.d_)({search:S,id:T,role:oe}),[Ae]=(0,b.e6)(),[ve]=(0,b.Fz)(),[fe]=(0,b.hL)(),{data:be}=(0,b.yq)({role:oe}),Ne=((null===be||void 0===be?void 0:be.data)||[]).map((e=>({label:e,value:e})))||[];(0,s.useEffect)((()=>{me&&me.data&&(r(me.data),ce(Object.keys(me.data)),te(me.moduleAccess.fullAccess),ee(me.moduleAccess.write),re(me.moduleAccess.read)),je&&500===(null===Ce||void 0===Ce?void 0:Ce.status)?xe(!0):xe(!1)}),[me,oe,Ce,je]);const ye=()=>{E(!0),P(L),ge({search:L}).then((()=>{E(!1)}))},we=()=>{F(!1),D(null),U(""),q(""),Q(""),W("")},Se=()=>{z(!1),U(""),q(""),Q(""),W("")},Pe=[{Header:"ID",accessor:(e,a)=>a+1},{Header:"Description",accessor:"description"},{Header:"Labour Charge(\u20b9)",accessor:"labourCharge"},{Header:"Service Charge(\u20b9)",accessor:"serviceCharge"}];se&&Pe.push({Header:"ACTIONS",accessor:"action",Cell:e=>{const r=e.row.original._id;return(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,w.jsx)(t.A,{variant:"warning",onClick:()=>(e=>{for(const r in a){const s=a[r].find((a=>a._id===e));if(s)return D(e),U({label:s.component,value:s.component}),W(s.description),q(s.labourCharge),Q(s.serviceCharge),void F(!0)}})(r),children:(0,w.jsx)(m.uO9,{})}),(0,w.jsx)(t.A,{variant:"danger",className:"ms-2",onClick:()=>(e=>{M(e),R(!0)})(r),children:(0,w.jsx)(p.b6i,{})})]})}});const Le=e=>a[e]||[];return(0,w.jsx)(w.Fragment,{children:pe?(0,w.jsx)(v.A,{}):(0,w.jsxs)("div",{children:[de?(0,w.jsx)(y.A,{}):ae?(0,w.jsxs)(n.A,{fluid:!0,className:"mt-3 ",children:[(0,w.jsx)(l.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,w.jsxs)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,w.jsx)("h4",{className:"fw-bold",children:"Price Chart"}),$?(0,w.jsx)("div",{children:(0,w.jsxs)(t.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{z(!0)},children:[(0,w.jsx)(m.OiG,{size:20}),(0,w.jsxs)("span",{className:"d-none d-md-inline",children:[" ","Add Price Chart"]})]})}):(0,w.jsx)(w.Fragment,{})]})}),(0,w.jsxs)(l.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,w.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("span",{className:"input-group-text",children:(0,w.jsx)(u.YQq,{})}),(0,w.jsx)("input",{type:"text",placeholder:"Search Price Chart...",className:"form-control",value:L,onChange:e=>k(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ye()}}),L&&(0,w.jsx)("span",{className:"input-group-text",onClick:()=>{k(""),P("")},children:(0,w.jsx)(u.IeJ,{})})]})}),(0,w.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,w.jsx)(t.A,{style:{backgroundColor:e,border:"none"},onClick:ye,disabled:O||""===L,children:O?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,w.jsx)(l.A,{className:"boxShadow p-4 mb-4",children:(0,w.jsx)(o.A,{children:ie.map((e=>(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"subtitle my-2 mx-3 d-flex justify-content-between align-items-center",onClick:()=>(e=>{he(ue===e?null:e)})(e),style:{cursor:"pointer"},children:[(0,w.jsx)("h5",{children:e}),ue===e?(0,w.jsx)(m.Ucs,{}):(0,w.jsx)(m.Vr3,{})]}),ue===e&&(0,w.jsx)(x.A,{COLUMNS:Pe,MOCK_DATA:Le(e),isPagination:!1,isHeading:!1}),(0,w.jsx)("hr",{})]},e)))})})," ",(0,w.jsx)(g.A,{YES:async()=>{try{const r=await ve({id:G,role:oe});var e,a;if(R(!1),M(""),null!==r&&void 0!==r&&r.data)h.oR.success(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.message,{autoClose:1e3});else h.oR.error(null===r||void 0===r||null===(a=r.error)||void 0===a?void 0:a.data.error,{autoClose:1e3})}catch(Ce){console.error(Ce)}},DELETESTATE:_,ONCLICK:()=>{R(!1)},DESCRIPTION:"Are you sure want to delete this PriceChart",DELETETITLE:"PriceChart"})]}):(0,w.jsx)(A.A,{}),(0,w.jsxs)(c.A,{show:H,onHide:we,centered:!0,dialogClassName:"all-modal",children:[(0,w.jsx)(c.A.Header,{closeButton:!0,children:(0,w.jsx)(c.A.Title,{children:"Edit PriceChart"})}),(0,w.jsx)(c.A.Body,{children:(0,w.jsxs)(d.A,{children:[(0,w.jsxs)(d.A.Group,{controlId:"deviceNameInput",children:[(0,w.jsxs)(d.A.Label,{children:[" ","Price Title ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(N.A,{options:Ne,value:B,onChange:U,placeholder:"Select or type Price Title"})]}),(0,w.jsxs)(d.A.Group,{controlId:"deviceNameInput",children:[(0,w.jsxs)(d.A.Label,{children:["Description ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"text",placeholder:"Enter the Description here",value:K,onChange:e=>{W(e.target.value)}})]}),(0,w.jsxs)(d.A.Group,{controlId:"deviceNameInput",children:[(0,w.jsxs)(d.A.Label,{children:["Labour Price ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"text",placeholder:"Enter the Labour Price here",value:Y,onChange:e=>{q(e.target.value)}})]}),(0,w.jsxs)(d.A.Group,{controlId:"deviceNameInput",children:[(0,w.jsxs)(d.A.Label,{children:["Service Price ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"text",placeholder:"Enter the Service Price here",value:J,onChange:e=>{Q(e.target.value)}})]})]})}),(0,w.jsxs)(c.A.Footer,{children:[(0,w.jsx)(t.A,{variant:"secondary",onClick:we,children:"Cancel"}),(0,w.jsx)(t.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(B&&K&&J&&Y){le(!0);try{const e=await Ae({id:I,role:oe,data:{component:B.value,description:K,serviceCharge:J,labourCharge:Y}});e.data?(h.oR.success(e.data.message,{autoClose:1e3}),F(!1),ge(),U(""),q(""),Q(""),W("")):(h.oR.error(e.error.data.error,{autoClose:1e3}),U(""),q(""),Q(""),W(""))}catch(Ce){console.error(Ce)}finally{le(!1)}}else h.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:ne,children:ne?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]}),(0,w.jsxs)(c.A,{show:V,onHide:Se,centered:!0,dialogClassName:"all-modal",children:[(0,w.jsx)(c.A.Header,{closeButton:!0,children:(0,w.jsx)(c.A.Title,{children:"Add PriceChart"})}),(0,w.jsx)(c.A.Body,{children:(0,w.jsxs)(d.A,{children:[(0,w.jsxs)(d.A.Group,{controlId:"priceTitle",children:[(0,w.jsxs)(d.A.Label,{children:["Price Title ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(N.A,{options:Ne,value:B,onChange:U,placeholder:"Select or type Price Title"})]}),(0,w.jsxs)(d.A.Group,{controlId:"priceDescription",children:[(0,w.jsxs)(d.A.Label,{children:["Description ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"text",placeholder:"Enter the Price Title here",onChange:e=>{W(e.target.value)}})]}),(0,w.jsxs)(d.A.Group,{controlId:"labourcharge",children:[(0,w.jsxs)(d.A.Label,{children:["Labour Charge ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"number",placeholder:"Enter the Labour Charge here",onChange:e=>{q(e.target.value)}})]}),(0,w.jsxs)(d.A.Group,{controlId:"servicecharge",children:[(0,w.jsxs)(d.A.Label,{children:["Service Charge ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"number",placeholder:"Enter the Service Charge here",onChange:e=>{Q(e.target.value)}})]})]})}),(0,w.jsxs)(c.A.Footer,{children:[(0,w.jsx)(t.A,{variant:"secondary",onClick:Se,children:"Cancel"}),(0,w.jsx)(t.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(B&&K&&J&&Y){le(!0);try{const e=await fe({role:oe,data:{component:B.value,description:K,serviceCharge:J,labourCharge:Y}});e.data?(h.oR.success(e.data.message,{autoClose:1e3}),z(!1),ge()):h.oR.error(e.error.data.error,{autoClose:1e3})}catch(Ce){console.error(Ce)}finally{le(!1)}}else h.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:ne,children:ne?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]})})}},95753:(e,a,r)=>{r.d(a,{A:()=>m});var s=r(58168),t=r(65043),n=r(61404),l=r(9817),o=r(89379),i=r(45458),c=r(80045),d=r(18392),x=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],u=function(){var e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),s=String(a.getOptionValue(e)).toLowerCase(),t=String(a.getOptionLabel(e)).toLowerCase();return s===r||t===r},h={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,a,r,s){return!(!e||a.some((function(a){return u(e,a,s)}))||r.some((function(a){return u(e,a,s)})))},getNewOptionData:function(e,a){return{label:a,value:e,__isNew__:!0}}};r(97950),r(11322);var m=(0,t.forwardRef)((function(e,a){var r=function(e){var a=e.allowCreateWhileLoading,r=void 0!==a&&a,s=e.createOptionPosition,l=void 0===s?"last":s,u=e.formatCreateLabel,m=void 0===u?h.formatCreateLabel:u,g=e.isValidNewOption,p=void 0===g?h.isValidNewOption:g,j=e.getNewOptionData,C=void 0===j?h.getNewOptionData:j,A=e.onCreateOption,v=e.options,f=void 0===v?[]:v,b=e.onChange,N=(0,c.A)(e,x),y=N.getOptionValue,w=void 0===y?n.g:y,S=N.getOptionLabel,P=void 0===S?n.b:S,L=N.inputValue,k=N.isLoading,O=N.isMulti,E=N.value,T=N.name,I=(0,t.useMemo)((function(){return p(L,(0,d.H)(E),f,{getOptionValue:w,getOptionLabel:P})?C(L,m(L)):void 0}),[m,C,P,w,L,p,f,E]),D=(0,t.useMemo)((function(){return!r&&k||!I?f:"first"===l?[I].concat((0,i.A)(f)):[].concat((0,i.A)(f),[I])}),[r,l,k,I,f]),H=(0,t.useCallback)((function(e,a){if("select-option"!==a.action)return b(e,a);var r=Array.isArray(e)?e:[e];if(r[r.length-1]!==I)b(e,a);else if(A)A(L);else{var s=C(L,L),t={action:"create-option",name:T,option:s};b((0,d.D)(O,[].concat((0,i.A)((0,d.H)(E)),[s]),s),t)}}),[C,L,O,T,I,A,b,E]);return(0,o.A)((0,o.A)({},N),{},{options:D,onChange:H})}((0,l.u)(e));return t.createElement(n.S,(0,s.A)({ref:a},r))}))},39585:()=>{}}]);
//# sourceMappingURL=3976.857075d6.chunk.js.map