"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[4276],{98954:(e,a,s)=>{s.d(a,{A:()=>A});var t=s(65043),l=s(71094),r=s(53519),n=s(61072),o=s(64196),d=s(78602),c=s(14282),i=s(49804),x=s(60184),m=s(3825),u=s(92157),h=s.n(u),p=s(13441),j=(s(39585),s(36653)),g=s(70579);const A=e=>{const{color:a}=(0,j.D)(),s=(0,t.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),u=(0,t.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:A,getTableBodyProps:C,headerGroups:N,prepareRow:b,page:y}=(0,l.useTable)({columns:s,data:u,autoResetWidth:!1},l.useGlobalFilter,l.useSortBy,l.usePagination);return(0,g.jsx)("div",{children:(0,g.jsx)(r.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,g.jsxs)(n.A,{children:[(0,g.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...A(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,g.jsx)("thead",{children:N.map(((e,a)=>(0,t.createElement)("tr",{...e.getHeaderGroupProps(),key:a},e.headers.map(((e,a)=>(0,t.createElement)("th",{...e.getHeaderProps(),key:a,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:a=>{a.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,g.jsx)(g.Fragment,{children:e.render("Header")}):(0,g.jsxs)("div",{children:[e.render("Header"),(0,g.jsx)(x.MjW,{className:"mx-2"})]})))))))}),(0,g.jsx)("tbody",{...C(),children:y.length>0?y.map(((a,s)=>(b(a),(0,t.createElement)("tr",{...a.getRowProps(),key:s},a.cells.map(((a,l)=>{const r="action"===a.column.id||"localShop"===a.column.id||"serviceCenter"===a.column.id||"ourServices"===a.column.id||"addInCarousel"===a.column.id;return(0,t.createElement)("td",{...a.getCellProps(),key:l,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:s<=e.count-1?"#cfd1d1":""}},r||a.value?a.render("Cell"):"-")})))))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:s.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,g.jsxs)(d.A,{className:"".concat(y.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,g.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,g.jsxs)("span",{className:"m-1",children:["Showing","",(0,g.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,g.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,g.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,g.jsx)(h(),{breakLabel:"...",onPageChange:a=>e.setCurrentPage(a.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,g.jsx)(p.Vx.Provider,{value:{color:a,size:"28px"},children:(0,g.jsx)(m.dnY,{})}),nextLabel:(0,g.jsx)(p.Vx.Provider,{value:{color:a,size:"28px"},children:(0,g.jsx)(m.m2f,{})})})}),(0,g.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,g.jsx)(c.A,{style:{backgroundColor:a,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,g.jsx)(i.o_z,{size:14})}),(0,g.jsx)(c.A,{style:{backgroundColor:a,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,g.jsx)(i.hdn,{size:14})})]})]})]})})})}},74276:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var t=s(65043),l=s(14282),r=s(53519),n=s(61072),o=s(78602),d=s(27417),c=s(25284),i=s(24522),x=s(98954),m=s(31462),u=s(63401),h=s(60184),p=s(36017),j=s(6720),g=s(73216),A=s(11362),C=s(32479),N=s(39110),b=s(2519),y=s(36653),f=s(31121),v=s(85959),S=s(70579);const w=()=>{const{color:e}=(0,y.D)(),[a,s]=(0,t.useState)([]),[w,k]=(0,t.useState)(1),[I,E]=(0,t.useState)(1),[P,T]=(0,t.useState)(1),[L,H]=(0,t.useState)(1),[O,D]=(0,t.useState)(0),[R,_]=(0,t.useState)(""),[M,B]=(0,t.useState)(""),[G,F]=(0,t.useState)(!1),{id:z}=(0,g.g)(),[U,K]=(0,t.useState)(null),[W,Y]=(0,t.useState)(!1),[V,q]=(0,t.useState)(!1),[J,Q]=(0,t.useState)(""),[Z,X]=(0,t.useState)(!1),[$,ee]=(0,t.useState)(""),[ae,se]=(0,t.useState)(""),[te,le]=(0,t.useState)(""),[re,ne]=(0,t.useState)(""),[oe,de]=(0,t.useState)(""),[ce,ie]=(0,t.useState)(""),[xe,me]=(0,t.useState)(!1),[ue,he]=(0,t.useState)(!1),[pe,je]=(0,t.useState)(!1),[ge,Ae]=(0,t.useState)(!1),[Ce,Ne]=(0,t.useState)(!1),be=(0,C.L)(),{data:ye,refetch:fe,isLoading:ve,isError:Se,error:we}=(0,A.A)({page:w,search:R,id:z,role:be}),[ke]=(0,A.Ns)(),[Ie]=(0,A.yu)(),[Ee]=(0,A.gN)(),Pe=e=>(0,f.GP)(new Date(e),"dd-MMM-yyyy h:mm a");(0,t.useEffect)((()=>{ye&&ye.data&&(s(ye.data),E(ye.pagination.startIndex),k(w),D(ye.pagination.totalItems),T(ye.pagination.endIndex),H(ye.pagination.totalPages),je(ye.moduleAccess.fullAccess),me(ye.moduleAccess.write),he(ye.moduleAccess.read)),Se&&500===(null===we||void 0===we?void 0:we.status)?Ae(!0):Ae(!1)}),[ye,w,be,we,Se]);const Te=()=>{F(!0),_(M),fe({page:w,search:M}).then((()=>{F(!1)}))},Le=()=>{Y(!1),K(null)},He=()=>{X(!1),ee(""),se(""),le("")},Oe=[{Header:"ID",accessor:"s_no"},{Header:"Template Name",accessor:"templateName"},{Header:"Subject",accessor:"subject"},{Header:"Body",accessor:"body"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:a}=e;return Pe(a)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:a}=e;return Pe(a)}}];return pe&&Oe.push({Header:"ACTIONS",accessor:"action",Cell:e=>{const s=e.row.original._id;return(0,S.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,S.jsx)(l.A,{variant:"warning",onClick:()=>(e=>{const s=a.find((a=>a._id===e));s&&(K(e),ne(s.templateName),de(s.subject),ie(s.body),Y(!0))})(s),children:(0,S.jsx)(h.uO9,{})}),(0,S.jsx)(l.A,{variant:"danger",className:"ms-2",onClick:()=>(e=>{Q(e),q(!0)})(s),children:(0,S.jsx)(j.b6i,{})})]})}}),(0,S.jsxs)("div",{children:[ve?(0,S.jsx)(N.A,{}):(0,S.jsx)(S.Fragment,{children:ge?(0,S.jsx)(v.A,{}):ue?(0,S.jsxs)(r.A,{fluid:!0,className:"mt-3 ",children:[(0,S.jsx)(n.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,S.jsxs)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,S.jsx)("h4",{className:"fw-bold",children:"Email Template"}),xe?(0,S.jsx)("div",{children:(0,S.jsxs)(l.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{X(!0)},children:[(0,S.jsx)(h.OiG,{size:20}),(0,S.jsxs)("span",{className:"d-none d-md-inline",children:[" ","Add Email Template"]})]})}):(0,S.jsx)(S.Fragment,{})]})}),(0,S.jsxs)(n.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,S.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,S.jsxs)("div",{className:"input-group",children:[(0,S.jsx)("span",{className:"input-group-text",children:(0,S.jsx)(m.YQq,{})}),(0,S.jsx)("input",{type:"text",placeholder:"Search Email Template...",className:"form-control",value:M,onChange:e=>B(e.target.value),onKeyPress:e=>{"Enter"===e.key&&Te()}}),M&&(0,S.jsx)("span",{className:"input-group-text",onClick:()=>{B(""),_("")},children:(0,S.jsx)(m.IeJ,{})})]})}),(0,S.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,S.jsx)(l.A,{style:{backgroundColor:e,border:"none"},onClick:Te,disabled:G||""===M,children:G?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,S.jsx)(n.A,{className:"boxShadow p-4 mb-4",children:(0,S.jsx)(x.A,{COLUMNS:Oe,MOCK_DATA:a,currentPage:w,startIndex:I,endIndex:P,setCurrentPage:k,totalItems:O,totalPages:L})}),(0,S.jsx)(p.A,{YES:async()=>{try{const s=await Ie({id:J,role:be});var e,a;if(q(!1),Q(""),null!==s&&void 0!==s&&s.data)u.oR.success(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.message,{autoClose:1e3});else u.oR.error(null===s||void 0===s||null===(a=s.error)||void 0===a?void 0:a.data.error,{autoClose:1e3})}catch(we){console.error(we)}},DELETESTATE:V,ONCLICK:()=>{q(!1)},DESCRIPTION:"Are you sure want to delete this Email Template",DELETETITLE:"Email Template"})]}):(0,S.jsx)(b.A,{})}),(0,S.jsxs)(c.A,{show:W,onHide:Le,centered:!0,children:[(0,S.jsx)(c.A.Header,{closeButton:!0,children:(0,S.jsx)(c.A.Title,{children:"Edit Email Template"})}),(0,S.jsx)(c.A.Body,{children:(0,S.jsxs)(i.A,{children:[(0,S.jsxs)(i.A.Group,{controlId:"editTemplateNameInput",children:[(0,S.jsxs)(i.A.Label,{children:["Template Name ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{type:"text",value:re,onChange:e=>{ne(e.target.value)},placeholder:"Enter the template name here"})]}),(0,S.jsxs)(i.A.Group,{controlId:"editSubjectInput",className:"mt-3",children:[(0,S.jsxs)(i.A.Label,{children:["Subject ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{type:"text",value:oe,onChange:e=>{de(e.target.value)},placeholder:"Enter the subject here"})]}),(0,S.jsxs)(i.A.Group,{controlId:"editBodyInput",className:"mt-3",children:[(0,S.jsxs)(i.A.Label,{children:["Body ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{as:"textarea",rows:4,value:ce,onChange:e=>{ie(e.target.value)},placeholder:"Enter the body content here"})]})]})}),(0,S.jsxs)(c.A.Footer,{children:[(0,S.jsx)(l.A,{variant:"secondary",onClick:Le,children:"Cancel"}),(0,S.jsx)(l.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(!re||!oe|!ce)u.oR.error("Please fill all the fields",{autoClose:1e3});else{Ne(!0);try{const e={templateName:re,subject:oe,body:ce},a=await ke({id:U,role:be,data:e});a.data?(u.oR.success(a.data.message,{autoClose:1e3}),Y(!1),fe()):u.oR.error(a.error.data.error,{autoClose:1e3})}catch(we){console.error(we)}finally{Ne(!1)}}},disabled:Ce,children:Ce?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]}),(0,S.jsxs)(c.A,{show:Z,onHide:He,centered:!0,children:[(0,S.jsx)(c.A.Header,{closeButton:!0,children:(0,S.jsx)(c.A.Title,{children:"Add Email Template"})}),(0,S.jsx)(c.A.Body,{children:(0,S.jsxs)(i.A,{children:[(0,S.jsxs)(i.A.Group,{controlId:"templateNameInput",children:[(0,S.jsxs)(i.A.Label,{children:["Template Name ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{type:"text",placeholder:"Enter the template name here",value:$,onChange:e=>{ee(e.target.value)}})]}),(0,S.jsxs)(i.A.Group,{controlId:"subjectInput",className:"mt-3",children:[(0,S.jsxs)(i.A.Label,{children:["Subject ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{type:"text",placeholder:"Enter the subject here",value:ae,onChange:e=>{se(e.target.value)}})]}),(0,S.jsxs)(i.A.Group,{controlId:"bodyInput",className:"mt-3",children:[(0,S.jsxs)(i.A.Label,{children:["Body ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{as:"textarea",rows:4,placeholder:"Enter the body content here",value:te,onChange:e=>{le(e.target.value)}})]})]})}),(0,S.jsxs)(c.A.Footer,{children:[(0,S.jsx)(l.A,{variant:"secondary",onClick:He,children:"Cancel"}),(0,S.jsx)(l.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if($&&ae&&te){Ne(!0);try{const e={templateName:$,subject:ae,body:te},a=await Ee({role:be,data:e});a.data?(u.oR.success(a.data.message,{autoClose:1e3}),X(!1),fe(),ee(""),se(""),le("")):(u.oR.error(a.error.data.error,{autoClose:1e3}),ee(""),se(""),le(""))}catch(we){console.error(we)}finally{Ne(!1)}}else u.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:Ce,children:Ce?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=4276.31073cf9.chunk.js.map