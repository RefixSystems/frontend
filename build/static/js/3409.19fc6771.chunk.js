"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[3409],{98954:(e,a,t)=>{t.d(a,{A:()=>v});var s=t(65043),n=t(71094),r=t(53519),l=t(61072),o=t(64196),i=t(78602),c=t(14282),d=t(49804),u=t(60184),x=t(3825),m=t(92157),p=t.n(m),h=t(13441),g=(t(39585),t(36653)),j=t(70579);const v=e=>{const{color:a}=(0,g.D)(),t=(0,s.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),m=(0,s.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:v,getTableBodyProps:A,headerGroups:C,prepareRow:f,page:b}=(0,n.useTable)({columns:t,data:m,autoResetWidth:!1},n.useGlobalFilter,n.useSortBy,n.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(r.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(l.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...v(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:C.map(((e,a)=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:a},e.headers.map(((e,a)=>(0,s.createElement)("th",{...e.getHeaderProps(),key:a,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:a=>{a.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(u.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...A(),children:b.length>0?b.map(((a,t)=>(f(a),(0,s.createElement)("tr",{...a.getRowProps(),key:t},a.cells.map(((a,n)=>{const r="action"===a.column.id||"localShop"===a.column.id||"serviceCenter"===a.column.id||"ourServices"===a.column.id||"addInCarousel"===a.column.id;return(0,s.createElement)("td",{...a.getCellProps(),key:n,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:t<=e.count-1?"#cfd1d1":""}},r||a.value?a.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:t.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(i.A,{className:"".concat(b.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(i.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(i.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(p(),{breakLabel:"...",onPageChange:a=>e.setCurrentPage(a.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(h.Vx.Provider,{value:{color:a,size:"28px"},children:(0,j.jsx)(x.dnY,{})}),nextLabel:(0,j.jsx)(h.Vx.Provider,{value:{color:a,size:"28px"},children:(0,j.jsx)(x.m2f,{})})})}),(0,j.jsxs)(i.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(c.A,{style:{backgroundColor:a,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(d.o_z,{size:14})}),(0,j.jsx)(c.A,{style:{backgroundColor:a,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(d.hdn,{size:14})})]})]})]})})})}},83409:(e,a,t)=>{t.r(a),t.d(a,{default:()=>k});var s=t(65043),n=t(14282),r=t(53519),l=t(61072),o=t(78602),i=t(27417),c=t(25284),d=t(24522),u=t(98954),x=t(31462),m=t(63401),p=t(60184),h=t(36017),g=t(6720),j=t(73216),v=t(10010),A=t(32479),C=t(39110),f=t(2519),b=t(36653),S=t(31121),N=t(95753),y=t(85959),w=t(70579);const k=()=>{const{color:e}=(0,b.D)(),[a,t]=(0,s.useState)([]),[k,L]=(0,s.useState)(1),[O,P]=(0,s.useState)(1),[I,M]=(0,s.useState)(1),[D,E]=(0,s.useState)(1),[T,H]=(0,s.useState)(0),[_,B]=(0,s.useState)(""),[R,F]=(0,s.useState)(""),[V,z]=(0,s.useState)(!1),{id:G}=(0,j.g)(),[U,W]=(0,s.useState)(null),[K,Y]=(0,s.useState)(!1),[q,J]=(0,s.useState)(""),[Q,Z]=(0,s.useState)(!1),[X,$]=(0,s.useState)(""),[ee,ae]=(0,s.useState)(!1),[te,se]=(0,s.useState)(""),[ne,re]=(0,s.useState)(!1),[le,oe]=(0,s.useState)(!1),[ie,ce]=(0,s.useState)(!1),[de,ue]=(0,s.useState)(!1),[xe,me]=(0,s.useState)(!1),[pe,he]=(0,s.useState)([]),[ge,je]=(0,s.useState)([{value:"Desktop",label:"Desktop"},{value:"Laptop",label:"Laptop"},{value:"MacBook",label:"MacBook"},{value:"Tablet",label:"Tablet"}]),ve=(0,A.L)(),{data:Ae,refetch:Ce,isLoading:fe,isError:be,error:Se}=(0,v.w4)({page:k,search:_,role:ve}),[Ne]=(0,v.BA)(),[ye]=(0,v.qW)(),[we]=(0,v.In)(),ke=e=>(0,S.GP)(new Date(e),"dd-MMM-yyyy h:mm a");(0,s.useEffect)((()=>{Ae&&Ae.data&&(t(Ae.data),P(Ae.pagination.startIndex),L(k),H(Ae.pagination.totalItems),M(Ae.pagination.endIndex),E(Ae.pagination.totalPages),ce(Ae.moduleAccess.fullAccess),re(Ae.moduleAccess.write),oe(Ae.moduleAccess.read)),be&&500===(null===Se||void 0===Se?void 0:Se.status)?ue(!0):ue(!1)}),[Ae,k,ve,Se,be]);const Le=()=>{z(!0),B(R),Ce({page:k,search:R}).then((()=>{z(!1)}))},Oe=()=>{Y(!1),W(null),J("")},Pe=e=>{he(e)},Ie=()=>{ae(!1),se(""),he([])},Me=[{Header:"ID",accessor:"s_no"},{Header:"Service Name",accessor:"serviceName"},{Header:"Applicable Systems",accessor:"applicableSystems",Cell:e=>{let{value:a}=e;return a.join(", ")}},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:a}=e;return ke(a)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:a}=e;return ke(a)}}];return ie&&Me.push({Header:"ACTIONS",accessor:"action",Cell:e=>{const t=e.row.original._id;return(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,w.jsx)(n.A,{variant:"warning",onClick:()=>(e=>{const t=a.find((a=>a._id===e));if(t){W(e),J(t.serviceName);const a=t.applicableSystems.map((e=>({value:e,label:e})));he(a),Y(!0)}})(t),children:(0,w.jsx)(p.uO9,{})}),(0,w.jsx)(n.A,{variant:"danger",className:"ms-2",onClick:()=>(e=>{$(e),Z(!0)})(t),children:(0,w.jsx)(g.b6i,{})})]})}}),(0,w.jsxs)("div",{children:[fe?(0,w.jsx)(C.A,{}):(0,w.jsx)(w.Fragment,{children:de?(0,w.jsx)(y.A,{}):le?(0,w.jsxs)(r.A,{fluid:!0,className:"mt-3 ",children:[(0,w.jsx)(l.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,w.jsxs)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,w.jsx)("h4",{className:"fw-bold",children:"MostBookedService"}),ne?(0,w.jsx)("div",{children:(0,w.jsxs)(n.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{ae(!0)},children:[(0,w.jsx)(p.OiG,{size:20}),(0,w.jsxs)("span",{className:"d-none d-md-inline",children:[" ","Add MostBookedService"]})]})}):(0,w.jsx)(w.Fragment,{})]})}),(0,w.jsxs)(l.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,w.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("span",{className:"input-group-text",children:(0,w.jsx)(x.YQq,{})}),(0,w.jsx)("input",{type:"text",placeholder:"Search MostBookedService...",className:"form-control",value:R,onChange:e=>F(e.target.value),onKeyPress:e=>{"Enter"===e.key&&Le()}}),R&&(0,w.jsx)("span",{className:"input-group-text",onClick:()=>{F(""),B("")},children:(0,w.jsx)(x.IeJ,{})})]})}),(0,w.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,w.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:Le,disabled:V||""===R,children:V?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,w.jsx)(l.A,{className:"boxShadow p-4 mb-4",children:(0,w.jsx)(u.A,{COLUMNS:Me,MOCK_DATA:a,currentPage:k,startIndex:O,endIndex:I,setCurrentPage:L,totalItems:T,totalPages:D})}),(0,w.jsx)(h.A,{YES:async()=>{try{const t=await ye({id:X,role:ve});var e,a;if(Z(!1),$(""),null!==t&&void 0!==t&&t.data)m.oR.success(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message,{autoClose:1e3});else m.oR.error(null===t||void 0===t||null===(a=t.error)||void 0===a?void 0:a.data.error,{autoClose:1e3})}catch(Se){console.error(Se)}},DELETESTATE:Q,ONCLICK:()=>{Z(!1)},DESCRIPTION:"Are you sure want to delete this MostBookedService",DELETETITLE:"MostBookedService"})]}):(0,w.jsx)(f.A,{})}),(0,w.jsxs)(c.A,{show:K,onHide:Oe,centered:!0,children:[(0,w.jsx)(c.A.Header,{closeButton:!0,children:(0,w.jsx)(c.A.Title,{children:"Edit MostBookedService"})}),(0,w.jsx)(c.A.Body,{children:(0,w.jsxs)(d.A,{children:[(0,w.jsxs)(d.A.Group,{controlId:"serviceNameInput",children:[(0,w.jsx)(d.A.Label,{children:"Service Name"}),(0,w.jsx)(d.A.Control,{type:"text",value:q,onChange:e=>{J(e.target.value)},placeholder:"Enter the service name here"})]}),(0,w.jsxs)(d.A.Group,{controlId:"systemsSelect",children:[(0,w.jsx)(d.A.Label,{children:"Applicable Systems"}),(0,w.jsx)(N.A,{isMulti:!0,options:ge,value:pe,onChange:Pe,placeholder:"Select applicable systems",isClearable:!0})]})]})}),(0,w.jsxs)(c.A.Footer,{children:[(0,w.jsx)(n.A,{variant:"secondary",onClick:Oe,children:"Cancel"}),(0,w.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(q){me(!0);try{const e=pe.map((e=>e.value)),a=await Ne({id:U,role:ve,data:{serviceName:q,applicableSystems:e}});a.data?(m.oR.success(a.data.message,{autoClose:1e3}),Y(!1),Ce()):m.oR.error(a.error.data.error,{autoClose:1e3})}catch(Se){console.error(Se)}finally{me(!1)}}else m.oR.error("Please fill the fields",{autoClose:1e3})},disabled:xe,children:xe?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]}),(0,w.jsxs)(c.A,{show:ee,onHide:Ie,centered:!0,children:[(0,w.jsx)(c.A.Header,{closeButton:!0,children:(0,w.jsx)(c.A.Title,{children:"Add Device"})}),(0,w.jsx)(c.A.Body,{children:(0,w.jsxs)(d.A,{children:[(0,w.jsxs)(d.A.Group,{controlId:"editServiceNameInput",children:[(0,w.jsxs)(d.A.Label,{children:["Service Name ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(d.A.Control,{type:"text",value:te,onChange:e=>{se(e.target.value)},placeholder:"Enter the service name here"})]}),(0,w.jsxs)(d.A.Group,{controlId:"applicableSystemsInput",className:"mt-2",children:[(0,w.jsxs)(d.A.Label,{children:["Applicable Systems ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(N.A,{isMulti:!0,options:ge,value:pe,onChange:Pe,placeholder:"Select applicable systems",onCreateOption:e=>{const a={value:e.toLowerCase(),label:e};je((e=>[...e,a])),he((e=>[...e,a]))}})]})]})}),(0,w.jsxs)(c.A.Footer,{children:[(0,w.jsx)(n.A,{variant:"secondary",onClick:Ie,children:"Cancel"}),(0,w.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{me(!0);try{const e=pe.map((e=>e.value)),a=await we({role:ve,data:{serviceName:te,applicableSystems:e}});a.data?(m.oR.success(a.data.message,{autoClose:1e3}),ae(!1),Ce(),se(""),he([])):(m.oR.error(a.error.data.error,{autoClose:1e3}),se(""),he([]))}catch(Se){console.error(Se)}finally{me(!1)}},disabled:xe,children:xe?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]})}},95753:(e,a,t)=>{t.d(a,{A:()=>p});var s=t(58168),n=t(65043),r=t(61404),l=t(9817),o=t(89379),i=t(45458),c=t(80045),d=t(18392),u=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],x=function(){var e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),s=String(a.getOptionValue(e)).toLowerCase(),n=String(a.getOptionLabel(e)).toLowerCase();return s===t||n===t},m={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,a,t,s){return!(!e||a.some((function(a){return x(e,a,s)}))||t.some((function(a){return x(e,a,s)})))},getNewOptionData:function(e,a){return{label:a,value:e,__isNew__:!0}}};t(97950),t(11322);var p=(0,n.forwardRef)((function(e,a){var t=function(e){var a=e.allowCreateWhileLoading,t=void 0!==a&&a,s=e.createOptionPosition,l=void 0===s?"last":s,x=e.formatCreateLabel,p=void 0===x?m.formatCreateLabel:x,h=e.isValidNewOption,g=void 0===h?m.isValidNewOption:h,j=e.getNewOptionData,v=void 0===j?m.getNewOptionData:j,A=e.onCreateOption,C=e.options,f=void 0===C?[]:C,b=e.onChange,S=(0,c.A)(e,u),N=S.getOptionValue,y=void 0===N?r.g:N,w=S.getOptionLabel,k=void 0===w?r.b:w,L=S.inputValue,O=S.isLoading,P=S.isMulti,I=S.value,M=S.name,D=(0,n.useMemo)((function(){return g(L,(0,d.H)(I),f,{getOptionValue:y,getOptionLabel:k})?v(L,p(L)):void 0}),[p,v,k,y,L,g,f,I]),E=(0,n.useMemo)((function(){return!t&&O||!D?f:"first"===l?[D].concat((0,i.A)(f)):[].concat((0,i.A)(f),[D])}),[t,l,O,D,f]),T=(0,n.useCallback)((function(e,a){if("select-option"!==a.action)return b(e,a);var t=Array.isArray(e)?e:[e];if(t[t.length-1]!==D)b(e,a);else if(A)A(L);else{var s=v(L,L),n={action:"create-option",name:M,option:s};b((0,d.D)(P,[].concat((0,i.A)((0,d.H)(I)),[s]),s),n)}}),[v,L,P,M,D,A,b,I]);return(0,o.A)((0,o.A)({},S),{},{options:E,onChange:T})}((0,l.u)(e));return n.createElement(r.S,(0,s.A)({ref:a},t))}))},39585:()=>{}}]);
//# sourceMappingURL=3409.19fc6771.chunk.js.map