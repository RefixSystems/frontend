"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[2737],{39110:(e,s,a)=>{a.d(s,{A:()=>n});a(65043);var t=a(53519),r=(a(36386),a(79340)),l=a(70579);const n=()=>(0,l.jsxs)(t.A,{className:"vh-100 d-flex flex-column justify-content-center align-items-center",children:[(0,l.jsx)("img",{src:r,alt:"Loading...",style:{width:"150px",height:"150px"}}),(0,l.jsx)("div",{className:"text mt-3",children:"Loading ..."})]})},8962:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(65043),r=a(71094),l=a(53519),n=a(61072),c=a(64196),o=a(60184),d=(a(39585),a(70579));const i=e=>{const s=(0,t.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),a=(0,t.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:i,getTableBodyProps:x,headerGroups:h,prepareRow:m,page:u}=(0,r.useTable)({columns:s,data:a,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,d.jsx)("div",{children:(0,d.jsx)(l.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,d.jsx)(n.A,{className:"d-flex  flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:(0,d.jsxs)(c.A,{className:"justify-content-center align-items-center",striped:!0,bordered:!0,hover:!0,...i(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,d.jsx)("thead",{children:h.map(((e,s)=>(0,t.createElement)("tr",{...e.getHeaderGroupProps(),key:s},e.headers.map(((e,s)=>(0,t.createElement)("th",{...e.getHeaderProps(),key:s,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,d.jsx)(d.Fragment,{children:e.render("Header")}):(0,d.jsxs)("div",{children:[e.render("Header"),(0,d.jsx)(o.MjW,{className:"mx-2"})]})))))))}),(0,d.jsx)("tbody",{...x(),children:u.length>0?u.map(((e,s)=>(m(e),(0,t.createElement)("tr",{...e.getRowProps(),key:s},e.cells.map(((e,s)=>{const a="action"===e.column.id;return(0,t.createElement)("td",{...e.getCellProps(),key:s,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch"}},a||e.value?e.render("Cell"):"-")})))))):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:s.length,className:"text-center text-dark",children:"No Data Found"})})})]})})})})}},12737:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(65043),r=a(14282),l=a(53519),n=a(61072),c=a(78602),o=a(27417),d=a(25284),i=a(24522),x=a(8962),h=a(35667),m=a(31462),u=a(32479),j=a(39110),p=a(63401),g=a(36653),C=a(60184),A=a(73216),f=a(3825),b=a(216),N=a(70579);const w=()=>{const{color:e}=(0,g.D)(),[s,a]=(0,t.useState)([]),[w,y]=(0,t.useState)(null),[S,v]=(0,t.useState)(""),[k,L]=(0,t.useState)(""),[P,H]=(0,t.useState)(""),[T,I]=(0,t.useState)(null),[D,O]=(0,t.useState)(""),[_,M]=(0,t.useState)(!1),[B,E]=(0,t.useState)(!1),[F,G]=(0,t.useState)(!1),[z,K]=(0,t.useState)(""),[R,U]=(0,t.useState)(""),[W,q]=(0,t.useState)(""),[J,Q]=(0,t.useState)(""),[X,Y]=(0,t.useState)(!1),{requestId:Z}=(0,A.g)(),V=(0,u.L)(),{data:$,isLoading:ee,refetch:se}=(0,b.gN)({search:S,requestId:Z,role:V}),[ae]=(0,h.AA)();(0,t.useEffect)((()=>{$&&$.data&&(a($.data.details),y($.data.userDetails),H($.data.billId))}),[$,V]);const te=()=>{E(!0),v(k),se({search:k}).then((()=>{E(!1)}))},re=[{Header:"ID",accessor:(e,s)=>s+1},{Header:"Description",accessor:"description"},{Header:"Component",accessor:"component"},{Header:"Labour Charger",accessor:"labourCharge"},{Header:"Service Charge",accessor:"serviceCharge"},{Header:"ACTIONS",accessor:"action",Cell:e=>{const s=e.row.original._id;return(0,N.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:(0,N.jsx)(r.A,{variant:"warning",onClick:()=>(e=>{const s=$.data.details.find((s=>s._id===e));s&&(I(e),K(s.description),U(s.component),q(s.serviceCharge),Q(s.labourCharge),Y(!0))})(s),children:(0,N.jsx)(C.uO9,{})})})}}];return(0,N.jsx)("div",{children:ee?(0,N.jsx)(j.A,{}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(l.A,{fluid:!0,className:"mt-3 reduced-width-row",children:[(0,N.jsx)(n.A,{className:"boxShadow p-4 mb-4",children:(0,N.jsx)(c.A,{className:"d-flex flex-row justify-content-between mt-1",children:(0,N.jsxs)(c.A,{className:"d-flex justify-content-start mb-3 mt-3",children:[(0,N.jsx)("h4",{className:"mx-3",children:(0,N.jsx)(f.nXt,{})}),(0,N.jsx)("h4",{className:"fw-bold",children:"Preview"})]})})}),(0,N.jsxs)(n.A,{className:"boxShadow p-4 mb-3 d-flex flex-row",children:[(0,N.jsx)(c.A,{className:"my-2 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,N.jsxs)("div",{className:"input-group",children:[(0,N.jsx)("span",{className:"input-group-text",children:(0,N.jsx)(m.YQq,{})}),(0,N.jsx)("input",{type:"text",placeholder:"Search Preview...",className:"form-control",value:k,onChange:e=>L(e.target.value),onKeyPress:e=>{"Enter"===e.key&&te()}}),k&&(0,N.jsx)("span",{className:"input-group-text",onClick:()=>{L(""),v("")},children:(0,N.jsx)(m.IeJ,{})})]})}),(0,N.jsx)(c.A,{className:"d-flex flex-column text-center my-2",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,N.jsx)(r.A,{style:{backgroundColor:e,border:"none"},onClick:te,disabled:B||""===k,children:B?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,N.jsxs)(n.A,{className:"boxShadow p-4 mb-4",children:[(0,N.jsx)(x.A,{COLUMNS:re,MOCK_DATA:s}),_&&(0,N.jsx)(c.A,{className:"text-end mt-3",children:(0,N.jsxs)(r.A,{style:{backgroundColor:e},onClick:handlePreview,children:["Preview ",(0,N.jsx)(C.Z0P,{size:20})]})})]}),(0,N.jsxs)(n.A,{className:"boxShadow p-4 mb-4 mt-3",children:[(0,N.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Bill Summary"}),(0,N.jsxs)(c.A,{className:"text-center",children:[(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Total Labour Charges:"})," ",D.labour]}),(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Total Service Charges:"})," ",D.service]}),(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Total Charges:"})," ",D.totalCharges]}),(0,N.jsxs)("p",{style:{fontSize:"28px",color:"#1758ad",fontWeight:"bold"},children:[(0,N.jsx)("strong",{children:"To Be Paid:"})," ",D.toBePaid]}),!_&&(0,N.jsx)("p",{className:"mt-5",children:(0,N.jsxs)(r.A,{style:{backgroundColor:e},onClick:async()=>{G(!0);try{const e=await ae({id:P,role:V});e.data&&(p.oR.success(e.data.message,{autoClose:1e3}),M(!0),O(e.data.message),se())}catch(e){console.error(e)}finally{G(!1)}},disabled:F,children:[F?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Calculate Charge..."]}):"Calculate Charge",(0,N.jsx)(C.Ani,{size:20,style:{marginLeft:"8px"}})]})})]})]})]}),(0,N.jsxs)(d.A,{show:X,onHide:()=>Y(!1),centered:!0,children:[(0,N.jsx)(d.A.Header,{closeButton:!0,children:(0,N.jsx)(d.A.Title,{children:"Edit Preview"})}),(0,N.jsx)(d.A.Body,{children:(0,N.jsxs)(i.A,{children:[(0,N.jsxs)(i.A.Group,{controlId:"formDescription",children:[(0,N.jsx)(i.A.Label,{children:"Description:"}),(0,N.jsx)(i.A.Control,{type:"text",value:z,onChange:e=>K(e.target.value)})]}),(0,N.jsxs)(i.A.Group,{controlId:"formComponent",className:"mt-2",children:[(0,N.jsx)(i.A.Label,{children:"Component:"}),(0,N.jsx)(i.A.Control,{type:"text",value:R,onChange:e=>U(e.target.value)})]}),(0,N.jsxs)(i.A.Group,{controlId:"formLabourCharge",className:"mt-2",children:[(0,N.jsx)(i.A.Label,{children:"Labour Charge:"}),(0,N.jsx)(i.A.Control,{type:"number",value:W,onChange:e=>q(e.target.value)})]}),(0,N.jsxs)(i.A.Group,{controlId:"formServiceCharge",className:"mt-2",children:[(0,N.jsx)(i.A.Label,{children:"Service Charge:"}),(0,N.jsx)(i.A.Control,{type:"number",value:J,onChange:e=>Q(e.target.value)})]})]})}),(0,N.jsxs)(d.A.Footer,{children:[(0,N.jsx)(r.A,{variant:"secondary",onClick:()=>{Y(!1),I(null),K(""),U(""),q(""),Q("")},children:"Close"}),(0,N.jsx)(r.A,{style:{backgroundColor:e},onClick:"",children:"Update"})]})]})]})})}},39585:()=>{}}]);
//# sourceMappingURL=2737.cce99cff.chunk.js.map