"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[7024],{98954:(e,s,a)=>{a.d(s,{A:()=>A});var t=a(65043),n=a(71094),l=a(53519),r=a(61072),o=a(64196),d=a(78602),c=a(14282),i=a(49804),x=a(60184),m=a(3825),u=a(92157),h=a.n(u),p=a(13441),g=(a(39585),a(36653)),j=a(70579);const A=e=>{const{color:s}=(0,g.D)(),a=(0,t.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),u=(0,t.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:A,getTableBodyProps:C,headerGroups:f,prepareRow:N,page:y}=(0,n.useTable)({columns:a,data:u,autoResetWidth:!1},n.useGlobalFilter,n.useSortBy,n.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(l.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(r.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...A(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:f.map(((e,s)=>(0,t.createElement)("tr",{...e.getHeaderGroupProps(),key:s},e.headers.map(((e,s)=>(0,t.createElement)("th",{...e.getHeaderProps(),key:s,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(x.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...C(),children:y.length>0?y.map(((s,a)=>(N(s),(0,t.createElement)("tr",{...s.getRowProps(),key:a},s.cells.map(((s,n)=>{const l="action"===s.column.id||"localShop"===s.column.id||"serviceCenter"===s.column.id||"ourServices"===s.column.id||"addInCarousel"===s.column.id;return(0,t.createElement)("td",{...s.getCellProps(),key:n,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:a<=e.count-1?"#cfd1d1":""}},l||s.value?s.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(y.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(h(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(m.dnY,{})}),nextLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(m.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(c.A,{style:{backgroundColor:s,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(i.o_z,{size:14})}),(0,j.jsx)(c.A,{style:{backgroundColor:s,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(i.hdn,{size:14})})]})]})]})})})}},17024:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t=a(65043),n=a(53519),l=a(61072),r=a(78602),o=a(14282),d=a(27417),c=a(25284),i=a(24522),x=a(98954),m=a(31462),u=a(63401),h=a(60184),p=a(73216),g=a(21026),j=a(32479),A=a(2519),C=a(39110),f=a(36653),N=a(31121),y=a(85959),b=a(70579);const S=()=>{const{color:e}=(0,f.D)(),[s,a]=(0,t.useState)([]),[S,k]=(0,t.useState)(1),[v,w]=(0,t.useState)(1),[P,I]=(0,t.useState)(1),[L,H]=(0,t.useState)(1),[O,R]=(0,t.useState)(0),[_,M]=(0,t.useState)(""),[E,D]=(0,t.useState)(""),[T,z]=(0,t.useState)(!1),{id:F}=(0,p.g)(),[G,B]=(0,t.useState)(!1),[K,U]=(0,t.useState)(!1),[W,V]=(0,t.useState)(!1),[Y,q]=(0,t.useState)(""),[J,Q]=(0,t.useState)(!1),[Z,X]=(0,t.useState)(!1),$=e=>(0,N.GP)(new Date(e),"dd-MMM-yyyy h:mm a"),ee=(0,j.L)(),{data:se,isLoading:ae,isError:te,error:ne,refetch:le}=(0,g.WI)({page:S,search:_,id:F,role:ee}),[re]=(0,g.__)();(0,t.useEffect)((()=>{se&&se.data&&(a(se.data),w(se.pagination.startIndex),k(S),R(se.pagination.totalItems),I(se.pagination.endIndex),H(se.pagination.totalPages),U(se.moduleAccess.write),V(se.moduleAccess.read)),te&&500===(null===ne||void 0===ne?void 0:ne.status)?X(!0):X(!1)}),[se,S,Y,ne,te]);const oe=()=>{z(!0),M(E),le({page:S,search:E}).then((()=>{z(!1)}))},de=[{Header:"ID",accessor:"s_no"},{Header:"Name of Role",accessor:"nameOfRole"},{Header:"Total Employee",accessor:"totalEmployees"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:s}=e;return $(s)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:s}=e;return $(s)}}];return(0,b.jsx)("div",{children:ae?(0,b.jsx)(C.A,{}):(0,b.jsxs)(b.Fragment,{children:[Z?(0,b.jsx)(y.A,{}):W?(0,b.jsxs)(n.A,{fluid:!0,className:"mt-3 ",children:[(0,b.jsx)(l.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,b.jsxs)(r.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,b.jsx)("h4",{className:"fw-bold",children:"Employee Roles"}),K?(0,b.jsx)("div",{children:(0,b.jsxs)(o.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>B(!0),children:[(0,b.jsx)(h.OiG,{size:20}),(0,b.jsx)("span",{className:"d-none d-md-inline",children:" Add Role"})]})}):(0,b.jsx)(b.Fragment,{})]})}),(0,b.jsxs)(l.A,{className:"boxShadow  p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,b.jsx)(r.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,b.jsxs)("div",{className:"input-group",children:[(0,b.jsx)("span",{className:"input-group-text",children:(0,b.jsx)(m.YQq,{})}),(0,b.jsx)("input",{type:"text",placeholder:"Search roles...",className:"form-control",value:E,onChange:e=>D(e.target.value),onKeyPress:e=>{"Enter"===e.key&&oe()}}),E&&(0,b.jsx)("span",{className:"input-group-text",onClick:()=>{D(""),M("")},children:(0,b.jsx)(m.IeJ,{})})]})}),(0,b.jsx)(r.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,b.jsx)(o.A,{style:{backgroundColor:e,border:"none"},onClick:oe,disabled:T||""===E,children:T?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,b.jsx)(l.A,{className:"boxShadow p-4 mb-4",children:(0,b.jsx)(x.A,{COLUMNS:de,MOCK_DATA:s,currentPage:S,startIndex:v,endIndex:P,setCurrentPage:k,totalItems:O,totalPages:L})})]}):(0,b.jsx)(A.A,{}),(0,b.jsxs)(c.A,{show:G,onHide:()=>B(!1),centered:!0,children:[(0,b.jsx)(c.A.Header,{closeButton:!0,children:(0,b.jsx)(c.A.Title,{children:"Add Role"})}),(0,b.jsx)(c.A.Body,{children:(0,b.jsx)(i.A,{children:(0,b.jsxs)(i.A.Group,{controlId:"roleInput",children:[(0,b.jsxs)(i.A.Label,{children:["Role ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(i.A.Control,{type:"text",placeholder:"Enter the role here",value:Y,onChange:e=>q(e.target.value)})]})})}),(0,b.jsxs)(c.A.Footer,{children:[(0,b.jsx)(o.A,{variant:"secondary",onClick:()=>B(!1),children:"Cancel"}),(0,b.jsx)(o.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{Q(!0);try{const e=await re({data:{nameOfRole:Y},role:ee});e.data?(u.oR.success(e.data.message,{autoClose:1e3}),B(!1),le(),q("")):(u.oR.error(e.error.data.error,{autoClose:1e3}),q(""))}catch(ne){console.error(ne)}finally{Q(!1)}},disabled:J,children:J?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]})})}},39585:()=>{}}]);
//# sourceMappingURL=7024.d0584633.chunk.js.map