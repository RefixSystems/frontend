"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[9873],{39110:(e,s,a)=>{a.d(s,{A:()=>n});a(65043);var l=a(53519),r=(a(36386),a(79340)),t=a(70579);const n=()=>(0,t.jsxs)(l.A,{className:"vh-100 d-flex flex-column justify-content-center align-items-center",children:[(0,t.jsx)("img",{src:r,alt:"Loading...",style:{width:"150px",height:"150px"}}),(0,t.jsx)("div",{className:"text mt-3",children:"Loading ..."})]})},24796:(e,s,a)=>{a.d(s,{A:()=>r});a(65043);var l=a(70579);const r=e=>{let{image:s,valueImage:a}=e;const r=s&&(!Array.isArray(s)||s.length>0),t=a!==s?s:s instanceof File?URL.createObjectURL(s):s;return(0,l.jsx)(l.Fragment,{children:r?(0,l.jsx)("img",{src:t,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,l.jsx)(l.Fragment,{})})}},19873:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var l=a(65043),r=a(78602),t=a(61072),n=a(14282),o=a(38628),i=a(25284),d=a(24522),c=a(27417),x=a(60184),m=a(63401),h=a(36017),u=a(73216),j=a(32479),g=a(2519),A=a(47114),p=a(36653),v=(a(39110),a(24796)),y=a(79382),C=a(70579);const b=()=>{const{color:e}=(0,p.D)(),[s,a]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[N,w]=(0,l.useState)(!1),[E,S]=(0,l.useState)(!1),[I,L]=(0,l.useState)(!1),[k,T]=(0,l.useState)(null),[R,F]=(0,l.useState)(""),[_,D]=(0,l.useState)(""),[G,B]=(0,l.useState)(""),[O,H]=(0,l.useState)(""),[U,z]=(0,l.useState)(""),[P,Y]=(0,l.useState)(""),[q,K]=(0,l.useState)(""),[M,W]=(0,l.useState)(""),[Z,J]=(0,l.useState)(""),[Q,V]=(0,l.useState)(""),[X,$]=(0,l.useState)(!1),[ee,se]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!1),[re,te]=(0,l.useState)(!1),ne=(0,j.L)(),{data:oe,isError:ie,isLoading:de}=(0,A.y1)(ne),[ce]=(0,A.lH)(),[xe]=(0,A.YA)(),[me]=(0,A.lP)(),[he]=(0,A.YL)(),[ue]=(0,A.xq)(),je=(0,u.Zp)();if((0,l.useEffect)((()=>{oe&&oe.moduleAccess&&($(oe.moduleAccess.read),le(oe.moduleAccess.write),te(oe.moduleAccess.fullAccess))}),[oe]),ie)return(0,C.jsx)("p",{children:"Error fetching data"});if(!oe||!oe.data||0===oe.data.length)return(0,C.jsx)("div",{style:{height:"100vh"},className:"d-flex justify-content-center align-items-center",children:(0,C.jsxs)("p",{style:{fontSize:"25px",fontWeight:"bold"},children:[" ",(0,C.jsx)(y.A,{})]})});const ge=e=>{const s=e.target.files[0];T(s)};return(0,C.jsxs)(C.Fragment,{children:[X?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(r.A,{children:[(0,C.jsx)(t.A,{className:"mb-4 mt-4",children:(0,C.jsxs)(r.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,C.jsx)("h4",{className:"fw-bold",children:"Gallery Settings"}),ae?(0,C.jsx)("div",{children:(0,C.jsxs)(n.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{je("/admin/add-gallery")},children:[(0,C.jsx)(x.OiG,{size:20}),(0,C.jsx)("span",{className:"d-none d-md-inline",children:" Add Gallery"})]})}):(0,C.jsx)(C.Fragment,{})]})}),oe.data.map(((s,t)=>(0,C.jsx)(l.Fragment,{children:(0,C.jsx)(r.A,{className:"mt-5",children:(0,C.jsx)("div",{className:"card-container",children:(0,C.jsxs)(o.A,{children:[re&&(0,C.jsxs)("div",{className:"icons-container",children:[(0,C.jsx)(n.A,{variant:"link",className:"icons-button",onClick:()=>{return e=s._id,a=s.location,l=s.address,r=s.landline,t=s.mobile,D(e),K(a),W(l),J(r),V(t),void L(!0);var e,a,l,r,t},children:(0,C.jsx)(x.uO9,{className:"cards-editicon"})}),(0,C.jsx)(n.A,{variant:"link",className:"icons-button",onClick:()=>{return e=s._id,z(e),void f(!0);var e},children:(0,C.jsx)(x.qbC,{className:"cards-deleteicon"})})]}),(0,C.jsxs)(o.A.Body,{children:[(0,C.jsx)(o.A.Title,{className:"fw-bold",style:{color:e},children:"Location and Address"}),(0,C.jsx)(o.A,{className:"mb-4 boxShadow",style:{borderRadius:"15px",border:"none"},children:(0,C.jsxs)(o.A.Body,{children:[(0,C.jsxs)("h5",{className:"mb-3 text-center",style:{color:e},children:[s.location," "]}),(0,C.jsx)("p",{className:"mb-1 text-center mb-3",children:s.address}),(0,C.jsxs)("p",{className:"mb-1 text-center",children:[(0,C.jsx)(x.Cab,{className:"me-2 text-center"}),s.landline]}),(0,C.jsxs)("p",{className:"mb-1 text-center",children:[(0,C.jsx)(x.rle,{className:"me-2"}),s.mobile]})]})}),(0,C.jsx)(o.A.Title,{className:"fw-bold",style:{color:e},children:"Images"}),(0,C.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-start align-items-center",children:[s.images&&s.images.map(((e,l)=>(0,C.jsxs)("div",{className:"image-container",children:[(0,C.jsx)("img",{src:e.image,alt:"Image ".concat(l+1),style:{margin:"15px",height:"200px",width:"100%",maxWidth:"350px"}}),re&&(0,C.jsxs)("div",{className:"icon-container",children:[(0,C.jsx)(x.uO9,{className:"edit-icon",onClick:()=>{T(e.image),((e,s)=>{F(s),D(e),S(!0)})(s._id,e._id)}}),(0,C.jsx)(x.qbC,{className:"delete-icon deleteicon-container",onClick:()=>((e,s)=>{B(e),H(s),a(!0)})(s._id,e._id)})]})]},l))),ae?(0,C.jsx)("div",{className:"image-container",children:(0,C.jsxs)(n.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1 mx-5",onClick:()=>{return e=s._id,Y(e),void w(!0);var e},children:[(0,C.jsx)(x.l1U,{size:20}),(0,C.jsx)("span",{className:"d-none d-md-inline",children:" Add Image"})]})}):null]})]})]})})})},t)))]})}):(0,C.jsx)(g.A,{}),(0,C.jsxs)(i.A,{show:N,onHide:()=>w(!1),centered:!0,children:[(0,C.jsx)(i.A.Header,{closeButton:!0,children:(0,C.jsx)(i.A.Title,{children:"Add New Image"})}),(0,C.jsxs)(i.A.Body,{className:"d-flex flex-column",children:[(0,C.jsx)(d.A.Control,{type:"file",accept:".jpg,.jpeg,.png,.svg,.webp",onChange:ge}),(0,C.jsx)(v.A,{image:k,valueImage:k})]}),(0,C.jsxs)(i.A.Footer,{children:[(0,C.jsx)(n.A,{variant:"secondary",onClick:()=>w(!1),children:"Close"}),(0,C.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(k){se(!0);try{const a=new FormData;a.append("image",k);const l=await ce({role:ne,id:P,data:a});var e,s;if(null!==l&&void 0!==l&&l.data)m.oR.success(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.message,{autoClose:1e3}),T(null),w(!1);else m.oR.error(null===l||void 0===l||null===(s=l.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(a){console.error(a)}finally{se(!1)}}else m.oR.error("Please fill  the fields",{autoClose:1e3})},disabled:ee,children:ee?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add Image..."]}):"Add Image"})]})]}),(0,C.jsxs)(i.A,{show:E,onHide:()=>S(!1),centered:!0,children:[(0,C.jsx)(i.A.Header,{closeButton:!0,children:(0,C.jsx)(i.A.Title,{children:"Update Image"})}),(0,C.jsxs)(i.A.Body,{className:"d-flex flex-column",children:[(0,C.jsx)(d.A.Control,{type:"file",accept:".jpg,.jpeg,.png,.svg,.webp",onChange:ge}),(0,C.jsx)(v.A,{image:k,valueImage:k})]}),(0,C.jsxs)(i.A.Footer,{children:[(0,C.jsx)(n.A,{variant:"secondary",onClick:()=>S(!1),children:"Close"}),(0,C.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(k){se(!0);try{const a=new FormData;a.append("image",k);const l=await xe({id:R,galleryid:_,role:ne,data:a});var e,s;if(null!==l&&void 0!==l&&l.data)m.oR.success(l.data.message,{autoClose:1e3}),S(!1);else m.oR.error(null===(e=l.error)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error,{autoClose:1e3})}catch(a){console.error(a)}finally{se(!1)}}else m.oR.error("Please fill  the fields",{autoClose:1e3})},disabled:ee,children:ee?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Edit Image..."]}):"Edit Image"})]})]}),(0,C.jsx)(h.A,{YES:()=>(async()=>{try{const s=await me({role:ne,galleryid:G,id:O});var e;a(!1),null!==s&&void 0!==s&&s.data?(m.oR.success(s.data.message,{autoClose:1e3}),B(""),H("")):(m.oR.error(null===s||void 0===s||null===(e=s.error)||void 0===e?void 0:e.data.error,{autoClose:1e3}),B(""),H(""))}catch(s){console.error(s)}})(),DELETESTATE:s,ONCLICK:()=>{a(!1)},DESCRIPTION:"Are you sure you want to delete this Image",DELETETITLE:"Image"}),(0,C.jsx)(h.A,{YES:()=>(async()=>{try{const s=await he({role:ne,galleryid:U});var e;f(!1),null!==s&&void 0!==s&&s.data?m.oR.success(s.data.message,{autoClose:1e3}):m.oR.error(null===s||void 0===s||null===(e=s.error)||void 0===e?void 0:e.data.error,{autoClose:1e3})}catch(s){console.error(s)}})(),DELETESTATE:b,ONCLICK:()=>{f(!1)},DESCRIPTION:"Are you sure you want to delete this Gallery",DELETETITLE:"Delete Gallery"}),(0,C.jsxs)(i.A,{show:I,onHide:()=>L(!1),centered:!0,children:[(0,C.jsx)(i.A.Header,{closeButton:!0,children:(0,C.jsx)(i.A.Title,{children:"Update Gallery"})}),(0,C.jsx)(i.A.Body,{children:(0,C.jsxs)(d.A,{children:[(0,C.jsxs)(d.A.Group,{controlId:"editLocation",children:[(0,C.jsx)(d.A.Label,{children:"Location"}),(0,C.jsx)(d.A.Control,{type:"text",value:q,onChange:e=>K(e.target.value),placeholder:"Enter the location here"})]}),(0,C.jsxs)(d.A.Group,{controlId:"editAddress",children:[(0,C.jsx)(d.A.Label,{children:"Address"}),(0,C.jsx)(d.A.Control,{type:"text",value:M,onChange:e=>W(e.target.value),placeholder:"Enter the address here"})]}),(0,C.jsxs)(d.A.Group,{controlId:"editLandline",children:[(0,C.jsx)(d.A.Label,{children:"Landline"}),(0,C.jsx)(d.A.Control,{type:"text",value:Z,onChange:e=>J(e.target.value),placeholder:"Enter the address here"})]}),(0,C.jsxs)(d.A.Group,{controlId:"editMobile",children:[(0,C.jsx)(d.A.Label,{children:"Mobile"}),(0,C.jsx)(d.A.Control,{type:"text",value:Q,onChange:e=>V(e.target.value),placeholder:"Enter the address here"})]})]})}),(0,C.jsxs)(i.A.Footer,{children:[(0,C.jsx)(n.A,{variant:"secondary",onClick:()=>L(!1),children:"Close"}),(0,C.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(q&&M){se(!0);try{const a=await ue({galleryid:_,role:ne,data:{location:q,address:M,landline:Z,mobile:Q}});var e,s;if(null!==a&&void 0!==a&&a.data)m.oR.success(a.data.message,{autoClose:1e3}),L(!1);else m.oR.error(null===(e=a.error)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error,{autoClose:1e3})}catch(a){console.error(a)}finally{se(!1)}}else m.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:ee,children:ee?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Updating..."]}):"Update"})]})]})]})}}}]);
//# sourceMappingURL=9873.cfa257a8.chunk.js.map