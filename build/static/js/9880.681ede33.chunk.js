"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[9880],{98954:(e,t,a)=>{a.d(t,{A:()=>f});var s=a(65043),l=a(71094),r=a(53519),o=a(61072),n=a(64196),d=a(78602),i=a(14282),c=a(49804),m=a(60184),u=a(3825),x=a(92157),p=a.n(x),h=a(13441),g=(a(39585),a(36653)),j=a(70579);const f=e=>{const{color:t}=(0,g.D)(),a=(0,s.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),x=(0,s.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:f,getTableBodyProps:y,headerGroups:v,prepareRow:A,page:b}=(0,l.useTable)({columns:a,data:x,autoResetWidth:!1},l.useGlobalFilter,l.useSortBy,l.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(r.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(o.A,{children:[(0,j.jsxs)(n.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...f(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:v.map(((e,t)=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:t},e.headers.map(((e,t)=>(0,s.createElement)("th",{...e.getHeaderProps(),key:t,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:t=>{t.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(m.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...y(),children:b.length>0?b.map(((t,a)=>(A(t),(0,s.createElement)("tr",{...t.getRowProps(),key:a},t.cells.map(((t,l)=>{const r="action"===t.column.id||"localShop"===t.column.id||"serviceCenter"===t.column.id||"ourServices"===t.column.id||"addInCarousel"===t.column.id;return(0,s.createElement)("td",{...t.getCellProps(),key:l,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:a<=e.count-1?"#cfd1d1":""}},r||t.value?t.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(b.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(p(),{breakLabel:"...",onPageChange:t=>e.setCurrentPage(t.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(h.Vx.Provider,{value:{color:t,size:"28px"},children:(0,j.jsx)(u.dnY,{})}),nextLabel:(0,j.jsx)(h.Vx.Provider,{value:{color:t,size:"28px"},children:(0,j.jsx)(u.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(i.A,{style:{backgroundColor:t,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(c.o_z,{size:14})}),(0,j.jsx)(i.A,{style:{backgroundColor:t,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(c.hdn,{size:14})})]})]})]})})})}},29880:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s=a(65043),l=a(53519),r=a(61072),o=a(78602),n=a(24522),d=a(14282),i=a(27417),c=a(25284),m=a(98954),u=a(31462),x=a(3538),p=a(39110),h=a(32479),g=a(65797),j=a(6720),f=a(11238),y=a(63401),v=a(37762),A=(a(20557),a(2519)),b=a(36653),C=a(31121),N=a(23237),w=a(85959),S=a(70579);const P=()=>{const{color:e}=(0,b.D)(),[t,a]=(0,s.useState)([]),[P,E]=(0,s.useState)(1),[k,D]=(0,s.useState)(1),[_,I]=(0,s.useState)(1),[O,W]=(0,s.useState)(1),[H,L]=(0,s.useState)(0),[R,B]=(0,s.useState)(""),[F,M]=(0,s.useState)(""),[z,T]=(0,s.useState)(!1),[U,G]=(0,s.useState)(""),[Y,K]=(0,s.useState)(""),[V,q]=(0,s.useState)(""),[J,Q]=(0,s.useState)(!1),[Z,X]=(0,s.useState)(!1),[$,ee]=(0,s.useState)(!1),[te,ae]=(0,s.useState)(!1),[se,le]=(0,s.useState)(!1),[re,oe]=(0,s.useState)(!1),ne=(0,N.h)(),de=(0,h.L)(),{data:ie,isLoading:ce,isError:me,error:ue}=(0,g.w_)({page:P,search:R,role:de,startDate:U,endDate:Y,dayFilter:V,type:"employee",limit:"10",email:ne}),{data:xe,refetch:pe}=(0,g.e9)({role:de,search:R,startDate:U,endDate:Y,dayFilter:V,type:"employee",email:ne}),he=e=>(0,C.GP)(new Date(e),"dd-MMM-yyyy h:mm a");(0,s.useEffect)((()=>{ie&&ie.data&&(a(ie.data),D(ie.pagination.startIndex),E(P),L(ie.pagination.totalItems),I(ie.pagination.endIndex),W(ie.pagination.totalPages),ae(ie.moduleAccess.fullAccess),X(ie.moduleAccess.write),ee(ie.moduleAccess.read)),me&&500===(null===ue||void 0===ue?void 0:ue.status)?oe(!0):oe(!1)}),[ie,P,de,ue,me]);const ge=()=>{T(!0),B(F),pe({page:P,search:F}).then((()=>{T(!1)}))},je=[{Header:"ID",accessor:"s_no"},{Header:"Image",accessor:"image",Cell:e=>{const t=e.value;return t?(0,S.jsx)("img",{src:t,alt:"Profile",style:{width:"50px",height:"50px",borderRadius:"100%"}}):(0,S.jsx)(x.jNg,{size:50})}},{Header:"Employee ID",accessor:"employeeId"},{Header:"Name Of Employee",accessor:"nameOfEmployee"},{Header:"Role",accessor:"roleOfEmployee"},{Header:"Date Of Birth",accessor:"dateOfBirth"},{Header:"ID Proof",accessor:"idProof",Cell:e=>{const t=e.value;return t?(0,S.jsx)("img",{src:t,alt:"idProof",style:{width:"50px",height:"50px",borderRadius:"100%"}}):(0,S.jsx)(x.jNg,{size:50})}},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Email",accessor:"email"},{Header:"Password",accessor:"password"},{Header:"Status",accessor:"status"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:t}=e;return he(t)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:t}=e;return he(t)}}],fe=async e=>{le(!0);try{const{data:a,error:s}=xe;if(a&&Array.isArray(a)){if(0===a.length)return void y.oR.warn("No data to export",{autoClose:1e3});const s=a.map((e=>{var t,a,s,l,r,o,n,d,i,c,m,u,x;return{s_no:null!==(t=e.s_no)&&void 0!==t?t:"-",image:null!==(a=e.image)&&void 0!==a?a:"-",employeeId:null!==(s=e.employeeId)&&void 0!==s?s:"-",nameOfEmployee:null!==(l=e.nameOfEmployee)&&void 0!==l?l:"-",roleOfEmployee:null!==(r=e.roleOfEmployee)&&void 0!==r?r:"-",dateOfBirth:null!==(o=e.dateOfBirth)&&void 0!==o?o:"-",idProof:null!==(n=e.idProof)&&void 0!==n?n:"-",phoneNumber:null!==(d=e.phoneNumber)&&void 0!==d?d:"-",email:null!==(i=e.email)&&void 0!==i?i:"-",password:null!==(c=e.password)&&void 0!==c?c:"-",status:null!==(m=e.status)&&void 0!==m?m:"-",createdAt:null!==(u=e.createdAt)&&void 0!==u?u:"-",updatedAt:null!==(x=e.updatedAt)&&void 0!==x?x:"-"}})),l=["S.No","Image","Employee ID","Employee Name","Role","D.O.B","ID Proof","Phone Number","Email","Password","Status","Created At","Updated At"];if("xlsx"===e){const e="exported_employee.xlsx",t=f.Wp.json_to_sheet(s);f.Wp.sheet_add_aoa(t,[l],{origin:"A1"});const a=f.Wp.book_new();f.Wp.book_append_sheet(a,t,"employee"),f._h(a,e),Q(!1)}else if("pdf"===e){try{const e=new v.default({orientation:"landscape",format:"a2"}),t=(e,t)=>{const a=[];for(let s=0;s<e.length;s+=t)a.push(e.substring(s,s+t));return a},s=a.map((e=>{var a,s,l,r,o,n,d,i,c,m,u,x,p,h,g;return[null!==(a=e.s_no)&&void 0!==a?a:"-",null!==(s=t(null!==(l=e.image)&&void 0!==l?l:"-",50).join("\n"))&&void 0!==s?s:"-",null!==(r=e.employeeId)&&void 0!==r?r:"-",null!==(o=e.nameOfEmployee)&&void 0!==o?o:"-",null!==(n=e.roleOfEmployee)&&void 0!==n?n:"-",null!==(d=e.dateOfBirth)&&void 0!==d?d:"-",null!==(i=t(null!==(c=e.idProof)&&void 0!==c?c:"-",50).join("\n"))&&void 0!==i?i:"-",null!==(m=e.phoneNumber)&&void 0!==m?m:"-",null!==(u=e.email)&&void 0!==u?u:"-",null!==(x=e.password)&&void 0!==x?x:"-",null!==(p=e.status)&&void 0!==p?p:"-",null!==(h=e.createdAt)&&void 0!==h?h:"-",null!==(g=e.updatedAt)&&void 0!==g?g:"-"]}));e.autoTable({head:[["S.No","Image","Employee ID","Name Of Employee","Role Of Employee","D.O.B","ID Proof","Phone Number","Email","Password","Status","Created At","Updated At"]],body:s,theme:"striped",styles:{overflow:"linebreak",fontSize:10},columnStyles:{0:{cellWidth:15},1:{cellWidth:55},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:35},5:{cellWidth:25},6:{cellWidth:55},7:{cellWidth:30},8:{cellWidth:50},9:{cellWidth:30},10:{cellWidth:20},11:{cellWidth:25},12:{cellWidth:25}},startY:20,pageBreak:"auto"}),e.save("exported_employee.pdf")}catch(t){console.error("Error generating PDF:",t),y.oR.error("Error generating PDF",{autoClose:1e3})}Q(!1)}else if("csv"===e){const e="exported_employee.csv",t=f.Wp.json_to_sheet(s);f.Wp.sheet_add_aoa(t,[l],{origin:"A1"});const a=f.Wp.sheet_to_csv(t),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),n=URL.createObjectURL(r);o.setAttribute("href",n),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}G(""),K(""),q(""),Q(!1)}else s?y.oR.error(s.message,{autoClose:1e3}):y.oR.error("Unknown error occurred",{autoClose:1e3})}catch(ue){console.error("Error exporting data:",ue),y.oR.error("Error exporting data",{autoClose:1e3})}finally{le(!1)}};return(0,S.jsxs)("div",{children:[ce?(0,S.jsx)(p.A,{}):(0,S.jsx)(S.Fragment,{children:re?(0,S.jsx)(w.A,{}):$?(0,S.jsxs)(l.A,{fluid:!0,className:"mt-3 ",children:[(0,S.jsxs)(r.A,{className:"boxShadow p-4 mb-4 mt-4 justify-content-between",children:[(0,S.jsx)(r.A,{className:"p-2 mb-2 mt-2 align-items-center justify-content-between",children:(0,S.jsx)(o.A,{xs:"12",md:"auto",children:(0,S.jsx)("h4",{className:"fw-bold text-center text-md-start",children:"Employee Reports"})})}),te&&(0,S.jsxs)(o.A,{xs:"12",md:"auto",className:"d-flex flex-column flex-md-row justify-content-end align-items-center",children:[(0,S.jsxs)(n.A.Group,{controlId:"startDate",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,S.jsx)(n.A.Label,{children:"Start Date:"}),(0,S.jsx)(n.A.Control,{type:"date",value:U,onChange:e=>{const t=e.target.value;Y&&t>=Y?y.oR.warning("Start date must be earlier than the end date.",{autoClose:2e3}):(G(t),q(""))},disabled:V})]}),(0,S.jsxs)(n.A.Group,{controlId:"endDate",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,S.jsx)(n.A.Label,{children:"End Date:"}),(0,S.jsx)(n.A.Control,{type:"date",value:Y,onChange:e=>{const t=e.target.value;U&&t<U?y.oR.warning("End date must be later than the start date.",{autoClose:2e3}):(K(t),q(""))},disabled:V})]}),(0,S.jsxs)(n.A.Group,{controlId:"period",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,S.jsx)(n.A.Label,{children:"Period:"}),(0,S.jsxs)(n.A.Select,{value:V,onChange:e=>{q(e.target.value),G(""),K("")},disabled:U||Y,children:[(0,S.jsx)("option",{value:"",children:"Select Period"}),(0,S.jsx)("option",{value:"lastWeek",children:"Last Week"}),(0,S.jsx)("option",{value:"lastMonth",children:"Last Month"}),(0,S.jsx)("option",{value:"lastYear",children:"Last Year"})]})]}),(0,S.jsxs)(d.A,{variant:"success",onClick:()=>Q(!0),className:"align-self-end mx-md-2 w-100 w-md-auto",children:["Download ",(0,S.jsx)(j.mCe,{size:25})]})]})]}),(0,S.jsxs)(r.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,S.jsx)(o.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,S.jsxs)("div",{className:"input-group",children:[(0,S.jsx)("span",{className:"input-group-text",children:(0,S.jsx)(u.YQq,{})}),(0,S.jsx)("input",{type:"text",placeholder:"Search Employee...",className:"form-control",value:F,onChange:e=>M(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ge()}}),F&&(0,S.jsx)("span",{className:"input-group-text",onClick:()=>{M(""),B("")},children:(0,S.jsx)(u.IeJ,{})})]})}),(0,S.jsx)(o.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,S.jsx)(d.A,{style:{backgroundColor:e,border:"none"},onClick:ge,disabled:z||""===F,children:z?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})}),(0,S.jsx)(o.A,{className:"d-flex flex-column align-items-end justify-content-end my-4",xxl:2,xl:2,lg:2,sm:3,md:3})]}),(0,S.jsx)(r.A,{className:"boxShadow p-4 mb-4",children:(0,S.jsx)(m.A,{COLUMNS:je,MOCK_DATA:t,currentPage:P,startIndex:k,endIndex:_,setCurrentPage:E,totalItems:H,totalPages:O})})]}):(0,S.jsx)(A.A,{})}),(0,S.jsxs)(c.A,{show:J,onHide:()=>Q(!1),centered:!0,children:[(0,S.jsx)(c.A.Header,{closeButton:!0,children:(0,S.jsx)(c.A.Title,{children:"Export Data"})}),(0,S.jsxs)(c.A.Body,{children:[(0,S.jsx)(d.A,{variant:"primary",className:"m-2",onClick:()=>fe("pdf"),disabled:se,children:se?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting PDF..."]}):"Export as PDF"}),(0,S.jsx)(d.A,{variant:"success",className:"m-2",onClick:()=>fe("xlsx"),disabled:se,children:se?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting Excel..."]}):"Export as Excel"}),(0,S.jsx)(d.A,{variant:"warning",className:"m-2",onClick:()=>fe("csv"),disabled:se,children:se?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting CSV..."]}):"Export as CSV"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=9880.681ede33.chunk.js.map