"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[4358],{93779:(e,s,a)=>{a.d(s,{A:()=>i});a(65043);var t=a(94281),n=a(24522),r=a(75200),l=a(36653),o=a(63401),d=a(70579);const i=e=>{let{setFieldValue:s=(()=>{}),touched:a={},errors:i={},labelText:c="Upload Image",nameText:m="image",accepts:x={"image/*":[".png",".jpeg",".jpg",".svg",".webp",".gif"]},handleFileChange:u=null,disabled:p=!1}=e;const{getRootProps:g,getInputProps:h,isDragActive:j}=(0,t.VB)({accept:x||"",onDrop:e=>{const a=e[0],t=a.name.split(".").pop().toLowerCase();x["image/*"].map((e=>e.replace(".","").toLowerCase().trim())).includes(t)?(s(m,a),u&&u(a)):o.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},onDropRejected:e=>{o.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},disabled:p}),{color:A}=(0,l.D)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(n.A.Group,{children:[(0,d.jsxs)(n.A.Label,{children:[c," ",(0,d.jsx)("span",{className:"text-danger"})]}),(0,d.jsxs)("div",{...g(),className:"form-control dropzone ".concat(j?"active":""," ").concat(a[m]&&i[m]?"is-invalid":""),style:{border:"2px dashed #ced4da",padding:"20px",textAlign:"center",borderRadius:"5px",cursor:p?"not-allowed":"pointer",background:j?"#f8f9fa":"transparent"},children:[(0,d.jsx)("input",{...h(),disabled:p}),j?(0,d.jsx)("p",{children:"Drop the files here..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.YoE,{size:50,color:A}),(0,d.jsx)("p",{children:"Drag & drop an image here, or click to select one"})]})]}),a[m]&&i[m]&&(0,d.jsx)("p",{className:"text-danger",children:i[m]})]})})}},24796:(e,s,a)=>{a.d(s,{A:()=>n});a(65043);var t=a(70579);const n=e=>{let{image:s,valueImage:a}=e;const n=s&&(!Array.isArray(s)||s.length>0),r=a!==s?s:s instanceof File?URL.createObjectURL(s):s;return(0,t.jsx)(t.Fragment,{children:n?(0,t.jsx)("img",{src:r,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,t.jsx)(t.Fragment,{})})}},98954:(e,s,a)=>{a.d(s,{A:()=>A});var t=a(65043),n=a(71094),r=a(53519),l=a(61072),o=a(64196),d=a(78602),i=a(14282),c=a(49804),m=a(60184),x=a(3825),u=a(92157),p=a.n(u),g=a(13441),h=(a(39585),a(36653)),j=a(70579);const A=e=>{const{color:s}=(0,h.D)(),a=(0,t.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),u=(0,t.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:A,getTableBodyProps:C,headerGroups:v,prepareRow:N,page:f}=(0,n.useTable)({columns:a,data:u,autoResetWidth:!1},n.useGlobalFilter,n.useSortBy,n.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(r.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(l.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...A(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:v.map(((e,s)=>(0,t.createElement)("tr",{...e.getHeaderGroupProps(),key:s},e.headers.map(((e,s)=>(0,t.createElement)("th",{...e.getHeaderProps(),key:s,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(m.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...C(),children:f.length>0?f.map(((s,a)=>(N(s),(0,t.createElement)("tr",{...s.getRowProps(),key:a},s.cells.map(((s,n)=>{const r="action"===s.column.id||"localShop"===s.column.id||"serviceCenter"===s.column.id||"ourServices"===s.column.id||"addInCarousel"===s.column.id;return(0,t.createElement)("td",{...s.getCellProps(),key:n,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:a<=e.count-1?"#cfd1d1":""}},r||s.value?s.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(f.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(p(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(g.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(x.dnY,{})}),nextLabel:(0,j.jsx)(g.Vx.Provider,{value:{color:s,size:"28px"},children:(0,j.jsx)(x.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(i.A,{style:{backgroundColor:s,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(c.o_z,{size:14})}),(0,j.jsx)(i.A,{style:{backgroundColor:s,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(c.hdn,{size:14})})]})]})]})})})}},24358:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var t=a(65043),n=a(14282),r=a(53519),l=a(61072),o=a(78602),d=a(25284),i=a(24522),c=a(27417),m=a(98954),x=a(3538),u=a(63401),p=a(60184),g=a(36017),h=a(6720),j=a(73216),A=a(8397),C=a(32479),v=a(39110),N=a(2519),f=a(3825),b=a(36653),y=a(24796),I=a(93779),w=a(85959),S=a(70579);const k=()=>{const{color:e}=(0,b.D)(),[s,a]=(0,t.useState)([]),[k,P]=(0,t.useState)(1),[L,T]=(0,t.useState)(1),[F,D]=(0,t.useState)(1),[E,R]=(0,t.useState)(1),[H,O]=(0,t.useState)(0),{deviceName:U}=(0,j.g)(),[_,z]=(0,t.useState)(null),[G,M]=(0,t.useState)(!1),[B,K]=(0,t.useState)(""),[V,W]=(0,t.useState)(null),[Y,Z]=(0,t.useState)(!1),[q,X]=(0,t.useState)(""),[J,Q]=(0,t.useState)(!1),[$,ee]=(0,t.useState)(""),[se,ae]=(0,t.useState)(null),[te,ne]=(0,t.useState)(!1),[re,le]=(0,t.useState)(!1),[oe,de]=(0,t.useState)(!1),[ie,ce]=(0,t.useState)(!1),me=(0,C.L)(),{data:xe,refetch:ue,isLoading:pe,isError:ge,error:he}=(0,A.l)({page:k,device:U,role:me}),[je,{isLoading:Ae}]=(0,A.qS)(),[Ce,{isLoading:ve}]=(0,A.L7)(),[Ne,{isLoading:fe}]=(0,A.xO)(),be=(0,j.Zp)();(0,t.useEffect)((()=>{xe&&xe.data&&(a(xe.data),T(xe.pagination.startIndex),P(k),O(xe.pagination.totalItems),D(xe.pagination.endIndex),R(xe.pagination.totalPages),de(xe.moduleAccess.fullAccess),ne(xe.moduleAccess.write),le(xe.moduleAccess.read)),ge&&500===(null===he||void 0===he?void 0:he.status)?ce(!0):ce(!1)}),[xe,k,me,he,ge]);const ye=()=>{M(!1),z(null),K(""),W(null)},Ie=()=>{Q(!1),ee(""),ae(null)},we=[{Header:"ID",accessor:"s_no"},{Header:"Issue Name",accessor:"issueName"},{Header:"Issue Image",accessor:"issueImage",Cell:e=>{const s=e.value;return s?(0,S.jsx)("img",{src:s,alt:"Profile",style:{maxWidth:"50px",maxHeight:"50px"}}):(0,S.jsx)(x.jNg,{size:30})}},{Header:"Created At",accessor:"createdAt"},{Header:"Updated At",accessor:"updatedAt"}];return oe&&we.push({Header:"ACTIONS",accessor:"action",Cell:e=>{const a=e.row.original._id;return(0,S.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,S.jsx)(n.A,{variant:"warning",onClick:()=>(e=>{const a=s.find((s=>s._id===e));a&&(z(e),K(a.issueName),W(a.issueImage),M(!0))})(a),children:(0,S.jsx)(p.uO9,{})}),(0,S.jsx)(n.A,{variant:"danger",className:"ms-2",onClick:()=>(X(a),void Z(!0)),children:(0,S.jsx)(h.b6i,{})})]})}}),(0,S.jsxs)("div",{children:[pe?(0,S.jsx)(v.A,{}):(0,S.jsx)(S.Fragment,{children:ie?(0,S.jsx)(w.A,{}):re?(0,S.jsxs)(r.A,{fluid:!0,className:"mt-3 ",children:[(0,S.jsx)(l.A,{className:"boxShadow p-4 mb-4 mt-4",children:(0,S.jsxs)(o.A,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,S.jsxs)(o.A,{className:"d-flex justify-content-start mb-3 mt-3",children:[(0,S.jsx)("h4",{onClick:()=>{be("/admin/devices")},className:"mx-3",children:(0,S.jsx)(f.nXt,{})}),(0,S.jsx)("h4",{children:"Issues"})]}),te?(0,S.jsx)("div",{children:(0,S.jsxs)(n.A,{style:{backgroundColor:e,border:"none"},className:"p-2 m-1",onClick:()=>{Q(!0)},children:[(0,S.jsx)(p.OiG,{size:20}),(0,S.jsx)("span",{className:"d-none d-md-inline",children:" Add Issues"})]})}):(0,S.jsx)(S.Fragment,{})]})}),(0,S.jsx)(l.A,{className:"boxShadow p-4 mb-4",children:(0,S.jsx)(m.A,{COLUMNS:we,MOCK_DATA:s,currentPage:k,startIndex:L,endIndex:F,setCurrentPage:P,totalItems:H,totalPages:E})}),(0,S.jsx)(g.A,{YES:async()=>{try{const a=await Ce({role:me,data:{device:U,issueId:q}});var e,s;if(Z(!1),X(""),null!==a&&void 0!==a&&a.data)u.oR.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message,{autoClose:1e3});else u.oR.error(null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(he){console.error(he)}},DELETESTATE:Y,ONCLICK:()=>{Z(!1)},DESCRIPTION:"Are you sure want to delete this Issues",DELETETITLE:"Issues"})]}):(0,S.jsx)(N.A,{})}),(0,S.jsxs)(d.A,{show:G,onHide:ye,centered:!0,dialogClassName:"all-modal",children:[(0,S.jsx)(d.A.Header,{closeButton:!0,children:(0,S.jsx)(d.A.Title,{children:"Edit Issue"})}),(0,S.jsx)(d.A.Body,{children:(0,S.jsxs)(i.A,{children:[(0,S.jsxs)(i.A.Group,{controlId:"deviceNameInput",children:[(0,S.jsxs)(i.A.Label,{children:["Issue Name: ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{type:"text",value:B,onChange:e=>{K(e.target.value)},placeholder:"Enter the issue name here"})]}),(0,S.jsxs)(i.A.Group,{controlId:"fileUpload",className:"mt-3",children:[(0,S.jsx)(I.A,{labelText:"Upload Image",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},handleFileChange:e=>{(e=>{W(e)})(e)}}),(0,S.jsx)(y.A,{image:V,valueImage:V}),(0,S.jsx)("div",{children:(0,S.jsx)("small",{className:"text-muted",children:"Accepted file types: .jpg , .jpeg, .png, .svg, .webp"})})]})]})}),(0,S.jsxs)(d.A.Footer,{children:[(0,S.jsx)(n.A,{variant:"secondary",onClick:ye,children:"Cancel"}),(0,S.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(B&&V)try{const e=new FormData;e.append("issue",B),e.append("image",V),e.append("device",U),e.append("issueId",_);const s=await je({role:me,data:e});s.data?(u.oR.success(s.data.message,{autoClose:1e3}),M(!1),ue()):u.oR.error(s.error.data.error,{autoClose:1e3})}catch(he){console.error(he)}else u.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:Ae,children:Ae?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Update..."]}):"Update"})]})]}),(0,S.jsxs)(d.A,{show:J,onHide:Ie,centered:!0,dialogClassName:"all-modal",children:[(0,S.jsx)(d.A.Header,{closeButton:!0,children:(0,S.jsx)(d.A.Title,{children:"Add Issue"})}),(0,S.jsx)(d.A.Body,{children:(0,S.jsxs)(i.A,{children:[(0,S.jsxs)(i.A.Group,{controlId:"issueInput",children:[(0,S.jsxs)(i.A.Label,{children:["Issue Name: ",(0,S.jsx)("span",{className:"text-danger",children:"*"})]}),(0,S.jsx)(i.A.Control,{type:"text",value:$,onChange:e=>{ee(e.target.value)},placeholder:"Enter the issue name here"})]}),(0,S.jsxs)(i.A.Group,{controlId:"newFileUpload",className:"mt-3",children:[(0,S.jsx)(I.A,{labelText:"Upload Image",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},handleFileChange:e=>{(e=>{ae(e)})(e)}}),(0,S.jsx)(y.A,{image:se,valueImage:se}),(0,S.jsx)("div",{className:"mt-2",children:(0,S.jsx)("small",{className:"text-muted",children:"Accepted file types: .jpg , .jpeg, .png, .svg, .webp"})})]})]})}),(0,S.jsxs)(d.A.Footer,{children:[(0,S.jsx)(n.A,{variant:"secondary",onClick:Ie,children:"Cancel"}),(0,S.jsx)(n.A,{style:{backgroundColor:e,border:"none"},onClick:async()=>{if(se&&$)try{const e=new FormData;e.append("issue",$),e.append("image",se),e.append("device",U);const s=await Ne({role:me,data:e});s.data?(u.oR.success(s.data.message,{autoClose:1e3}),Q(!1),ue(),ee(""),ae("")):(u.oR.error(s.error.data.error,{autoClose:1e3}),ee(""),ae(""))}catch(he){console.error(he)}else u.oR.error("Please fill all the fields",{autoClose:1e3})},disabled:fe,children:fe?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(c.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Add..."]}):"Add"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=4358.2c5a9378.chunk.js.map