"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[6337],{93779:(e,a,t)=>{t.d(a,{A:()=>c});t(65043);var l=t(94281),s=t(24522),i=t(75200),n=t(36653),r=t(63401),o=t(70579);const c=e=>{let{setFieldValue:a=(()=>{}),touched:t={},errors:c={},labelText:d="Upload Image",nameText:m="image",accepts:p={"image/*":[".png",".jpeg",".jpg",".svg",".webp",".gif"]},handleFileChange:x=null,disabled:u=!1}=e;const{getRootProps:h,getInputProps:g,isDragActive:j}=(0,l.VB)({accept:p||"",onDrop:e=>{const t=e[0],l=t.name.split(".").pop().toLowerCase();p["image/*"].map((e=>e.replace(".","").toLowerCase().trim())).includes(l)?(a(m,t),x&&x(t)):r.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},onDropRejected:e=>{r.oR.warning("This file type not accepted",{autoClose:2e3,position:"bottom-center"})},disabled:u}),{color:f}=(0,n.D)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.A.Group,{children:[(0,o.jsxs)(s.A.Label,{children:[d," ",(0,o.jsx)("span",{className:"text-danger"})]}),(0,o.jsxs)("div",{...h(),className:"form-control dropzone ".concat(j?"active":""," ").concat(t[m]&&c[m]?"is-invalid":""),style:{border:"2px dashed #ced4da",padding:"20px",textAlign:"center",borderRadius:"5px",cursor:u?"not-allowed":"pointer",background:j?"#f8f9fa":"transparent"},children:[(0,o.jsx)("input",{...g(),disabled:u}),j?(0,o.jsx)("p",{children:"Drop the files here..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.YoE,{size:50,color:f}),(0,o.jsx)("p",{children:"Drag & drop an image here, or click to select one"})]})]}),t[m]&&c[m]&&(0,o.jsx)("p",{className:"text-danger",children:c[m]})]})})}},24796:(e,a,t)=>{t.d(a,{A:()=>s});t(65043);var l=t(70579);const s=e=>{let{image:a,valueImage:t}=e;const s=a&&(!Array.isArray(a)||a.length>0),i=t!==a?a:a instanceof File?URL.createObjectURL(a):a;return(0,l.jsx)(l.Fragment,{children:s?(0,l.jsx)("img",{src:i,width:100,height:70,alt:"image",className:"mt-3",style:{objectFit:"contain"}}):(0,l.jsx)(l.Fragment,{})})}},97355:(e,a,t)=>{t.d(a,{A:()=>i});t(65043);var l=t(24522),s=t(70579);const i=e=>{const{label:a,rows:t,type:i,name:n,value:r,onChange:o,htmlFor:c,validation:d,className:m,lg:p,md:x,xxl:u,xl:h,sm:g,placeholder:j,star:f}=e;return(0,s.jsxs)(l.A.Group,{controlId:"formBasicTextArea",children:[(0,s.jsxs)(l.A.Label,{htmlFor:c,children:[a,(0,s.jsx)("span",{className:"text-danger ".concat("none"===f?"d-".concat(f):""),children:"*"})," "]}),(0,s.jsx)(l.A.Control,{as:"textarea",name:n,rows:t,value:r,type:i,placeholder:j,onChange:o,className:m,lg:p,md:x,xxl:u,xl:h,sm:g}),d]})}},13256:(e,a,t)=>{t.d(a,{A:()=>i});t(65043);var l=t(24522),s=t(70579);const i=e=>{const{label:a,name:t,id:i,type:n,placeholder:r,htmlFor:o,lableClassName:c,value:d,onChange:m,onBlur:p,disabled:x,className:u,lg:h,md:g,xxl:j,xl:f,sm:b,validation:v,star:A,ref:N,accept:y}=e;return(0,s.jsxs)(l.A.Group,{children:[(0,s.jsxs)(l.A.Label,{htmlFor:o,className:c,children:[a,(0,s.jsx)("span",{className:"text-danger ".concat("none"===A?"d-".concat(A):""),children:"*"})]}),(0,s.jsx)(l.A.Control,{name:t,id:i,type:n,placeholder:r,value:d,onChange:m,onBlur:p,disabled:x,className:u,lg:h,md:g,xxl:j,xl:f,sm:b,ref:N,accept:null!==y&&void 0!==y?y:""}),v]})}},53336:(e,a,t)=>{t.d(a,{u:()=>s});var l=t(80899);const s=l.Ik().shape({image:l.Yj().required("Image  is required"),title:l.Yj().required("Title  is required"),limit:l.ai().required("Limit  is required"),code:l.Yj().required("Code is required"),status:l.Yj().required("Status is required"),value:l.Yj().required("Value is required"),description:l.Yj().required("Description is required"),startDate:l.Yj().required("Start Date is required"),endDate:l.Yj().required("End Date required"),applicableTo:l.gl().required("Applicable To is required")})},93995:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var l=t(65043),s=t(867),i=t(53519),n=t(24522),r=t(61072),o=t(78602),c=t(53336),d=t(73216),m=t(3825),p=t(4207),x=t(97355),u=t(13256),h=t(21476),g=t(63401),j=t(32479),f=t(2364),b=t(24796),v=t(93779),A=t(70579);const N=()=>{var e;const[a,t]=(0,l.useState)(""),[N,y]=(0,l.useState)(""),[C,w]=(0,l.useState)(""),[D,S]=(0,l.useState)(""),[T,k]=(0,l.useState)(""),[F,q]=(0,l.useState)(""),[R,I]=(0,l.useState)(null),[L,O]=(0,l.useState)([]),E=((0,l.useRef)(null),(0,j.L)()),{id:B}=(0,d.g)(),G=B.startsWith(":")?B.slice(1):B,[Y,{isLoading:V}]=(0,h.Ng)(),{data:z}=(0,h.Ch)({id:G,role:E}),P=(0,d.Zp)(),{data:_}=(0,h.y6)(),U=()=>{P("/admin/coupon")},W=e=>{if(!e)return"";const[a,t,l]=e.split("/");return a&&t&&l?"".concat(l,"-").concat(t,"-").concat(a):""};(0,l.useEffect)((()=>{if(z&&z.data){if(I(z.data.image),t(z.data.title),y(z.data.limit),z.data.applicable&&"string"===typeof z.data.applicable){const e=z.data.applicable.split(",").map((e=>({value:e,label:e})));O(e)}w(z.data.status),S(z.data.description),k(W(z.data.startDate)),q(W(z.data.endDate))}}),[z]);const M=e=>{const a=new Date(e),t=("0"+a.getDate()).slice(-2),l=("0"+(a.getMonth()+1)).slice(-2),s=a.getFullYear();return"".concat(t,"/").concat(l,"/").concat(s)},H=async()=>{try{const l=T?M(T):"",s=F?M(F):"",i=Array.isArray(L)?L.map((e=>e.value)).join(","):"",n=new FormData;n.append("image",R),n.append("title",a),n.append("limit",N),n.append("status",C),n.append("description",D),n.append("startDate",l),n.append("endDate",s),n.append("applicable",i);const r=await Y({id:G,role:E,data:n});var e,t;if(null!==r&&void 0!==r&&r.data)g.oR.success(r.data.message,{autoClose:1e3}),P("/admin/coupon");else g.oR.error(null===(e=r.error)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error,{autoClose:1e3})}catch(l){console.error(l)}},X=(null===_||void 0===_||null===(e=_.data)||void 0===e?void 0:e.map((e=>({value:e,label:e}))))||[];return(0,A.jsx)("div",{children:(0,A.jsx)(i.A,{fluid:!0,className:"",children:(0,A.jsx)(s.l1,{initialValues:{image:"",title:"",limit:"",code:"",description:"",startDate:"",endDate:"",applicableTo:[]},validationSchema:c.u,onSubmit:H,children:e=>{let{values:l,errors:s,touched:i,handleChange:d,handleBlur:h,handleSubmit:j,isSubmitting:E,setFieldValue:B}=e;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(n.A,{children:[(0,A.jsxs)(r.A,{className:"d-flex flex-row justify-content-between align-items-center mt-3",children:[(0,A.jsxs)(o.A,{className:"d-flex justify-content-start mb-3",children:[(0,A.jsx)("h4",{onClick:U,className:"mx-2",children:(0,A.jsx)(m.nXt,{})}),(0,A.jsx)("h4",{children:"Edit Coupon"})]}),(0,A.jsxs)(o.A,{className:"d-sm-none d-none d-md-none d-lg-flex d-xxl-flex d-xl-flex flex-row justify-content-end align-items-center",children:[(0,A.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:U,label:"Cancel"}),(0,A.jsx)(p.A,{className:"m-1",label:"Update",type:"button",isLoading:V,loaderVariant:"info",disabled:E,onClick:async()=>{try{const e=Object.keys(i);for(const t of e)await c.u.validateAt(t,{image:R,title:a,limit:N,status:C,applicableTo:L,description:D,startDate:T,endDate:F});H()}catch(e){g.oR.error(e.message,{autoClose:1e3})}}})]})]}),(0,A.jsxs)(r.A,{className:"d-flex flex-wrap flex-lg-row flex-xxl-row flex-xl-row flex-column flex-md-column flex-sm-column  mt-4",children:[(0,A.jsxs)(o.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(u.A,{label:"Title",type:"",name:"title",placeholder:"Enter the title here",value:a,className:"form-control ".concat(i.title&&s.title?"is-invalid":""),onChange:e=>{t(e.target.value),d(e)},onBlur:h,validation:i.title&&s.title?(0,A.jsx)("p",{className:"text-danger",children:s.title}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(u.A,{label:"Limit",type:"",name:"limit",value:N,placeholder:"Enter the limit here",className:"form-control ".concat(i.limit&&s.limit?"is-invalid":""),onChange:e=>{y(e.target.value),d(e)},onBlur:h,validation:i.limit&&s.limit?(0,A.jsx)("p",{className:"text-danger",children:s.limit}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsxs)(n.A.Group,{controlId:"status",children:[(0,A.jsx)(n.A.Label,{children:"Status"}),(0,A.jsxs)(n.A.Select,{name:"status",value:C,placeholder:"Enter the status here",className:i.status&&s.status?"is-invalid":"",onChange:e=>{w(e.target.value),d(e)},onBlur:h,children:[(0,A.jsx)("option",{value:"",children:"Select Status"}),(0,A.jsx)("option",{value:"Pending",children:"Pending"}),(0,A.jsx)("option",{value:"Active",children:"Active"}),(0,A.jsx)("option",{value:"InActive",children:"InActive"})]}),i.status&&s.status?(0,A.jsx)(n.A.Control.Feedback,{type:"invalid",children:s.status}):null]})}),(0,A.jsxs)(o.A,{className:"m-2",lg:"12",children:[(0,A.jsx)("label",{htmlFor:"applicableToSelect1",className:"form-label",children:"Applicable To"}),(0,A.jsx)(f.Ay,{id:"applicableToSelect1",isMulti:!0,options:X,value:L,onChange:e=>{(e=>{O(e)})(e),B("applicableTo",e)},className:"basic-multi-select ".concat(i.applicableTo&&s.applicableTo?"is-invalid":""),classNamePrefix:"select",placeholder:"Select Applicable To"}),i.applicableTo&&s.applicableTo&&(0,A.jsx)("p",{className:"text-danger",children:s.applicableTo})]}),(0,A.jsxs)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:[(0,A.jsx)(v.A,{labelText:"Image",nameText:"image",accepts:{"image/*":[".png",".jpeg",".jpg",".svg",".webp"]},touched:i,errors:s,setFieldValue:B,handleFileChange:e=>{(e=>{I(e)})(e)}}),(0,A.jsx)("div",{children:(0,A.jsxs)("small",{className:"text-muted",children:["Accepted file types: .jpg , .jpeg, .png, .svg, .webp"," "]})}),(0,A.jsx)("div",{children:(0,A.jsxs)("small",{className:"",children:["Dimensions should be 1:1"," "]})}),(0,A.jsx)(b.A,{image:R,valueImage:l.image})]})]}),(0,A.jsxs)(o.A,{className:"m-1 p-4 d-flex flex-wrap flex-column shadow rounded bg-white",children:[(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(u.A,{label:"Start Date",type:"date",name:"startDate",value:T,className:"form-control ".concat(i.startDate&&s.startDate?"is-invalid":""),onChange:e=>{k(e.target.value),d(e)},onBlur:h,validation:i.startDate&&s.startDate?(0,A.jsx)("p",{className:"text-danger",children:s.startDate}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(u.A,{label:"End Date",type:"date",name:"endDate",value:F,className:"form-control ".concat(i.endDate&&s.endDate?"is-invalid":""),onChange:e=>{q(e.target.value),d(e)},onBlur:h,validation:i.endDate&&s.endDate?(0,A.jsx)("p",{className:"text-danger",children:s.endDate}):""})}),(0,A.jsx)(o.A,{className:"m-2",lg:"12",xxl:"12",xl:"12",md:"12",sm:"12",children:(0,A.jsx)(x.A,{label:"Description",type:"textarea",name:"description",value:D,placeholder:"Enter the description here",className:"form-control ".concat(i.description&&s.description?"is-invalid":""),onChange:e=>{S(e.target.value),d(e)},onBlur:h,validation:i.description&&s.description?(0,A.jsx)("p",{className:"text-danger",children:s.description}):""})})]})]}),(0,A.jsxs)(r.A,{className:" mt-3  d-sm-flex d-flex d-md-flex d-lg-none d-xxl-none d-xl-none flex-row justify-content-between align-items-center mt-3",children:[(0,A.jsx)(o.A,{className:"d-flex justify-content-start align-items-center",children:(0,A.jsx)(p.A,{className:"m-1",variant:"secondary",onClick:U,label:"Cancel"})}),(0,A.jsx)(o.A,{className:"d-flex justify-content-end align-items-center",children:(0,A.jsx)(p.A,{className:"m-1",label:"Update",type:"button",isLoading:V,loaderVariant:"info",disabled:E,onClick:async()=>{try{const e=Object.keys(i);for(const t of e)await c.u.validateAt(t,{image:R,title:a,limit:N,status:C,applicableTo:L,description:D,startDate:T,endDate:F});H()}catch(e){g.oR.error(e.message,{autoClose:1e3})}}})})]})]})})}})})})}},83342:(e,a,t)=>{t.d(a,{A:()=>l});var l={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},2364:(e,a,t)=>{t.d(a,{Ay:()=>r});var l=t(9817),s=t(58168),i=t(65043),n=t(61404),r=(t(35513),t(97950),t(11322),(0,i.forwardRef)((function(e,a){var t=(0,l.u)(e);return i.createElement(n.S,(0,s.A)({ref:a},t))})))},57528:(e,a,t)=>{function l(e,a){return a||(a=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(a)}}))}t.d(a,{A:()=>l})}}]);
//# sourceMappingURL=6337.d8705ebf.chunk.js.map