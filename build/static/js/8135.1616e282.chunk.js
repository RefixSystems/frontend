"use strict";(self.webpackChunklaptop_rental_web_app=self.webpackChunklaptop_rental_web_app||[]).push([[8135],{39110:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(53519),r=(a(36386),a(79340)),n=a(70579);const l=()=>(0,n.jsxs)(s.A,{className:"vh-100 d-flex flex-column justify-content-center align-items-center",children:[(0,n.jsx)("img",{src:r,alt:"Loading...",style:{width:"150px",height:"150px"}}),(0,n.jsx)("div",{className:"text mt-3",children:"Loading ..."})]})},98954:(e,t,a)=>{a.d(t,{A:()=>v});var s=a(65043),r=a(71094),n=a(53519),l=a(61072),o=a(64196),d=a(78602),i=a(14282),c=a(49804),u=a(60184),m=a(3825),x=a(92157),h=a.n(x),p=a(13441),g=(a(39585),a(36653)),j=a(70579);const v=e=>{const{color:t}=(0,g.D)(),a=(0,s.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),x=(0,s.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:v,getTableBodyProps:C,headerGroups:A,prepareRow:b,page:f}=(0,r.useTable)({columns:a,data:x,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(n.A,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(l.A,{children:[(0,j.jsxs)(o.A,{className:"justify-content-center align-items-center",striped:!0,hover:!0,...v(),responsive:!0,style:{width:"100%",marginLeft:"25px"},children:[(0,j.jsx)("thead",{children:A.map(((e,t)=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:t},e.headers.map(((e,t)=>(0,s.createElement)("th",{...e.getHeaderProps(),key:t,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:t=>{t.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(u.MjW,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...C(),children:f.length>0?f.map(((t,a)=>(b(t),(0,s.createElement)("tr",{...t.getRowProps(),key:a},t.cells.map(((t,r)=>{const n="action"===t.column.id||"localShop"===t.column.id||"serviceCenter"===t.column.id||"ourServices"===t.column.id||"addInCarousel"===t.column.id;return(0,s.createElement)("td",{...t.getCellProps(),key:r,className:"text-secondary text-start",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch",backgroundColor:a<=e.count-1?"#cfd1d1":""}},n||t.value?t.render("Cell"):"-")})))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(d.A,{className:"".concat(f.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsx)(d.A,{className:"d-flex justify-content-start align-items-center flex-wrap",children:(0,j.jsxs)("span",{className:"m-1",children:["Showing","",(0,j.jsxs)("strong",{className:"m-2",children:[e.startIndex," to ",e.endIndex," of"," ",(0,j.jsxs)("strong",{className:"m-2",children:[" ",e.totalItems," entries"]})]})]})}),(0,j.jsx)(d.A,{className:" mt-3 d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(h(),{breakLabel:"...",onPageChange:t=>e.setCurrentPage(t.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:t,size:"28px"},children:(0,j.jsx)(m.dnY,{})}),nextLabel:(0,j.jsx)(p.Vx.Provider,{value:{color:t,size:"28px"},children:(0,j.jsx)(m.m2f,{})})})}),(0,j.jsxs)(d.A,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(i.A,{style:{backgroundColor:t,border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(c.o_z,{size:14})}),(0,j.jsx)(i.A,{style:{backgroundColor:t,border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(c.hdn,{size:14})})]})]})]})})})}},58135:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var s=a(65043),r=a(53519),n=a(61072),l=a(78602),o=a(24522),d=a(14282),i=a(27417),c=a(25284),u=a(98954),m=a(31462),x=a(63401),h=a(6720),p=a(32479),g=a(39110),j=a(65797),v=a(11238),C=a(37762),A=(a(20557),a(2519),a(36653)),b=a(3538),f=a(31121),y=a(70579);const S=()=>{const{color:e}=(0,A.D)(),[t,a]=(0,s.useState)([]),[S,N]=(0,s.useState)(1),[w,P]=(0,s.useState)(1),[k,_]=(0,s.useState)(1),[W,D]=(0,s.useState)(1),[M,I]=(0,s.useState)(0),[H,L]=(0,s.useState)(""),[E,F]=(0,s.useState)(""),[O,R]=(0,s.useState)(!1),[z,B]=(0,s.useState)(""),[T,U]=(0,s.useState)(""),[G,Y]=(0,s.useState)(""),[q,K]=(0,s.useState)(!1),[V,Q]=(0,s.useState)(!1),J=(0,p.L)(),{data:Z,isLoading:X,refetch:$}=(0,j.Cd)({page:S,search:H,role:J,startDate:z,endDate:T,dayFilter:G,type:"rentalProduct",limit:"10"}),{data:ee}=(0,j.om)({role:J,search:H,startDate:z,endDate:T,dayFilter:G,type:"rentalProduct"}),te=e=>(0,f.GP)(new Date(e),"dd-MMM-yyyy h:mm a");(0,s.useEffect)((()=>{Z&&Z.data&&(a(Z.data),P(Z.pagination.startIndex),N(S),I(Z.pagination.totalItems),_(Z.pagination.endIndex),D(Z.pagination.totalPages))}),[Z,S,J]);const ae=()=>{R(!0),L(E),$({page:S,search:E}).then((()=>{R(!1)}))},se=async e=>{Q(!0);try{const{data:a,error:s}=ee;if(a&&Array.isArray(a)){if(0===a.length)return void x.oR.warn("No data to export",{autoClose:1e3});const s=a.map((e=>{var t,a,s,r,n,l,o,d,i,c,u,m,x,h,p,g,j;return{s_no:null!==(t=e.s_no)&&void 0!==t?t:"-",image:null!==(a=e.image)&&void 0!==a?a:"-",addInCarousel:null!==(s=e.addInCarousel)&&void 0!==s?s:"-",amountForOneMonth:null!==(r=e.amountForOneMonth)&&void 0!==r?r:"-",brand:null!==(n=e.brand)&&void 0!==n?n:"-",model:null!==(l=e.model)&&void 0!==l?l:"-",color:null!==(o=e.color)&&void 0!==o?o:"-",status:null!==(d=e.status)&&void 0!==d?d:"-",operatingSystem:null!==(i=e.operatingSystem)&&void 0!==i?i:"-",processor:null!==(c=e.processor)&&void 0!==c?c:"-",storage:null!==(u=e.storage)&&void 0!==u?u:"-",ram:null!==(m=e.ram)&&void 0!==m?m:"-",screenSize:null!==(x=e.screenSize)&&void 0!==x?x:"-",quantity:null!==(h=e.quantity)&&void 0!==h?h:"-",description:null!==(p=e.description)&&void 0!==p?p:"-",createdAt:null!==(g=e.createdAt)&&void 0!==g?g:"-",updatedAt:null!==(j=e.updatedAt)&&void 0!==j?j:"-"}})),r=["S.No","Image","Carousel","Amount For One Month","Brand","Model","Color","Status","Operating System","Processor","Storage","RAM","Screen Size","Quantity","Description","Created At","Updated At"];if("xlsx"===e){const e="exported_rentalProduct.xlsx",t=v.Wp.json_to_sheet(s);v.Wp.sheet_add_aoa(t,[r],{origin:"A1"});const a=v.Wp.book_new();v.Wp.book_append_sheet(a,t,"rentalProduct"),v._h(a,e),K(!1)}else if("pdf"===e){try{const e=new C.default({orientation:"landscape",format:"a2"}),t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("string"!==typeof e)return console.error("Expected a string but got:",e),[];const a=[];for(let s=0;s<e.length;s+=t)a.push(e.substring(s,s+t));return a},s=a.map((e=>{var a,s,r,n,l,o,d,i,c,u,m,x,h,p,g,j,v,C,A;return[null!==(a=e.s_no)&&void 0!==a?a:"-",null!==(s=t(null!==(r=e.image)&&void 0!==r?r:"-",100).join("\n"))&&void 0!==s?s:"-",null!==(n=e.addInCarousel)&&void 0!==n?n:"-",null!==(l=e.amountForOneMonth)&&void 0!==l?l:"-",null!==(o=e.brand)&&void 0!==o?o:"-",null!==(d=e.model)&&void 0!==d?d:"-",null!==(i=e.color)&&void 0!==i?i:"-",null!==(c=e.status)&&void 0!==c?c:"-",null!==(u=e.operatingSystem)&&void 0!==u?u:"-",null!==(m=e.processor)&&void 0!==m?m:"-",null!==(x=e.storage)&&void 0!==x?x:"-",null!==(h=e.ram)&&void 0!==h?h:"-",null!==(p=e.screenSize)&&void 0!==p?p:"-",null!==(g=e.quantity)&&void 0!==g?g:"-",null!==(j=t(null!==(v=e.description)&&void 0!==v?v:"-",100).join("\n"))&&void 0!==j?j:"-",null!==(C=e.createdAt)&&void 0!==C?C:"-",null!==(A=e.updatedAt)&&void 0!==A?A:"-"]}));e.autoTable({head:[["S.No","Image","Carousel","Amount For One Month","Brand","Model","Color","Status","Operating System","Processor","Storage","RAM","Screen Size","Quantity","Description","Created At","Updated At"]],body:s,theme:"striped",styles:{overflow:"linebreak",fontSize:10},columnStyles:{0:{cellWidth:15},1:{cellWidth:70},2:{cellWidth:20},3:{cellWidth:25},4:{cellWidth:17},5:{cellWidth:20},6:{cellWidth:17},7:{cellWidth:17},8:{cellWidth:25},9:{cellWidth:20},10:{cellWidth:20},11:{cellWidth:17},12:{cellWidth:17},13:{cellWidth:20},14:{cellWidth:70},15:{cellWidth:30},16:{cellWidth:30}},startY:20,pageBreak:"auto"}),e.save("exported_rentalProduct.pdf")}catch(t){x.oR.error("Error generating PDF",{autoClose:1e3})}K(!1)}else if("csv"===e){const e="exported_rentalProduct.csv",t=v.Wp.json_to_sheet(s);v.Wp.sheet_add_aoa(t,[r],{origin:"A1"});const a=v.Wp.sheet_to_csv(t),n=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),o=URL.createObjectURL(n);l.setAttribute("href",o),l.setAttribute("download",e),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}B(""),U(""),Y(""),K(!1)}else s?x.oR.error(s.message,{autoClose:1e3}):x.oR.error("Unknown error occurred",{autoClose:1e3})}catch(a){console.error("Error exporting data:",a),x.oR.error("Error exporting data",{autoClose:1e3})}finally{Q(!1)}},re=[{Header:"ID",accessor:"s_no"},{Header:"Image",accessor:"image",Cell:e=>{const t=e.value;return t?(0,y.jsx)("img",{src:t,alt:"Profile",style:{width:"50px",height:"50px",borderRadius:"100%"}}):(0,y.jsx)(b.jNg,{size:50})}},{Header:"Carousel",accessor:"addInCarousel",Cell:e=>{let{value:t}=e;return t?"true":"false"}},{Header:"Amount For 6 Month",accessor:"amountForOneMonth"},{Header:"Brand",accessor:"brand"},{Header:"Model",accessor:"model"},{Header:"Processor",accessor:"processor"},{Header:"Ram",accessor:"ram"},{Header:"Screen Size",accessor:"screenSize"},{Header:"Storage",accessor:"storage"},{Header:"Color",accessor:"color"},{Header:"Operating System",accessor:"operatingSystem"},{Header:"Status",accessor:"status"},{Header:"Description",accessor:"description"},{Header:"Created At",accessor:"createdAt",Cell:e=>{let{value:t}=e;return te(t)}},{Header:"Updated At",accessor:"updatedAt",Cell:e=>{let{value:t}=e;return te(t)}}];return(0,y.jsxs)("div",{children:[X?(0,y.jsx)(g.A,{}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(r.A,{fluid:!0,className:"mt-3",children:[(0,y.jsxs)(n.A,{className:"boxShadow p-4 mb-4 mt-4 align-items-center justify-content-between",children:[(0,y.jsx)(n.A,{className:"p-2 mb-2 mt-2 align-items-center justify-content-between",children:(0,y.jsx)(l.A,{xs:"12",md:"auto",children:(0,y.jsx)("h4",{className:"fw-bold text-center text-md-start",children:"Rental Product Reports"})})}),(0,y.jsxs)(l.A,{xs:"12",md:"auto",className:"d-flex flex-column flex-md-row justify-content-end align-items-center",children:[(0,y.jsxs)(o.A.Group,{controlId:"startDate",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,y.jsx)(o.A.Label,{children:"Start Date:"}),(0,y.jsx)(o.A.Control,{type:"date",value:z,onChange:e=>{const t=e.target.value;T&&t>=T?x.oR.warning("Start date must be earlier than the end date.",{autoClose:2e3}):(B(t),Y(""))},disabled:G})]}),(0,y.jsxs)(o.A.Group,{controlId:"endDate",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,y.jsx)(o.A.Label,{children:"End Date:"}),(0,y.jsx)(o.A.Control,{type:"date",value:T,onChange:e=>{const t=e.target.value;z&&t<z?x.oR.warning("End date must be later than the start date.",{autoClose:2e3}):(U(t),Y(""))},disabled:G})]}),(0,y.jsxs)(o.A.Group,{controlId:"period",className:"me-md-2 mb-3 mb-md-0 w-100 w-md-auto",children:[(0,y.jsx)(o.A.Label,{children:"Period:"}),(0,y.jsxs)(o.A.Select,{value:G,onChange:e=>{Y(e.target.value),B(""),U("")},disabled:z||T,children:[(0,y.jsx)("option",{value:"",children:"Select Period"}),(0,y.jsx)("option",{value:"lastWeek",children:"Last Week"}),(0,y.jsx)("option",{value:"lastMonth",children:"Last Month"}),(0,y.jsx)("option",{value:"lastYear",children:"Last Year"})]})]}),(0,y.jsxs)(d.A,{variant:"success",onClick:()=>K(!0),className:"align-self-end mx-md-2 w-100 w-md-auto",children:["Download ",(0,y.jsx)(h.mCe,{size:25})]})]})]}),(0,y.jsxs)(n.A,{className:"boxShadow p-3 mb-4 d-flex flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,y.jsx)(l.A,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,y.jsxs)("div",{className:"input-group",children:[(0,y.jsx)("span",{className:"input-group-text",children:(0,y.jsx)(m.YQq,{})}),(0,y.jsx)("input",{type:"text",placeholder:"Search Rental...",className:"form-control",value:E,onChange:e=>F(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ae()}}),E&&(0,y.jsx)("span",{className:"input-group-text",onClick:()=>{F(""),L("")},children:(0,y.jsx)(m.IeJ,{})})]})}),(0,y.jsx)(l.A,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,y.jsx)(d.A,{style:{backgroundColor:e,border:"none"},onClick:ae,disabled:O||""===E,children:O?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):"Search"})})]}),(0,y.jsx)(n.A,{className:"boxShadow p-4 mb-4",children:(0,y.jsx)(u.A,{COLUMNS:re,MOCK_DATA:t,currentPage:S,startIndex:w,endIndex:k,setCurrentPage:N,totalItems:M,totalPages:W})})]})}),(0,y.jsxs)(c.A,{show:q,onHide:()=>K(!1),centered:!0,children:[(0,y.jsx)(c.A.Header,{closeButton:!0,children:(0,y.jsx)(c.A.Title,{children:"Export Data"})}),(0,y.jsxs)(c.A.Body,{children:[(0,y.jsx)(d.A,{variant:"primary",className:"m-2",onClick:()=>se("pdf"),disabled:V,children:V?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting PDF..."]}):"Export as PDF"}),(0,y.jsx)(d.A,{variant:"success",className:"m-2",onClick:()=>se("xlsx"),disabled:V,children:V?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting Excel..."]}):"Export as Excel"}),(0,y.jsx)(d.A,{variant:"warning",className:"m-2",onClick:()=>se("csv"),disabled:V,children:V?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Exporting CSV..."]}):"Export as CSV"})]})]})]})}},39585:()=>{}}]);
//# sourceMappingURL=8135.1616e282.chunk.js.map